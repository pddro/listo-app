@import "tailwindcss";

/* Theme Colors - These can be overridden by AI-generated themes */
:root {
  /* Primary brand colors */
  --primary: #47A1FF;
  --primary-dark: #2B8AE8;
  --primary-light: rgba(71, 161, 255, 0.2);
  --primary-pale: rgba(71, 161, 255, 0.1);
  --primary-glow: rgba(71, 161, 255, 0.4);

  /* Text colors */
  --text-primary: #111827;
  --text-secondary: #6B7280;
  --text-muted: #9CA3AF;
  --text-placeholder: #D1D5DB;

  /* Background colors */
  --bg-primary: #FFFFFF;
  --bg-secondary: #F9FAFB;
  --bg-hover: #F3F4F6;

  /* Border colors */
  --border-light: #F3F4F6;
  --border-medium: #E5E7EB;

  /* Semantic colors */
  --error: #EF4444;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  background: var(--bg-primary);
  color: var(--text-primary);
}

/* ==========================================================================
   UX RULES
   ========================================================================== */

/*
 * RULE: All interactive elements with backgrounds must have horizontal padding.
 * Buttons, tags, badges, and pills should never have text touching the edges.
 * Minimum horizontal padding: 12px (0.75rem) for buttons, 8px (0.5rem) for tags/badges.
 */

/*
 * UX RULE 1: Text Buttons & Tags
 * Do NOT apply blanket padding rules to button elements (breaks checkboxes).
 * Instead, always explicitly add padding classes to text buttons and tags.
 *
 * Minimum recommended padding:
 * - Text buttons: px-4 py-2 (16px horizontal, 8px vertical)
 * - Tags/badges: px-3 py-1 (12px horizontal, 4px vertical)
 * - Icon-only buttons: p-2 (8px) for touch targets
 */

/*
 * UX RULE 2: Containers with Backgrounds
 * Any element with a background color or border MUST have internal padding.
 * Content should NEVER touch the edges of its container.
 *
 * Minimum recommended padding:
 * - Cards/panels: p-4 (16px) or p-5 (20px) or p-6 (24px)
 * - Small containers: p-3 (12px)
 * - List items in cards: py-3 (12px vertical)
 *
 * EXCEPTION: Checkboxes and form inputs have their own styling.
 */

/* Apply minimum padding to common container patterns (excluding checkboxes) */
.card,
.panel,
.container-padded,
[class*="rounded-"][class*="bg-"]:not(.checkbox):not([class*="w-5"]):not([class*="w-4"]):not([class*="h-5"]):not([class*="h-4"]) {
  padding: 16px;
}

/* Ensure bordered containers also get padding */
[class*="rounded-"][class*="border"]:not(.checkbox):not([class*="w-5"]):not([class*="w-4"]):not([class*="h-5"]):not([class*="h-4"]):not(input) {
  padding: 16px;
}

/* ==========================================================================
   END UX RULES
   ========================================================================== */

/* Focus styles */
input:focus,
button:focus {
  outline: none;
}

/* Input placeholder color */
input::placeholder {
  color: var(--text-placeholder);
}

/* Selection color */
::selection {
  background: var(--primary-light);
}

/* Sparkle particle animation */
@keyframes sparkle {
  0% {
    transform: scale(0) translate(0, 0);
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: scale(1) translate(var(--tx), var(--ty));
    opacity: 0;
  }
}

.sparkle-particle {
  position: absolute;
  width: 5px;
  height: 5px;
  background: var(--primary);
  border-radius: 50%;
  pointer-events: none;
  animation: sparkle 600ms ease-out forwards;
}

/* New item highlight effect - simple background flash, no transform to prevent jitter */
@keyframes item-highlight {
  0% {
    background-color: var(--primary-light);
  }
  100% {
    background-color: transparent;
  }
}

.item-new {
  animation: item-highlight 500ms ease-out;
}

/* Slide in class kept for compatibility but no animation to prevent jitter */
.item-slide-in {
  /* Animation removed to prevent jittering with optimistic UI */
}

/* Fade to bottom animation for completed items */
@keyframes fade-complete {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0.6;
  }
}

.item-completing {
  animation: fade-complete 300ms ease-out forwards;
}

/* Fade-in animation for auto-generated titles */
@keyframes title-fade-in {
  0% {
    opacity: 0;
    transform: translateY(-4px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: title-fade-in 500ms ease-out forwards;
}

/* Checkbox styles */
.checkbox {
  transition: all 150ms ease;
}

/* Only show hover effects on devices with true hover (mouse/trackpad) */
@media (hover: hover) {
  .checkbox:hover {
    transform: scale(1.1);
    box-shadow: 0 0 0 3px var(--primary-pale);
    border-color: var(--primary);
  }
}

.checkbox-checked {
  background-color: var(--primary);
  border-color: var(--primary);
}

/* Input focus glow */
.input-focus-glow:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--primary-pale);
}

/* Item hover effect - only on devices with true hover (mouse/trackpad) */
.item-hover {
  transition: background-color 150ms ease;
}

@media (hover: hover) {
  .item-hover:hover {
    background-color: var(--primary-pale);
  }
}

/* Drag styles */
.item-dragging {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transform: rotate(1deg);
}

/* Completed item styles */
.item-completed {
  opacity: 0.5;
}

.item-completed .item-text {
  text-decoration: line-through;
  color: var(--text-muted);
}

/* Error toast fade in up animation */
@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}
