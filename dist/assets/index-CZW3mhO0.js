(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Qg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Kc={exports:{}},cs={};var Gm;function Cb(){if(Gm)return cs;Gm=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:c}}return cs.Fragment=n,cs.jsx=i,cs.jsxs=i,cs}var Vm;function Ob(){return Vm||(Vm=1,Kc.exports=Cb()),Kc.exports}var E=Ob(),Yc={exports:{}},ke={};var Km;function jb(){if(Km)return ke;Km=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function k(T,K,H){this.props=T,this.context=K,this.refs=C,this.updater=H||j}k.prototype.isReactComponent={},k.prototype.setState=function(T,K){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,K,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function N(){}N.prototype=k.prototype;function O(T,K,H){this.props=T,this.context=K,this.refs=C,this.updater=H||j}var P=O.prototype=new N;P.constructor=O,R(P,k.prototype),P.isPureReactComponent=!0;var J=Array.isArray;function Y(){}var q={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ue(T,K,H){var M=H.ref;return{$$typeof:a,type:T,key:K,ref:M!==void 0?M:null,props:H}}function we(T,K){return ue(T.type,K,T.props)}function fe(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function he(T){var K={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return K[H]})}var Te=/\/+/g;function Se(T,K){return typeof T=="object"&&T!==null&&T.key!=null?he(""+T.key):K.toString(36)}function Ee(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Y,Y):(T.status="pending",T.then(function(K){T.status==="pending"&&(T.status="fulfilled",T.value=K)},function(K){T.status==="pending"&&(T.status="rejected",T.reason=K)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function U(T,K,H,M,I){var B=typeof T;(B==="undefined"||B==="boolean")&&(T=null);var te=!1;if(T===null)te=!0;else switch(B){case"bigint":case"string":case"number":te=!0;break;case"object":switch(T.$$typeof){case a:case n:te=!0;break;case y:return te=T._init,U(te(T._payload),K,H,M,I)}}if(te)return I=I(T),te=M===""?"."+Se(T,0):M,J(I)?(H="",te!=null&&(H=te.replace(Te,"$&/")+"/"),U(I,K,H,"",function(G){return G})):I!=null&&(fe(I)&&(I=we(I,H+(I.key==null||T&&T.key===I.key?"":(""+I.key).replace(Te,"$&/")+"/")+te)),K.push(I)),1;te=0;var ae=M===""?".":M+":";if(J(T))for(var re=0;re<T.length;re++)M=T[re],B=ae+Se(M,re),te+=U(M,K,H,B,I);else if(re=S(T),typeof re=="function")for(T=re.call(T),re=0;!(M=T.next()).done;)M=M.value,B=ae+Se(M,re++),te+=U(M,K,H,B,I);else if(B==="object"){if(typeof T.then=="function")return U(Ee(T),K,H,M,I);throw K=String(T),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return te}function X(T,K,H){if(T==null)return T;var M=[],I=0;return U(T,M,"","",function(B){return K.call(H,B,I++)}),M}function le(T){if(T._status===-1){var K=T._result;K=K(),K.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=K)}if(T._status===1)return T._result.default;throw T._result}var ge=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Re={map:X,forEach:function(T,K,H){X(T,function(){K.apply(this,arguments)},H)},count:function(T){var K=0;return X(T,function(){K++}),K},toArray:function(T){return X(T,function(K){return K})||[]},only:function(T){if(!fe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ke.Activity=v,ke.Children=Re,ke.Component=k,ke.Fragment=i,ke.Profiler=o,ke.PureComponent=O,ke.StrictMode=s,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ke.__COMPILER_RUNTIME={__proto__:null,c:function(T){return q.H.useMemoCache(T)}},ke.cache=function(T){return function(){return T.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(T,K,H){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var M=R({},T.props),I=T.key;if(K!=null)for(B in K.key!==void 0&&(I=""+K.key),K)!ee.call(K,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&K.ref===void 0||(M[B]=K[B]);var B=arguments.length-2;if(B===1)M.children=H;else if(1<B){for(var te=Array(B),ae=0;ae<B;ae++)te[ae]=arguments[ae+2];M.children=te}return ue(T.type,I,M)},ke.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},ke.createElement=function(T,K,H){var M,I={},B=null;if(K!=null)for(M in K.key!==void 0&&(B=""+K.key),K)ee.call(K,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(I[M]=K[M]);var te=arguments.length-2;if(te===1)I.children=H;else if(1<te){for(var ae=Array(te),re=0;re<te;re++)ae[re]=arguments[re+2];I.children=ae}if(T&&T.defaultProps)for(M in te=T.defaultProps,te)I[M]===void 0&&(I[M]=te[M]);return ue(T,B,I)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(T){return{$$typeof:p,render:T}},ke.isValidElement=fe,ke.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:le}},ke.memo=function(T,K){return{$$typeof:m,type:T,compare:K===void 0?null:K}},ke.startTransition=function(T){var K=q.T,H={};q.T=H;try{var M=T(),I=q.S;I!==null&&I(H,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(Y,ge)}catch(B){ge(B)}finally{K!==null&&H.types!==null&&(K.types=H.types),q.T=K}},ke.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ke.use=function(T){return q.H.use(T)},ke.useActionState=function(T,K,H){return q.H.useActionState(T,K,H)},ke.useCallback=function(T,K){return q.H.useCallback(T,K)},ke.useContext=function(T){return q.H.useContext(T)},ke.useDebugValue=function(){},ke.useDeferredValue=function(T,K){return q.H.useDeferredValue(T,K)},ke.useEffect=function(T,K){return q.H.useEffect(T,K)},ke.useEffectEvent=function(T){return q.H.useEffectEvent(T)},ke.useId=function(){return q.H.useId()},ke.useImperativeHandle=function(T,K,H){return q.H.useImperativeHandle(T,K,H)},ke.useInsertionEffect=function(T,K){return q.H.useInsertionEffect(T,K)},ke.useLayoutEffect=function(T,K){return q.H.useLayoutEffect(T,K)},ke.useMemo=function(T,K){return q.H.useMemo(T,K)},ke.useOptimistic=function(T,K){return q.H.useOptimistic(T,K)},ke.useReducer=function(T,K,H){return q.H.useReducer(T,K,H)},ke.useRef=function(T){return q.H.useRef(T)},ke.useState=function(T){return q.H.useState(T)},ke.useSyncExternalStore=function(T,K,H){return q.H.useSyncExternalStore(T,K,H)},ke.useTransition=function(){return q.H.useTransition()},ke.version="19.2.3",ke}var Ym;function kd(){return Ym||(Ym=1,Yc.exports=jb()),Yc.exports}var w=kd();const dt=Qg(w);var Pc={exports:{}},ds={},Xc={exports:{}},Jc={};var Pm;function Db(){return Pm||(Pm=1,(function(a){function n(U,X){var le=U.length;U.push(X);e:for(;0<le;){var ge=le-1>>>1,Re=U[ge];if(0<o(Re,X))U[ge]=X,U[le]=Re,le=ge;else break e}}function i(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var X=U[0],le=U.pop();if(le!==X){U[0]=le;e:for(var ge=0,Re=U.length,T=Re>>>1;ge<T;){var K=2*(ge+1)-1,H=U[K],M=K+1,I=U[M];if(0>o(H,le))M<Re&&0>o(I,H)?(U[ge]=I,U[M]=le,ge=M):(U[ge]=H,U[K]=le,ge=K);else if(M<Re&&0>o(I,le))U[ge]=I,U[M]=le,ge=M;else break e}}return X}function o(U,X){var le=U.sortIndex-X.sortIndex;return le!==0?le:U.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var h=[],m=[],y=1,v=null,_=3,S=!1,j=!1,R=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var X=i(m);X!==null;){if(X.callback===null)s(m);else if(X.startTime<=U)s(m),X.sortIndex=X.expirationTime,n(h,X);else break;X=i(m)}}function J(U){if(R=!1,P(U),!j)if(i(h)!==null)j=!0,Y||(Y=!0,he());else{var X=i(m);X!==null&&Ee(J,X.startTime-U)}}var Y=!1,q=-1,ee=5,ue=-1;function we(){return C?!0:!(a.unstable_now()-ue<ee)}function fe(){if(C=!1,Y){var U=a.unstable_now();ue=U;var X=!0;try{e:{j=!1,R&&(R=!1,N(q),q=-1),S=!0;var le=_;try{t:{for(P(U),v=i(h);v!==null&&!(v.expirationTime>U&&we());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,_=v.priorityLevel;var Re=ge(v.expirationTime<=U);if(U=a.unstable_now(),typeof Re=="function"){v.callback=Re,P(U),X=!0;break t}v===i(h)&&s(h),P(U)}else s(h);v=i(h)}if(v!==null)X=!0;else{var T=i(m);T!==null&&Ee(J,T.startTime-U),X=!1}}break e}finally{v=null,_=le,S=!1}X=void 0}}finally{X?he():Y=!1}}}var he;if(typeof O=="function")he=function(){O(fe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Se=Te.port2;Te.port1.onmessage=fe,he=function(){Se.postMessage(null)}}else he=function(){k(fe,0)};function Ee(U,X){q=k(function(){U(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(U){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var le=_;_=X;try{return U()}finally{_=le}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var le=_;_=U;try{return X()}finally{_=le}},a.unstable_scheduleCallback=function(U,X,le){var ge=a.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ge+le:ge):le=ge,U){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=le+Re,U={id:y++,callback:X,priorityLevel:U,startTime:le,expirationTime:Re,sortIndex:-1},le>ge?(U.sortIndex=le,n(m,U),i(h)===null&&U===i(m)&&(R?(N(q),q=-1):R=!0,Ee(J,le-ge))):(U.sortIndex=Re,n(h,U),j||S||(j=!0,Y||(Y=!0,he()))),U},a.unstable_shouldYield=we,a.unstable_wrapCallback=function(U){var X=_;return function(){var le=_;_=X;try{return U.apply(this,arguments)}finally{_=le}}}})(Jc)),Jc}var Xm;function Nb(){return Xm||(Xm=1,Xc.exports=Db()),Xc.exports}var Qc={exports:{}},Kt={};var Jm;function kb(){if(Jm)return Kt;Jm=1;var a=kd();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(h,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:m,implementation:y}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(h,m,null,y)},Kt.flushSync=function(h){var m=f.T,y=s.p;try{if(f.T=null,s.p=2,h)return h()}finally{f.T=m,s.p=y,s.d.f()}},Kt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Kt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Kt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:S}):y==="script"&&s.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Kt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=p(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kt.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=p(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Kt.requestFormReset=function(h){s.d.r(h)},Kt.unstable_batchedUpdates=function(h,m){return h(m)},Kt.useFormState=function(h,m,y){return f.H.useFormState(h,m,y)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var Qm;function Zg(){if(Qm)return Qc.exports;Qm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Qc.exports=kb(),Qc.exports}var Zm;function Ub(){if(Zm)return ds;Zm=1;var a=Nb(),n=kd(),i=Zg();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(s(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return h(u),e;if(d===l)return h(u),t;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=u,l=d;else{for(var g=!1,b=u.child;b;){if(b===r){g=!0,r=u,l=d;break}if(b===l){g=!0,l=u,r=d;break}b=b.sibling}if(!g){for(b=d.child;b;){if(b===r){g=!0,r=d,l=u;break}if(b===l){g=!0,l=d,r=u;break}b=b.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function Se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case J:return"Suspense";case Y:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case O:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}var Ee=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ge=[],Re=-1;function T(e){return{current:e}}function K(e){0>Re||(e.current=ge[Re],ge[Re]=null,Re--)}function H(e,t){Re++,ge[Re]=e.current,e.current=t}var M=T(null),I=T(null),B=T(null),te=T(null);function ae(e,t){switch(H(B,t),H(I,e),H(M,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fm(t),e=hm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(M),H(M,e)}function re(){K(M),K(I),K(B)}function G(e){e.memoizedState!==null&&H(te,e);var t=M.current,r=hm(t,e.type);t!==r&&(H(I,e),H(M,r))}function F(e){I.current===e&&(K(M),K(I)),te.current===e&&(K(te),ss._currentValue=le)}var ne,oe;function se(e){if(ne===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ne=t&&t[1]||"",oe=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+e+oe}var ce=!1;function Oe(e,t){if(!e||ce)return"";ce=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(V){var $=V}Reflect.construct(e,[],W)}else{try{W.call()}catch(V){$=V}e.call(W.prototype)}}else{try{throw Error()}catch(V){$=V}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(V){if(V&&$&&typeof V.stack=="string")return[V.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],b=d[1];if(g&&b){var x=g.split(`
`),L=b.split(`
`);for(u=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;if(l===x.length||u===L.length)for(l=x.length-1,u=L.length-1;1<=l&&0<=u&&x[l]!==L[u];)u--;for(;1<=l&&0<=u;l--,u--)if(x[l]!==L[u]){if(l!==1||u!==1)do if(l--,u--,0>u||x[l]!==L[u]){var Q=`
`+x[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=u);break}}}finally{ce=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?se(r):""}function me(e,t){switch(e.tag){case 26:case 27:case 5:return se(e.type);case 16:return se("Lazy");case 13:return e.child!==t&&t!==null?se("Suspense Fallback"):se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return Oe(e.type,!1);case 11:return Oe(e.type.render,!1);case 1:return Oe(e.type,!0);case 31:return se("Activity");default:return""}}function Ne(e){try{var t="",r=null;do t+=me(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var je=Object.prototype.hasOwnProperty,ye=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Be=a.unstable_requestPaint,De=a.unstable_now,jt=a.unstable_getCurrentPriorityLevel,It=a.unstable_ImmediatePriority,Yt=a.unstable_UserBlockingPriority,Gt=a.unstable_NormalPriority,de=a.unstable_LowPriority,ie=a.unstable_IdlePriority,Le=a.log,lt=a.unstable_setDisableYieldValue,Ue=null,at=null;function Ze(e){if(typeof Le=="function"&&lt(e),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(Ue,e)}catch{}}var rt=Math.clz32?Math.clz32:Mo,Uo=Math.log,Hs=Math.LN2;function Mo(e){return e>>>=0,e===0?32:31-(Uo(e)/Hs|0)|0}var yr=256,vr=262144,yt=4194304;function vt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dt(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var u=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?u=vt(l):(g&=b,g!==0?u=vt(g):r||(r=b&~e,r!==0&&(u=vt(r))))):(b=l&~d,b!==0?u=vt(b):g!==0?u=vt(g):r||(r=l&~e,r!==0&&(u=vt(r)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:u}function Jt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var e=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),e}function Zt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rt(e,t,r,l,u,d){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,L=e.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-rt(r),W=1<<Q;b[Q]=0,x[Q]=-1;var $=L[Q];if($!==null)for(L[Q]=null,Q=0;Q<$.length;Q++){var V=$[Q];V!==null&&(V.lane&=-536870913)}r&=~W}l!==0&&Nn(e,l,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Nn(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-rt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function sn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-rt(r),u=1<<l;u&t|e[l]&t&&(e[l]|=t),r&=~u}}function vn(e,t){var r=t&-t;return r=(r&42)!==0?1:Jn(r),(r&(e.suspendedLanes|t))!==0?0:r}function Jn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function kn(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:zm(e.type))}function ba(e,t){var r=X.p;try{return X.p=e,t()}finally{X.p=r}}var bn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+bn,Wt="__reactProps$"+bn,br="__reactContainer$"+bn,zo="__reactEvents$"+bn,yv="__reactListeners$"+bn,vv="__reactHandles$"+bn,Wd="__reactResources$"+bn,_i="__reactMarker$"+bn;function Lo(e){delete e[Mt],delete e[Wt],delete e[zo],delete e[yv],delete e[vv]}function wr(e){var t=e[Mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[br]||r[Mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wm(e);e!==null;){if(r=e[Mt])return r;e=wm(e)}return t}e=r,r=e.parentNode}return null}function _r(e){if(e=e[Mt]||e[br]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Sr(e){var t=e[Wd];return t||(t=e[Wd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[_i]=!0}var Fd=new Set,ef={};function Pa(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(ef[e]=t,e=0;e<t.length;e++)Fd.add(t[e])}var bv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tf={},nf={};function wv(e){return je.call(nf,e)?!0:je.call(tf,e)?!1:bv.test(e)?nf[e]=!0:(tf[e]=!0,!1)}function Is(e,t,r){if(wv(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Gs(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Zn(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _v(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bo(e){if(!e._valueTracker){var t=af(e)?"checked":"value";e._valueTracker=_v(e,t,""+e[t])}}function rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=af(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sv=/[\n"\\]/g;function _n(e){return e.replace(Sv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qo(e,t,r,l,u,d,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wn(t)):e.value!==""+wn(t)&&(e.value=""+wn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?$o(e,g,wn(t)):r!=null?$o(e,g,wn(r)):l!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+wn(b):e.removeAttribute("name")}function sf(e,t,r,l,u,d,g,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Bo(e);return}r=r!=null?""+wn(r):"",t=t!=null?""+wn(t):r,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Bo(e)}function $o(e,t,r){t==="number"&&Vs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xr(e,t,r,l){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&l&&(e[r].defaultSelected=!0)}else{for(r=""+wn(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function lf(e,t,r){if(t!=null&&(t=""+wn(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+wn(r):""}function of(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(s(92));if(Ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=wn(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Bo(e)}function Tr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ev=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uf(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||Ev.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function cf(e,t,r){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&r[u]!==l&&uf(e,u,l)}else for(var d in t)t.hasOwnProperty(d)&&uf(e,d,t[d])}function Ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return Tv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Io=null;function Go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rr=null,Ar=null;function df(e){var t=_r(e);if(t&&(e=t.stateNode)){var r=e[Wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(qo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var u=l[Wt]||null;if(!u)throw Error(s(90));qo(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&rf(l)}break e;case"textarea":lf(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&xr(e,!!r.multiple,t,!1)}}}var Vo=!1;function ff(e,t,r){if(Vo)return e(t,r);Vo=!0;try{var l=e(t);return l}finally{if(Vo=!1,(Rr!==null||Ar!==null)&&(Nl(),Rr&&(t=Rr,e=Ar,Ar=Rr=null,df(t),e)))for(t=0;t<e.length;t++)df(e[t])}}function Ei(e,t){var r=e.stateNode;if(r===null)return null;var l=r[Wt]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(Fn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Ko=!1}var wa=null,Yo=null,Ys=null;function hf(){if(Ys)return Ys;var e,t=Yo,r=t.length,l,u="value"in wa?wa.value:wa.textContent,d=u.length;for(e=0;e<r&&t[e]===u[e];e++);var g=r-e;for(l=1;l<=g&&t[r-l]===u[d-l];l++);return Ys=u.slice(e,1<l?1-l:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function pf(){return!1}function Ft(e){function t(r,l,u,d,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xs:pf,this.isPropagationStopped=pf,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Ft(Xa),Ti=v({},Xa,{view:0,detail:0}),Rv=Ft(Ti),Po,Xo,Ri,Qs=v({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Po=e.screenX-Ri.screenX,Xo=e.screenY-Ri.screenY):Xo=Po=0,Ri=e),Po)},movementY:function(e){return"movementY"in e?e.movementY:Xo}}),mf=Ft(Qs),Av=v({},Qs,{dataTransfer:0}),Cv=Ft(Av),Ov=v({},Ti,{relatedTarget:0}),Jo=Ft(Ov),jv=v({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Dv=Ft(jv),Nv=v({},Xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kv=Ft(Nv),Uv=v({},Xa,{data:0}),gf=Ft(Uv),Mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lv[e])?!!t[e]:!1}function Qo(){return Bv}var qv=v({},Ti,{key:function(e){if(e.key){var t=Mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$v=Ft(qv),Hv=v({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Ft(Hv),Iv=v({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Gv=Ft(Iv),Vv=v({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=Ft(Vv),Yv=v({},Qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pv=Ft(Yv),Xv=v({},Xa,{newState:0,oldState:0}),Jv=Ft(Xv),Qv=[9,13,27,32],Zo=Fn&&"CompositionEvent"in window,Ai=null;Fn&&"documentMode"in document&&(Ai=document.documentMode);var Zv=Fn&&"TextEvent"in window&&!Ai,vf=Fn&&(!Zo||Ai&&8<Ai&&11>=Ai),bf=" ",wf=!1;function _f(e,t){switch(e){case"keyup":return Qv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function Wv(e,t){switch(e){case"compositionend":return Sf(t);case"keypress":return t.which!==32?null:(wf=!0,bf);case"textInput":return e=t.data,e===bf&&wf?null:e;default:return null}}function Fv(e,t){if(Cr)return e==="compositionend"||!Zo&&_f(e,t)?(e=hf(),Ys=Yo=wa=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vf&&t.locale!=="ko"?null:t.data;default:return null}}var e0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e0[e.type]:t==="textarea"}function xf(e,t,r,l){Rr?Ar?Ar.push(l):Ar=[l]:Rr=l,t=ql(t,"onChange"),0<t.length&&(r=new Js("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Ci=null,Oi=null;function t0(e){sm(e,0)}function Zs(e){var t=Si(e);if(rf(t))return e}function Tf(e,t){if(e==="change")return t}var Rf=!1;if(Fn){var Wo;if(Fn){var Fo="oninput"in document;if(!Fo){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),Fo=typeof Af.oninput=="function"}Wo=Fo}else Wo=!1;Rf=Wo&&(!document.documentMode||9<document.documentMode)}function Cf(){Ci&&(Ci.detachEvent("onpropertychange",Of),Oi=Ci=null)}function Of(e){if(e.propertyName==="value"&&Zs(Oi)){var t=[];xf(t,Oi,e,Go(e)),ff(t0,t)}}function n0(e,t,r){e==="focusin"?(Cf(),Ci=t,Oi=r,Ci.attachEvent("onpropertychange",Of)):e==="focusout"&&Cf()}function a0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zs(Oi)}function r0(e,t){if(e==="click")return Zs(t)}function i0(e,t){if(e==="input"||e==="change")return Zs(t)}function s0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:s0;function ji(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!je.call(t,u)||!ln(e[u],t[u]))return!1}return!0}function jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Df(e,t){var r=jf(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jf(r)}}function Nf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vs(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vs(e.document)}return t}function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var l0=Fn&&"documentMode"in document&&11>=document.documentMode,Or=null,tu=null,Di=null,nu=!1;function Uf(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Or==null||Or!==Vs(l)||(l=Or,"selectionStart"in l&&eu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Di&&ji(Di,l)||(Di=l,l=ql(tu,"onSelect"),0<l.length&&(t=new Js("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=Or)))}function Ja(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jr={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},au={},Mf={};Fn&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Qa(e){if(au[e])return au[e];if(!jr[e])return e;var t=jr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Mf)return au[e]=t[r];return e}var zf=Qa("animationend"),Lf=Qa("animationiteration"),Bf=Qa("animationstart"),o0=Qa("transitionrun"),u0=Qa("transitionstart"),c0=Qa("transitioncancel"),qf=Qa("transitionend"),$f=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function Un(e,t){$f.set(e,t),Pa(t,[e])}var Ws=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Dr=0,iu=0;function Fs(){for(var e=Dr,t=iu=Dr=0;t<e;){var r=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var u=Sn[t];Sn[t++]=null;var d=Sn[t];if(Sn[t++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}d!==0&&Hf(r,u,d)}}function el(e,t,r,l){Sn[Dr++]=e,Sn[Dr++]=t,Sn[Dr++]=r,Sn[Dr++]=l,iu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function su(e,t,r,l){return el(e,t,r,l),tl(e)}function Za(e,t){return el(e,null,null,t),tl(e)}function Hf(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var u=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-rt(r),e=d.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=r|536870912),d):null}function tl(e){if(50<Fi)throw Fi=0,mc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nr={};function d0(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,r,l){return new d0(e,t,r,l)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ea(e,t){var r=e.alternate;return r===null?(r=on(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function If(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nl(e,t,r,l,u,d){var g=0;if(l=e,typeof e=="function")lu(e)&&(g=1);else if(typeof e=="string")g=gb(e,r,M.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=on(31,r,t,u),e.elementType=ue,e.lanes=d,e;case R:return Wa(r.children,u,d,t);case C:g=8,u|=24;break;case k:return e=on(12,r,t,u|2),e.elementType=k,e.lanes=d,e;case J:return e=on(13,r,t,u),e.elementType=J,e.lanes=d,e;case Y:return e=on(19,r,t,u),e.elementType=Y,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:g=10;break e;case N:g=9;break e;case P:g=11;break e;case q:g=14;break e;case ee:g=16,l=null;break e}g=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=on(g,r,t,u),t.elementType=e,t.type=l,t.lanes=d,t}function Wa(e,t,r,l){return e=on(7,e,l,t),e.lanes=r,e}function ou(e,t,r){return e=on(6,e,null,t),e.lanes=r,e}function Gf(e){var t=on(18,null,null,0);return t.stateNode=e,t}function uu(e,t,r){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vf=new WeakMap;function En(e,t){if(typeof e=="object"&&e!==null){var r=Vf.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Ne(t)},Vf.set(e,t),t)}return{value:e,source:t,stack:Ne(t)}}var kr=[],Ur=0,al=null,Ni=0,xn=[],Tn=0,_a=null,Gn=1,Vn="";function ta(e,t){kr[Ur++]=Ni,kr[Ur++]=al,al=e,Ni=t}function Kf(e,t,r){xn[Tn++]=Gn,xn[Tn++]=Vn,xn[Tn++]=_a,_a=e;var l=Gn;e=Vn;var u=32-rt(l)-1;l&=~(1<<u),r+=1;var d=32-rt(t)+u;if(30<d){var g=u-u%5;d=(l&(1<<g)-1).toString(32),l>>=g,u-=g,Gn=1<<32-rt(t)+u|r<<u|l,Vn=d+e}else Gn=1<<d|r<<u|l,Vn=e}function cu(e){e.return!==null&&(ta(e,1),Kf(e,1,0))}function du(e){for(;e===al;)al=kr[--Ur],kr[Ur]=null,Ni=kr[--Ur],kr[Ur]=null;for(;e===_a;)_a=xn[--Tn],xn[Tn]=null,Vn=xn[--Tn],xn[Tn]=null,Gn=xn[--Tn],xn[Tn]=null}function Yf(e,t){xn[Tn++]=Gn,xn[Tn++]=Vn,xn[Tn++]=_a,Gn=t.id,Vn=t.overflow,_a=e}var zt=null,ot=null,Ve=!1,Sa=null,Rn=!1,fu=Error(s(519));function Ea(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ki(En(t,e)),fu}function Pf(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[Mt]=e,t[Wt]=l,r){case"dialog":$e("cancel",t),$e("close",t);break;case"iframe":case"object":case"embed":$e("load",t);break;case"video":case"audio":for(r=0;r<ts.length;r++)$e(ts[r],t);break;case"source":$e("error",t);break;case"img":case"image":case"link":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"input":$e("invalid",t),sf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":$e("invalid",t);break;case"textarea":$e("invalid",t),of(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||cm(t.textContent,r)?(l.popover!=null&&($e("beforetoggle",t),$e("toggle",t)),l.onScroll!=null&&$e("scroll",t),l.onScrollEnd!=null&&$e("scrollend",t),l.onClick!=null&&(t.onclick=Wn),t=!0):t=!1,t||Ea(e,!0)}function Xf(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:zt=zt.return}}function Mr(e){if(e!==zt)return!1;if(!Ve)return Xf(e),Ve=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||jc(e.type,e.memoizedProps)),r=!r),r&&ot&&Ea(e),Xf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ot=bm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ot=bm(e)}else t===27?(t=ot,La(e.type)?(e=Mc,Mc=null,ot=e):ot=t):ot=zt?Cn(e.stateNode.nextSibling):null;return!0}function Fa(){ot=zt=null,Ve=!1}function hu(){var e=Sa;return e!==null&&(an===null?an=e:an.push.apply(an,e),Sa=null),e}function ki(e){Sa===null?Sa=[e]:Sa.push(e)}var pu=T(null),er=null,na=null;function xa(e,t,r){H(pu,t._currentValue),t._currentValue=r}function aa(e){e._currentValue=pu.current,K(pu)}function mu(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function gu(e,t,r,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=u;for(var x=0;x<t.length;x++)if(b.context===t[x]){d.lanes|=r,b=d.alternate,b!==null&&(b.lanes|=r),mu(d.return,r,e),l||(g=null);break e}d=b.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(s(341));g.lanes|=r,d=g.alternate,d!==null&&(d.lanes|=r),mu(g,r,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function zr(e,t,r,l){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var b=u.type;ln(u.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(u===te.current){if(g=u.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ss):e=[ss])}u=u.return}e!==null&&gu(t,e,r,l),t.flags|=262144}function rl(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tr(e){er=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return Jf(er,e)}function il(e,t){return er===null&&tr(e),Jf(e,t)}function Jf(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},na===null){if(e===null)throw Error(s(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return r}var f0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},h0=a.unstable_scheduleCallback,p0=a.unstable_NormalPriority,_t={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new f0,data:new Map,refCount:0}}function Ui(e){e.refCount--,e.refCount===0&&h0(p0,function(){e.controller.abort()})}var Mi=null,vu=0,Lr=0,Br=null;function m0(e,t){if(Mi===null){var r=Mi=[];vu=0,Lr=_c(),Br={status:"pending",value:void 0,then:function(l){r.push(l)}}}return vu++,t.then(Qf,Qf),t}function Qf(){if(--vu===0&&Mi!==null){Br!==null&&(Br.status="fulfilled");var e=Mi;Mi=null,Lr=0,Br=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function g0(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<r.length;u++)(0,r[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var Zf=U.S;U.S=function(e,t){Up=De(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&m0(e,t),Zf!==null&&Zf(e,t)};var nr=T(null);function bu(){var e=nr.current;return e!==null?e:it.pooledCache}function sl(e,t){t===null?H(nr,nr.current):H(nr,t.pool)}function Wf(){var e=bu();return e===null?null:{parent:_t._currentValue,pool:e}}var qr=Error(s(460)),wu=Error(s(474)),ll=Error(s(542)),ol={then:function(){}};function Ff(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eh(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Wn,Wn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nh(e),e;default:if(typeof t.status=="string")t.then(Wn,Wn);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nh(e),e}throw rr=t,qr}}function ar(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(rr=r,qr):r}}var rr=null;function th(){if(rr===null)throw Error(s(459));var e=rr;return rr=null,e}function nh(e){if(e===qr||e===ll)throw Error(s(483))}var $r=null,zi=0;function ul(e){var t=zi;return zi+=1,$r===null&&($r=[]),eh($r,e,t)}function Li(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function cl(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ah(e){function t(D,A){if(e){var z=D.deletions;z===null?(D.deletions=[A],D.flags|=16):z.push(A)}}function r(D,A){if(!e)return null;for(;A!==null;)t(D,A),A=A.sibling;return null}function l(D){for(var A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function u(D,A){return D=ea(D,A),D.index=0,D.sibling=null,D}function d(D,A,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<A?(D.flags|=67108866,A):z):(D.flags|=67108866,A)):(D.flags|=1048576,A)}function g(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,A,z,Z){return A===null||A.tag!==6?(A=ou(z,D.mode,Z),A.return=D,A):(A=u(A,z),A.return=D,A)}function x(D,A,z,Z){var _e=z.type;return _e===R?Q(D,A,z.props.children,Z,z.key):A!==null&&(A.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ee&&ar(_e)===A.type)?(A=u(A,z.props),Li(A,z),A.return=D,A):(A=nl(z.type,z.key,z.props,null,D.mode,Z),Li(A,z),A.return=D,A)}function L(D,A,z,Z){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=uu(z,D.mode,Z),A.return=D,A):(A=u(A,z.children||[]),A.return=D,A)}function Q(D,A,z,Z,_e){return A===null||A.tag!==7?(A=Wa(z,D.mode,Z,_e),A.return=D,A):(A=u(A,z),A.return=D,A)}function W(D,A,z){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ou(""+A,D.mode,z),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return z=nl(A.type,A.key,A.props,null,D.mode,z),Li(z,A),z.return=D,z;case j:return A=uu(A,D.mode,z),A.return=D,A;case ee:return A=ar(A),W(D,A,z)}if(Ee(A)||he(A))return A=Wa(A,D.mode,z,null),A.return=D,A;if(typeof A.then=="function")return W(D,ul(A),z);if(A.$$typeof===O)return W(D,il(D,A),z);cl(D,A)}return null}function $(D,A,z,Z){var _e=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:b(D,A,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===_e?x(D,A,z,Z):null;case j:return z.key===_e?L(D,A,z,Z):null;case ee:return z=ar(z),$(D,A,z,Z)}if(Ee(z)||he(z))return _e!==null?null:Q(D,A,z,Z,null);if(typeof z.then=="function")return $(D,A,ul(z),Z);if(z.$$typeof===O)return $(D,A,il(D,z),Z);cl(D,z)}return null}function V(D,A,z,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return D=D.get(z)||null,b(A,D,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return D=D.get(Z.key===null?z:Z.key)||null,x(A,D,Z,_e);case j:return D=D.get(Z.key===null?z:Z.key)||null,L(A,D,Z,_e);case ee:return Z=ar(Z),V(D,A,z,Z,_e)}if(Ee(Z)||he(Z))return D=D.get(z)||null,Q(A,D,Z,_e,null);if(typeof Z.then=="function")return V(D,A,z,ul(Z),_e);if(Z.$$typeof===O)return V(D,A,z,il(A,Z),_e);cl(A,Z)}return null}function pe(D,A,z,Z){for(var _e=null,Pe=null,ve=A,ze=A=0,Ie=null;ve!==null&&ze<z.length;ze++){ve.index>ze?(Ie=ve,ve=null):Ie=ve.sibling;var Xe=$(D,ve,z[ze],Z);if(Xe===null){ve===null&&(ve=Ie);break}e&&ve&&Xe.alternate===null&&t(D,ve),A=d(Xe,A,ze),Pe===null?_e=Xe:Pe.sibling=Xe,Pe=Xe,ve=Ie}if(ze===z.length)return r(D,ve),Ve&&ta(D,ze),_e;if(ve===null){for(;ze<z.length;ze++)ve=W(D,z[ze],Z),ve!==null&&(A=d(ve,A,ze),Pe===null?_e=ve:Pe.sibling=ve,Pe=ve);return Ve&&ta(D,ze),_e}for(ve=l(ve);ze<z.length;ze++)Ie=V(ve,D,ze,z[ze],Z),Ie!==null&&(e&&Ie.alternate!==null&&ve.delete(Ie.key===null?ze:Ie.key),A=d(Ie,A,ze),Pe===null?_e=Ie:Pe.sibling=Ie,Pe=Ie);return e&&ve.forEach(function(Ia){return t(D,Ia)}),Ve&&ta(D,ze),_e}function xe(D,A,z,Z){if(z==null)throw Error(s(151));for(var _e=null,Pe=null,ve=A,ze=A=0,Ie=null,Xe=z.next();ve!==null&&!Xe.done;ze++,Xe=z.next()){ve.index>ze?(Ie=ve,ve=null):Ie=ve.sibling;var Ia=$(D,ve,Xe.value,Z);if(Ia===null){ve===null&&(ve=Ie);break}e&&ve&&Ia.alternate===null&&t(D,ve),A=d(Ia,A,ze),Pe===null?_e=Ia:Pe.sibling=Ia,Pe=Ia,ve=Ie}if(Xe.done)return r(D,ve),Ve&&ta(D,ze),_e;if(ve===null){for(;!Xe.done;ze++,Xe=z.next())Xe=W(D,Xe.value,Z),Xe!==null&&(A=d(Xe,A,ze),Pe===null?_e=Xe:Pe.sibling=Xe,Pe=Xe);return Ve&&ta(D,ze),_e}for(ve=l(ve);!Xe.done;ze++,Xe=z.next())Xe=V(ve,D,ze,Xe.value,Z),Xe!==null&&(e&&Xe.alternate!==null&&ve.delete(Xe.key===null?ze:Xe.key),A=d(Xe,A,ze),Pe===null?_e=Xe:Pe.sibling=Xe,Pe=Xe);return e&&ve.forEach(function(Ab){return t(D,Ab)}),Ve&&ta(D,ze),_e}function nt(D,A,z,Z){if(typeof z=="object"&&z!==null&&z.type===R&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var _e=z.key;A!==null;){if(A.key===_e){if(_e=z.type,_e===R){if(A.tag===7){r(D,A.sibling),Z=u(A,z.props.children),Z.return=D,D=Z;break e}}else if(A.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ee&&ar(_e)===A.type){r(D,A.sibling),Z=u(A,z.props),Li(Z,z),Z.return=D,D=Z;break e}r(D,A);break}else t(D,A);A=A.sibling}z.type===R?(Z=Wa(z.props.children,D.mode,Z,z.key),Z.return=D,D=Z):(Z=nl(z.type,z.key,z.props,null,D.mode,Z),Li(Z,z),Z.return=D,D=Z)}return g(D);case j:e:{for(_e=z.key;A!==null;){if(A.key===_e)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){r(D,A.sibling),Z=u(A,z.children||[]),Z.return=D,D=Z;break e}else{r(D,A);break}else t(D,A);A=A.sibling}Z=uu(z,D.mode,Z),Z.return=D,D=Z}return g(D);case ee:return z=ar(z),nt(D,A,z,Z)}if(Ee(z))return pe(D,A,z,Z);if(he(z)){if(_e=he(z),typeof _e!="function")throw Error(s(150));return z=_e.call(z),xe(D,A,z,Z)}if(typeof z.then=="function")return nt(D,A,ul(z),Z);if(z.$$typeof===O)return nt(D,A,il(D,z),Z);cl(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,A!==null&&A.tag===6?(r(D,A.sibling),Z=u(A,z),Z.return=D,D=Z):(r(D,A),Z=ou(z,D.mode,Z),Z.return=D,D=Z),g(D)):r(D,A)}return function(D,A,z,Z){try{zi=0;var _e=nt(D,A,z,Z);return $r=null,_e}catch(ve){if(ve===qr||ve===ll)throw ve;var Pe=on(29,ve,null,D.mode);return Pe.lanes=Z,Pe.return=D,Pe}}}var ir=ah(!0),rh=ah(!1),Ta=!1;function _u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=tl(e),Hf(e,null,r),t}return el(e,l,t,r),tl(e)}function Bi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,sn(e,r)}}function Eu(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,r=r.next}while(r!==null);d===null?u=d=t:d=d.next=t}else u=d=t;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var xu=!1;function qi(){if(xu){var e=Br;if(e!==null)throw e}}function $i(e,t,r,l){xu=!1;var u=e.updateQueue;Ta=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var x=b,L=x.next;x.next=null,g===null?d=L:g.next=L,g=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==g&&(b===null?Q.firstBaseUpdate=L:b.next=L,Q.lastBaseUpdate=x))}if(d!==null){var W=u.baseState;g=0,Q=L=x=null,b=d;do{var $=b.lane&-536870913,V=$!==b.lane;if(V?(He&$)===$:(l&$)===$){$!==0&&$===Lr&&(xu=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=e,xe=b;$=t;var nt=r;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){W=pe.call(nt,W,$);break e}W=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,$=typeof pe=="function"?pe.call(nt,W,$):pe,$==null)break e;W=v({},W,$);break e;case 2:Ta=!0}}$=b.callback,$!==null&&(e.flags|=64,V&&(e.flags|=8192),V=u.callbacks,V===null?u.callbacks=[$]:V.push($))}else V={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(L=Q=V,x=W):Q=Q.next=V,g|=$;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;V=b,b=V.next,V.next=null,u.lastBaseUpdate=V,u.shared.pending=null}}while(!0);Q===null&&(x=W),u.baseState=x,u.firstBaseUpdate=L,u.lastBaseUpdate=Q,d===null&&(u.shared.lanes=0),Na|=g,e.lanes=g,e.memoizedState=W}}function ih(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function sh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)ih(r[e],t)}var Hr=T(null),dl=T(0);function lh(e,t){e=fa,H(dl,e),H(Hr,t),fa=e|t.baseLanes}function Tu(){H(dl,fa),H(Hr,Hr.current)}function Ru(){fa=dl.current,K(Hr),K(dl)}var un=T(null),An=null;function Ca(e){var t=e.alternate;H(bt,bt.current&1),H(un,e),An===null&&(t===null||Hr.current!==null||t.memoizedState!==null)&&(An=e)}function Au(e){H(bt,bt.current),H(un,e),An===null&&(An=e)}function oh(e){e.tag===22?(H(bt,bt.current),H(un,e),An===null&&(An=e)):Oa()}function Oa(){H(bt,bt.current),H(un,un.current)}function cn(e){K(un),An===e&&(An=null),K(bt)}var bt=T(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||kc(r)||Uc(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,Me=null,et=null,St=null,hl=!1,Ir=!1,sr=!1,pl=0,Hi=0,Gr=null,y0=0;function pt(){throw Error(s(321))}function Cu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function Ou(e,t,r,l,u,d){return ra=d,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Kh:Vu,sr=!1,d=r(l,u),sr=!1,Ir&&(d=ch(t,r,l,u)),uh(e),d}function uh(e){U.H=Vi;var t=et!==null&&et.next!==null;if(ra=0,St=et=Me=null,hl=!1,Hi=0,Gr=null,t)throw Error(s(300));e===null||Et||(e=e.dependencies,e!==null&&rl(e)&&(Et=!0))}function ch(e,t,r,l){Me=e;var u=0;do{if(Ir&&(Gr=null),Hi=0,Ir=!1,25<=u)throw Error(s(301));if(u+=1,St=et=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=Yh,d=t(r,l)}while(Ir);return d}function v0(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Ii(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Me.flags|=1024),t}function ju(){var e=pl!==0;return pl=0,e}function Du(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Nu(e){if(hl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}hl=!1}ra=0,St=et=Me=null,Ir=!1,Hi=pl=0,Gr=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Me.memoizedState=St=e:St=St.next=e,St}function wt(){if(et===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=St===null?Me.memoizedState:St.next;if(t!==null)St=t,et=e;else{if(e===null)throw Me.alternate===null?Error(s(467)):Error(s(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},St===null?Me.memoizedState=St=e:St=St.next=e}return St}function ml(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ii(e){var t=Hi;return Hi+=1,Gr===null&&(Gr=[]),e=eh(Gr,e,t),t=Me,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Kh:Vu),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ii(e);if(e.$$typeof===O)return Lt(e)}throw Error(s(438,String(e)))}function ku(e){var t=null,r=Me.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=ml(),Me.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=we;return t.index++,r}function ia(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=wt();return Uu(t,et,e)}function Uu(e,t,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var u=e.baseQueue,d=l.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}t.baseQueue=u=d,l.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var b=g=null,x=null,L=t,Q=!1;do{var W=L.lane&-536870913;if(W!==L.lane?(He&W)===W:(ra&W)===W){var $=L.revertLane;if($===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),W===Lr&&(Q=!0);else if((ra&$)===$){L=L.next,$===Lr&&(Q=!0);continue}else W={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(b=x=W,g=d):x=x.next=W,Me.lanes|=$,Na|=$;W=L.action,sr&&r(d,W),d=L.hasEagerState?L.eagerState:r(d,W)}else $={lane:W,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(b=x=$,g=d):x=x.next=$,Me.lanes|=W,Na|=W;L=L.next}while(L!==null&&L!==t);if(x===null?g=d:x.next=b,!ln(d,e.memoizedState)&&(Et=!0,Q&&(r=Br,r!==null)))throw r;e.memoizedState=d,e.baseState=g,e.baseQueue=x,l.lastRenderedState=d}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Mu(e){var t=wt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,u=r.pending,d=t.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do d=e(d,g.action),g=g.next;while(g!==u);ln(d,t.memoizedState)||(Et=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,l]}function dh(e,t,r){var l=Me,u=wt(),d=Ve;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=t();var g=!ln((et||u).memoizedState,r);if(g&&(u.memoizedState=r,Et=!0),u=u.queue,Bu(ph.bind(null,l,u,e),[e]),u.getSnapshot!==t||g||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Vr(9,{destroy:void 0},hh.bind(null,l,u,r,t),null),it===null)throw Error(s(349));d||(ra&127)!==0||fh(l,t,r)}return r}function fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Me.updateQueue,t===null?(t=ml(),Me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hh(e,t,r,l){t.value=r,t.getSnapshot=l,mh(t)&&gh(e)}function ph(e,t,r){return r(function(){mh(t)&&gh(e)})}function mh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch{return!0}}function gh(e){var t=Za(e,2);t!==null&&rn(t,e,2)}function zu(e){var t=Pt();if(typeof e=="function"){var r=e;if(e=r(),sr){Ze(!0);try{r()}finally{Ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function yh(e,t,r,l){return e.baseState=r,Uu(e,et,typeof l=="function"?l:ia)}function b0(e,t,r,l,u){if(wl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};U.T!==null?r(!0):d.isTransition=!1,l(d),r=t.pending,r===null?(d.next=t.pending=d,vh(t,d)):(d.next=r.next,t.pending=r.next=d)}}function vh(e,t){var r=t.action,l=t.payload,u=e.state;if(t.isTransition){var d=U.T,g={};U.T=g;try{var b=r(u,l),x=U.S;x!==null&&x(g,b),bh(e,t,b)}catch(L){Lu(e,t,L)}finally{d!==null&&g.types!==null&&(d.types=g.types),U.T=d}}else try{d=r(u,l),bh(e,t,d)}catch(L){Lu(e,t,L)}}function bh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wh(e,t,l)},function(l){return Lu(e,t,l)}):wh(e,t,r)}function wh(e,t,r){t.status="fulfilled",t.value=r,_h(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,vh(e,r)))}function Lu(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,_h(t),t=t.next;while(t!==l)}e.action=null}function _h(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sh(e,t){return t}function Eh(e,t){if(Ve){var r=it.formState;if(r!==null){e:{var l=Me;if(Ve){if(ot){t:{for(var u=ot,d=Rn;u.nodeType!==8;){if(!d){u=null;break t}if(u=Cn(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){ot=Cn(u.nextSibling),l=u.data==="F!";break e}}Ea(l)}l=!1}l&&(t=r[0])}}return r=Pt(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:t},r.queue=l,r=Ih.bind(null,Me,l),l.dispatch=r,l=zu(!1),d=Gu.bind(null,Me,!1,l.queue),l=Pt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,r=b0.bind(null,Me,u,d,r),u.dispatch=r,l.memoizedState=e,[t,r,!1]}function xh(e){var t=wt();return Th(t,et,e)}function Th(e,t,r){if(t=Uu(e,t,Sh)[0],e=yl(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ii(t)}catch(g){throw g===qr?ll:g}else l=t;t=wt();var u=t.queue,d=u.dispatch;return r!==t.memoizedState&&(Me.flags|=2048,Vr(9,{destroy:void 0},w0.bind(null,u,r),null)),[l,d,e]}function w0(e,t){e.action=t}function Rh(e){var t=wt(),r=et;if(r!==null)return Th(t,r,e);wt(),t=t.memoizedState,r=wt();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function Vr(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=Me.updateQueue,t===null&&(t=ml(),Me.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function Ah(){return wt().memoizedState}function vl(e,t,r,l){var u=Pt();Me.flags|=e,u.memoizedState=Vr(1|t,{destroy:void 0},r,l===void 0?null:l)}function bl(e,t,r,l){var u=wt();l=l===void 0?null:l;var d=u.memoizedState.inst;et!==null&&l!==null&&Cu(l,et.memoizedState.deps)?u.memoizedState=Vr(t,d,r,l):(Me.flags|=e,u.memoizedState=Vr(1|t,d,r,l))}function Ch(e,t){vl(8390656,8,e,t)}function Bu(e,t){bl(2048,8,e,t)}function _0(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=ml(),Me.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function Oh(e){var t=wt().memoizedState;return _0({ref:t,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function jh(e,t){return bl(4,2,e,t)}function Dh(e,t){return bl(4,4,e,t)}function Nh(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kh(e,t,r){r=r!=null?r.concat([e]):null,bl(4,4,Nh.bind(null,t,e),r)}function qu(){}function Uh(e,t){var r=wt();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&Cu(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function Mh(e,t){var r=wt();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&Cu(t,l[1]))return l[0];if(l=e(),sr){Ze(!0);try{e()}finally{Ze(!1)}}return r.memoizedState=[l,t],l}function $u(e,t,r){return r===void 0||(ra&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=zp(),Me.lanes|=e,Na|=e,r)}function zh(e,t,r,l){return ln(r,t)?r:Hr.current!==null?(e=$u(e,r,l),ln(e,t)||(Et=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(He&261930)===0?(Et=!0,e.memoizedState=r):(e=zp(),Me.lanes|=e,Na|=e,t)}function Lh(e,t,r,l,u){var d=X.p;X.p=d!==0&&8>d?d:8;var g=U.T,b={};U.T=b,Gu(e,!1,t,r);try{var x=u(),L=U.S;if(L!==null&&L(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=g0(x,l);Gi(e,t,Q,hn(e))}else Gi(e,t,l,hn(e))}catch(W){Gi(e,t,{then:function(){},status:"rejected",reason:W},hn())}finally{X.p=d,g!==null&&b.types!==null&&(g.types=b.types),U.T=g}}function S0(){}function Hu(e,t,r,l){if(e.tag!==5)throw Error(s(476));var u=Bh(e).queue;Lh(e,u,t,le,r===null?S0:function(){return qh(e),r(l)})}function Bh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:le},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qh(e){var t=Bh(e);t.next===null&&(t=e.alternate.memoizedState),Gi(e,t.next.queue,{},hn())}function Iu(){return Lt(ss)}function $h(){return wt().memoizedState}function Hh(){return wt().memoizedState}function E0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hn();e=Ra(r);var l=Aa(t,e,r);l!==null&&(rn(l,t,r),Bi(l,t,r)),t={cache:yu()},e.payload=t;return}t=t.return}}function x0(e,t,r){var l=hn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},wl(e)?Gh(t,r):(r=su(e,t,r,l),r!==null&&(rn(r,e,l),Vh(r,t,l)))}function Ih(e,t,r){var l=hn();Gi(e,t,r,l)}function Gi(e,t,r,l){var u={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(wl(e))Gh(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,b=d(g,r);if(u.hasEagerState=!0,u.eagerState=b,ln(b,g))return el(e,t,u,0),it===null&&Fs(),!1}catch{}if(r=su(e,t,u,l),r!==null)return rn(r,e,l),Vh(r,t,l),!0}return!1}function Gu(e,t,r,l){if(l={lane:2,revertLane:_c(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wl(e)){if(t)throw Error(s(479))}else t=su(e,r,l,2),t!==null&&rn(t,e,2)}function wl(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Gh(e,t){Ir=hl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Vh(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,sn(e,r)}}var Vi={readContext:Lt,use:gl,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Vi.useEffectEvent=pt;var Kh={readContext:Lt,use:gl,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Ch,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,vl(4194308,4,Nh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vl(4194308,4,e,t)},useInsertionEffect:function(e,t){vl(4,2,e,t)},useMemo:function(e,t){var r=Pt();t=t===void 0?null:t;var l=e();if(sr){Ze(!0);try{e()}finally{Ze(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=Pt();if(r!==void 0){var u=r(t);if(sr){Ze(!0);try{r(t)}finally{Ze(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=x0.bind(null,Me,e),[l.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:function(e){e=zu(e);var t=e.queue,r=Ih.bind(null,Me,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:qu,useDeferredValue:function(e,t){var r=Pt();return $u(r,e,t)},useTransition:function(){var e=zu(!1);return e=Lh.bind(null,Me,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=Me,u=Pt();if(Ve){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),it===null)throw Error(s(349));(He&127)!==0||fh(l,t,r)}u.memoizedState=r;var d={value:r,getSnapshot:t};return u.queue=d,Ch(ph.bind(null,l,d,e),[e]),l.flags|=2048,Vr(9,{destroy:void 0},hh.bind(null,l,d,r,t),null),r},useId:function(){var e=Pt(),t=it.identifierPrefix;if(Ve){var r=Vn,l=Gn;r=(l&~(1<<32-rt(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=pl++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=y0++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Iu,useFormState:Eh,useActionState:Eh,useOptimistic:function(e){var t=Pt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Gu.bind(null,Me,!0,r),r.dispatch=t,[e,t]},useMemoCache:ku,useCacheRefresh:function(){return Pt().memoizedState=E0.bind(null,Me)},useEffectEvent:function(e){var t=Pt(),r={impl:e};return t.memoizedState=r,function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Vu={readContext:Lt,use:gl,useCallback:Uh,useContext:Lt,useEffect:Bu,useImperativeHandle:kh,useInsertionEffect:jh,useLayoutEffect:Dh,useMemo:Mh,useReducer:yl,useRef:Ah,useState:function(){return yl(ia)},useDebugValue:qu,useDeferredValue:function(e,t){var r=wt();return zh(r,et.memoizedState,e,t)},useTransition:function(){var e=yl(ia)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Ii(e),t]},useSyncExternalStore:dh,useId:$h,useHostTransitionStatus:Iu,useFormState:xh,useActionState:xh,useOptimistic:function(e,t){var r=wt();return yh(r,et,e,t)},useMemoCache:ku,useCacheRefresh:Hh};Vu.useEffectEvent=Oh;var Yh={readContext:Lt,use:gl,useCallback:Uh,useContext:Lt,useEffect:Bu,useImperativeHandle:kh,useInsertionEffect:jh,useLayoutEffect:Dh,useMemo:Mh,useReducer:Mu,useRef:Ah,useState:function(){return Mu(ia)},useDebugValue:qu,useDeferredValue:function(e,t){var r=wt();return et===null?$u(r,e,t):zh(r,et.memoizedState,e,t)},useTransition:function(){var e=Mu(ia)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Ii(e),t]},useSyncExternalStore:dh,useId:$h,useHostTransitionStatus:Iu,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,t){var r=wt();return et!==null?yh(r,et,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ku,useCacheRefresh:Hh};Yh.useEffectEvent=Oh;function Ku(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:v({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yu={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=hn(),u=Ra(l);u.payload=t,r!=null&&(u.callback=r),t=Aa(e,u,l),t!==null&&(rn(t,e,l),Bi(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=hn(),u=Ra(l);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Aa(e,u,l),t!==null&&(rn(t,e,l),Bi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hn(),l=Ra(r);l.tag=2,t!=null&&(l.callback=t),t=Aa(e,l,r),t!==null&&(rn(t,e,r),Bi(t,e,r))}};function Ph(e,t,r,l,u,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,g):t.prototype&&t.prototype.isPureReactComponent?!ji(r,l)||!ji(u,d):!0}function Xh(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Yu.enqueueReplaceState(t,t.state,null)}function lr(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=v({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}function Jh(e){Ws(e)}function Qh(e){console.error(e)}function Zh(e){Ws(e)}function _l(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Wh(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Pu(e,t,r){return r=Ra(r),r.tag=3,r.payload={element:null},r.callback=function(){_l(e,t)},r}function Fh(e){return e=Ra(e),e.tag=3,e}function ep(e,t,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;e.payload=function(){return u(d)},e.callback=function(){Wh(t,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Wh(t,r,l),typeof u!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function T0(e,t,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&zr(t,r,u,!0),r=un.current,r!==null){switch(r.tag){case 31:case 13:return An===null?kl():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===ol?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),vc(e,l,u)),!1;case 22:return r.flags|=65536,l===ol?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),vc(e,l,u)),!1}throw Error(s(435,r.tag))}return vc(e,l,u),kl(),!1}if(Ve)return t=un.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==fu&&(e=Error(s(422),{cause:l}),ki(En(e,r)))):(l!==fu&&(t=Error(s(423),{cause:l}),ki(En(t,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=En(l,r),u=Pu(e.stateNode,l,u),Eu(e,u),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=En(d,r),Wi===null?Wi=[d]:Wi.push(d),mt!==4&&(mt=2),t===null)return!0;l=En(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=Pu(r.stateNode,l,e),Eu(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ka===null||!ka.has(d))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Fh(u),ep(u,e,r,l),Eu(r,u),!1}r=r.return}while(r!==null);return!1}var Xu=Error(s(461)),Et=!1;function Bt(e,t,r,l){t.child=e===null?rh(t,null,r,l):ir(t,e.child,r,l)}function tp(e,t,r,l,u){r=r.render;var d=t.ref;if("ref"in l){var g={};for(var b in l)b!=="ref"&&(g[b]=l[b])}else g=l;return tr(t),l=Ou(e,t,r,g,d,u),b=ju(),e!==null&&!Et?(Du(e,t,u),sa(e,t,u)):(Ve&&b&&cu(t),t.flags|=1,Bt(e,t,l,u),t.child)}function np(e,t,r,l,u){if(e===null){var d=r.type;return typeof d=="function"&&!lu(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,ap(e,t,d,l,u)):(e=nl(r.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!nc(e,u)){var g=d.memoizedProps;if(r=r.compare,r=r!==null?r:ji,r(g,l)&&e.ref===t.ref)return sa(e,t,u)}return t.flags|=1,e=ea(d,l),e.ref=t.ref,e.return=t,t.child=e}function ap(e,t,r,l,u){if(e!==null){var d=e.memoizedProps;if(ji(d,l)&&e.ref===t.ref)if(Et=!1,t.pendingProps=l=d,nc(e,u))(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,sa(e,t,u)}return Ju(e,t,r,l,u)}function rp(e,t,r,l){var u=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~d}else l=0,t.child=null;return ip(e,t,d,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&sl(t,d!==null?d.cachePool:null),d!==null?lh(t,d):Tu(),oh(t);else return l=t.lanes=536870912,ip(e,t,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(sl(t,d.cachePool),lh(t,d),Oa(),t.memoizedState=null):(e!==null&&sl(t,null),Tu(),Oa());return Bt(e,t,u,r),t.child}function Ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ip(e,t,r,l,u){var d=bu();return d=d===null?null:{parent:_t._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&sl(t,null),Tu(),oh(t),e!==null&&zr(e,t,l,!0),t.childLanes=u,null}function Sl(e,t){return t=xl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sp(e,t,r){return ir(t,e.child,null,r),e=Sl(t,t.pendingProps),e.flags|=2,cn(t),t.memoizedState=null,e}function R0(e,t,r){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ve){if(l.mode==="hidden")return e=Sl(t,l),t.lanes=536870912,Ki(null,e);if(Au(t),(e=ot)?(e=vm(e,Rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_a!==null?{id:Gn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},r=Gf(e),r.return=t,t.child=r,zt=t,ot=null)):e=null,e===null)throw Ea(t);return t.lanes=536870912,null}return Sl(t,l)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Au(t),u)if(t.flags&256)t.flags&=-257,t=sp(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Et||zr(e,t,r,!1),u=(r&e.childLanes)!==0,Et||u){if(l=it,l!==null&&(g=vn(l,r),g!==0&&g!==d.retryLane))throw d.retryLane=g,Za(e,g),rn(l,e,g),Xu;kl(),t=sp(e,t,r)}else e=d.treeContext,ot=Cn(g.nextSibling),zt=t,Ve=!0,Sa=null,Rn=!1,e!==null&&Yf(t,e),t=Sl(t,l),t.flags|=4096;return t}return e=ea(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function El(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Ju(e,t,r,l,u){return tr(t),r=Ou(e,t,r,l,void 0,u),l=ju(),e!==null&&!Et?(Du(e,t,u),sa(e,t,u)):(Ve&&l&&cu(t),t.flags|=1,Bt(e,t,r,u),t.child)}function lp(e,t,r,l,u,d){return tr(t),t.updateQueue=null,r=ch(t,l,r,u),uh(e),l=ju(),e!==null&&!Et?(Du(e,t,d),sa(e,t,d)):(Ve&&l&&cu(t),t.flags|=1,Bt(e,t,r,d),t.child)}function op(e,t,r,l,u){if(tr(t),t.stateNode===null){var d=Nr,g=r.contextType;typeof g=="object"&&g!==null&&(d=Lt(g)),d=new r(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},_u(t),g=r.contextType,d.context=typeof g=="object"&&g!==null?Lt(g):Nr,d.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Ku(t,r,g,l),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Yu.enqueueReplaceState(d,d.state,null),$i(t,l,d,u),qi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,x=lr(r,b);d.props=x;var L=d.context,Q=r.contextType;g=Nr,typeof Q=="object"&&Q!==null&&(g=Lt(Q));var W=r.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||L!==g)&&Xh(t,d,l,g),Ta=!1;var $=t.memoizedState;d.state=$,$i(t,l,d,u),qi(),L=t.memoizedState,b||$!==L||Ta?(typeof W=="function"&&(Ku(t,r,W,l),L=t.memoizedState),(x=Ta||Ph(t,r,x,l,$,L,g))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=L),d.props=l,d.state=L,d.context=g,l=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Su(e,t),g=t.memoizedProps,Q=lr(r,g),d.props=Q,W=t.pendingProps,$=d.context,L=r.contextType,x=Nr,typeof L=="object"&&L!==null&&(x=Lt(L)),b=r.getDerivedStateFromProps,(L=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==W||$!==x)&&Xh(t,d,l,x),Ta=!1,$=t.memoizedState,d.state=$,$i(t,l,d,u),qi();var V=t.memoizedState;g!==W||$!==V||Ta||e!==null&&e.dependencies!==null&&rl(e.dependencies)?(typeof b=="function"&&(Ku(t,r,b,l),V=t.memoizedState),(Q=Ta||Ph(t,r,Q,l,$,V,x)||e!==null&&e.dependencies!==null&&rl(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,V,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,V,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=V),d.props=l,d.state=V,d.context=x,l=Q):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,El(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=ir(t,e.child,null,u),t.child=ir(t,null,r,u)):Bt(e,t,r,u),t.memoizedState=d.state,e=t.child):e=sa(e,t,u),e}function up(e,t,r,l){return Fa(),t.flags|=256,Bt(e,t,r,l),t.child}var Qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zu(e){return{baseLanes:e,cachePool:Wf()}}function Wu(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=fn),e}function cp(e,t,r){var l=t.pendingProps,u=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(u?Ca(t):Oa(),(e=ot)?(e=vm(e,Rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_a!==null?{id:Gn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},r=Gf(e),r.return=t,t.child=r,zt=t,ot=null)):e=null,e===null)throw Ea(t);return Uc(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,u?(Oa(),u=t.mode,b=xl({mode:"hidden",children:b},u),l=Wa(l,u,r,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Zu(r),l.childLanes=Wu(e,g,r),t.memoizedState=Qu,Ki(null,l)):(Ca(t),Fu(t,b))}var x=e.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)t.flags&256?(Ca(t),t.flags&=-257,t=ec(e,t,r)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),b=l.fallback,u=t.mode,l=xl({mode:"visible",children:l.children},u),b=Wa(b,u,r,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,ir(t,e.child,null,r),l=t.child,l.memoizedState=Zu(r),l.childLanes=Wu(e,g,r),t.memoizedState=Qu,t=Ki(null,l));else if(Ca(t),Uc(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var L=g.dgst;g=L,l=Error(s(419)),l.stack="",l.digest=g,ki({value:l,source:null,stack:null}),t=ec(e,t,r)}else if(Et||zr(e,t,r,!1),g=(r&e.childLanes)!==0,Et||g){if(g=it,g!==null&&(l=vn(g,r),l!==0&&l!==x.retryLane))throw x.retryLane=l,Za(e,l),rn(g,e,l),Xu;kc(b)||kl(),t=ec(e,t,r)}else kc(b)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,ot=Cn(b.nextSibling),zt=t,Ve=!0,Sa=null,Rn=!1,e!==null&&Yf(t,e),t=Fu(t,l.children),t.flags|=4096);return t}return u?(Oa(),b=l.fallback,u=t.mode,x=e.child,L=x.sibling,l=ea(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,L!==null?b=ea(L,b):(b=Wa(b,u,r,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,Ki(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Zu(r):(u=b.cachePool,u!==null?(x=_t._currentValue,u=u.parent!==x?{parent:x,pool:x}:u):u=Wf(),b={baseLanes:b.baseLanes|r,cachePool:u}),l.memoizedState=b,l.childLanes=Wu(e,g,r),t.memoizedState=Qu,Ki(e.child,l)):(Ca(t),r=e.child,e=r.sibling,r=ea(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=r,t.memoizedState=null,r)}function Fu(e,t){return t=xl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xl(e,t){return e=on(22,e,null,t),e.lanes=0,e}function ec(e,t,r){return ir(t,e.child,null,r),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dp(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),mu(e.return,t,r)}function tc(e,t,r,l,u,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=u,g.treeForkCount=d)}function fp(e,t,r){var l=t.pendingProps,u=l.revealOrder,d=l.tail;l=l.children;var g=bt.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,H(bt,g),Bt(e,t,l,r),l=Ve?Ni:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dp(e,r,t);else if(e.tag===19)dp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&fl(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),tc(t,!1,u,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&fl(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}tc(t,!0,r,null,d,l);break;case"together":tc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function sa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(zr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=ea(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ea(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rl(e)))}function A0(e,t,r){switch(t.tag){case 3:ae(t,t.stateNode.containerInfo),xa(t,_t,e.memoizedState.cache),Fa();break;case 27:case 5:G(t);break;case 4:ae(t,t.stateNode.containerInfo);break;case 10:xa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Au(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ca(t),t.flags|=128,null):(r&t.child.childLanes)!==0?cp(e,t,r):(Ca(t),e=sa(e,t,r),e!==null?e.sibling:null);Ca(t);break;case 19:var u=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(zr(e,t,r,!1),l=(r&t.childLanes)!==0),u){if(l)return fp(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(bt,bt.current),l)break;return null;case 22:return t.lanes=0,rp(e,t,r,t.pendingProps);case 24:xa(t,_t,e.memoizedState.cache)}return sa(e,t,r)}function hp(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Et=!0;else{if(!nc(e,r)&&(t.flags&128)===0)return Et=!1,A0(e,t,r);Et=(e.flags&131072)!==0}else Et=!1,Ve&&(t.flags&1048576)!==0&&Kf(t,Ni,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ar(t.elementType),t.type=e,typeof e=="function")lu(e)?(l=lr(e,l),t.tag=1,t=op(null,t,e,l,r)):(t.tag=0,t=Ju(null,t,e,l,r));else{if(e!=null){var u=e.$$typeof;if(u===P){t.tag=11,t=tp(null,t,e,l,r);break e}else if(u===q){t.tag=14,t=np(null,t,e,l,r);break e}}throw t=Se(e)||e,Error(s(306,t,""))}}return t;case 0:return Ju(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,u=lr(l,t.pendingProps),op(e,t,l,u,r);case 3:e:{if(ae(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var d=t.memoizedState;u=d.element,Su(e,t),$i(t,l,null,r);var g=t.memoizedState;if(l=g.cache,xa(t,_t,l),l!==d.cache&&gu(t,[_t],r,!0),qi(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=up(e,t,l,r);break e}else if(l!==u){u=En(Error(s(424)),t),ki(u),t=up(e,t,l,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ot=Cn(e.firstChild),zt=t,Ve=!0,Sa=null,Rn=!0,r=rh(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fa(),l===u){t=sa(e,t,r);break e}Bt(e,t,l,r)}t=t.child}return t;case 26:return El(e,t),e===null?(r=xm(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ve||(r=t.type,e=t.pendingProps,l=$l(B.current).createElement(r),l[Mt]=t,l[Wt]=e,qt(l,r,e),Nt(l),t.stateNode=l):t.memoizedState=xm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),e===null&&Ve&&(l=t.stateNode=_m(t.type,t.pendingProps,B.current),zt=t,Rn=!0,u=ot,La(t.type)?(Mc=u,ot=Cn(l.firstChild)):ot=u),Bt(e,t,t.pendingProps.children,r),El(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((u=l=ot)&&(l=ab(l,t.type,t.pendingProps,Rn),l!==null?(t.stateNode=l,zt=t,ot=Cn(l.firstChild),Rn=!1,u=!0):u=!1),u||Ea(t)),G(t),u=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,l=d.children,jc(u,d)?l=null:g!==null&&jc(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Ou(e,t,v0,null,null,r),ss._currentValue=u),El(e,t),Bt(e,t,l,r),t.child;case 6:return e===null&&Ve&&((e=r=ot)&&(r=rb(r,t.pendingProps,Rn),r!==null?(t.stateNode=r,zt=t,ot=null,e=!0):e=!1),e||Ea(t)),null;case 13:return cp(e,t,r);case 4:return ae(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ir(t,null,l,r):Bt(e,t,l,r),t.child;case 11:return tp(e,t,t.type,t.pendingProps,r);case 7:return Bt(e,t,t.pendingProps,r),t.child;case 8:return Bt(e,t,t.pendingProps.children,r),t.child;case 12:return Bt(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,xa(t,t.type,l.value),Bt(e,t,l.children,r),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,tr(t),u=Lt(u),l=l(u),t.flags|=1,Bt(e,t,l,r),t.child;case 14:return np(e,t,t.type,t.pendingProps,r);case 15:return ap(e,t,t.type,t.pendingProps,r);case 19:return fp(e,t,r);case 31:return R0(e,t,r);case 22:return rp(e,t,r,t.pendingProps);case 24:return tr(t),l=Lt(_t),e===null?(u=bu(),u===null&&(u=it,d=yu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=r),u=d),t.memoizedState={parent:l,cache:u},_u(t),xa(t,_t,u)):((e.lanes&r)!==0&&(Su(e,t),$i(t,null,null,r),qi()),u=e.memoizedState,d=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),xa(t,_t,l)):(l=d.cache,xa(t,_t,l),l!==u.cache&&gu(t,[_t],r,!0))),Bt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function la(e){e.flags|=4}function ac(e,t,r,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if($p())e.flags|=8192;else throw rr=ol,wu}else e.flags&=-16777217}function pp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Om(t))if($p())e.flags|=8192;else throw rr=ol,wu}function Tl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vt():536870912,e.lanes|=t,Xr|=t)}function Yi(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function C0(e,t,r){var l=t.pendingProps;switch(du(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return ut(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),aa(_t),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mr(t)?la(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hu())),ut(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(la(t),d!==null?(ut(t),pp(t,d)):(ut(t),ac(t,u,null,l,r))):d?d!==e.memoizedState?(la(t),ut(t),pp(t,d)):(ut(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&la(t),ut(t),ac(t,u,e,l,r)),null;case 27:if(F(t),r=B.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&la(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return ut(t),null}e=M.current,Mr(t)?Pf(t):(e=_m(u,l,r),t.stateNode=e,la(t))}return ut(t),null;case 5:if(F(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&la(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return ut(t),null}if(d=M.current,Mr(t))Pf(t);else{var g=$l(B.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}d[Mt]=t,d[Wt]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(qt(d,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&la(t)}}return ut(t),ac(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&la(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=B.current,Mr(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,u=zt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||cm(e.nodeValue,r)),e||Ea(t,!0)}else e=$l(e).createTextNode(l),e[Mt]=t,t.stateNode=e}return ut(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=Mr(t),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Mt]=t}else Fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ut(t),e=!1}else r=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(cn(t),t):(cn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return ut(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Mr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[Mt]=t}else Fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ut(t),u=!1}else u=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(cn(t),t):(cn(t),null)}return cn(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Tl(t,t.updateQueue),ut(t),null);case 4:return re(),e===null&&Tc(t.stateNode.containerInfo),ut(t),null;case 10:return aa(t.type),ut(t),null;case 19:if(K(bt),l=t.memoizedState,l===null)return ut(t),null;if(u=(t.flags&128)!==0,d=l.rendering,d===null)if(u)Yi(l,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=fl(e),d!==null){for(t.flags|=128,Yi(l,!1),e=d.updateQueue,t.updateQueue=e,Tl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)If(r,e),r=r.sibling;return H(bt,bt.current&1|2),Ve&&ta(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&De()>jl&&(t.flags|=128,u=!0,Yi(l,!1),t.lanes=4194304)}else{if(!u)if(e=fl(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Tl(t,e),Yi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ve)return ut(t),null}else 2*De()-l.renderingStartTime>jl&&r!==536870912&&(t.flags|=128,u=!0,Yi(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=De(),e.sibling=null,r=bt.current,H(bt,u?r&1|2:r&1),Ve&&ta(t,l.treeForkCount),e):(ut(t),null);case 22:case 23:return cn(t),Ru(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),r=t.updateQueue,r!==null&&Tl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&K(nr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),aa(_t),ut(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function O0(e,t){switch(du(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(_t),re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return F(t),null;case 31:if(t.memoizedState!==null){if(cn(t),t.alternate===null)throw Error(s(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(cn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(bt),null;case 4:return re(),null;case 10:return aa(t.type),null;case 22:case 23:return cn(t),Ru(),e!==null&&K(nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(_t),null;case 25:return null;default:return null}}function mp(e,t){switch(du(t),t.tag){case 3:aa(_t),re();break;case 26:case 27:case 5:F(t);break;case 4:re();break;case 31:t.memoizedState!==null&&cn(t);break;case 13:cn(t);break;case 19:K(bt);break;case 10:aa(t.type);break;case 22:case 23:cn(t),Ru(),e!==null&&K(nr);break;case 24:aa(_t)}}function Pi(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&e)===e){l=void 0;var d=r.create,g=r.inst;l=d(),g.destroy=l}r=r.next}while(r!==u)}}catch(b){Fe(t,t.return,b)}}function ja(e,t,r){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&e)===e){var g=l.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,u=t;var x=r,L=b;try{L()}catch(Q){Fe(u,x,Q)}}}l=l.next}while(l!==d)}}catch(Q){Fe(t,t.return,Q)}}function gp(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{sh(t,r)}catch(l){Fe(e,e.return,l)}}}function yp(e,t,r){r.props=lr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Fe(e,t,l)}}function Xi(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(u){Fe(e,t,u)}}function Kn(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){Fe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Fe(e,t,u)}else r.current=null}function vp(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){Fe(e,e.return,u)}}function rc(e,t,r){try{var l=e.stateNode;Z0(l,e.type,r,t),l[Wt]=t}catch(u){Fe(e,e.return,u)}}function bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sc(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wn));else if(l!==4&&(l===27&&La(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(sc(e,t,r),e=e.sibling;e!==null;)sc(e,t,r),e=e.sibling}function Rl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&La(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Rl(e,t,r),e=e.sibling;e!==null;)Rl(e,t,r),e=e.sibling}function wp(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);qt(t,l,r),t[Mt]=e,t[Wt]=r}catch(d){Fe(e,e.return,d)}}var oa=!1,xt=!1,lc=!1,_p=typeof WeakSet=="function"?WeakSet:Set,kt=null;function j0(e,t){if(e=e.containerInfo,Cc=Pl,e=kf(e),eu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var g=0,b=-1,x=-1,L=0,Q=0,W=e,$=null;t:for(;;){for(var V;W!==r||u!==0&&W.nodeType!==3||(b=g+u),W!==d||l!==0&&W.nodeType!==3||(x=g+l),W.nodeType===3&&(g+=W.nodeValue.length),(V=W.firstChild)!==null;)$=W,W=V;for(;;){if(W===e)break t;if($===r&&++L===u&&(b=g),$===d&&++Q===l&&(x=g),(V=W.nextSibling)!==null)break;W=$,$=W.parentNode}W=V}r=b===-1||x===-1?null:{start:b,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oc={focusedElem:e,selectionRange:r},Pl=!1,kt=t;kt!==null;)if(t=kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,kt=e;else for(;kt!==null;){switch(t=kt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)u=e[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,u=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var pe=lr(r.type,u);e=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(xe){Fe(r,r.return,xe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Nc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,kt=e;break}kt=t.return}}function Sp(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ca(e,r),l&4&&Pi(5,r);break;case 1:if(ca(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(g){Fe(r,r.return,g)}else{var u=lr(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Fe(r,r.return,g)}}l&64&&gp(r),l&512&&Xi(r,r.return);break;case 3:if(ca(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{sh(e,t)}catch(g){Fe(r,r.return,g)}}break;case 27:t===null&&l&4&&wp(r);case 26:case 5:ca(e,r),t===null&&l&4&&vp(r),l&512&&Xi(r,r.return);break;case 12:ca(e,r);break;case 31:ca(e,r),l&4&&Tp(e,r);break;case 13:ca(e,r),l&4&&Rp(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=q0.bind(null,r),ib(e,r))));break;case 22:if(l=r.memoizedState!==null||oa,!l){t=t!==null&&t.memoizedState!==null||xt,u=oa;var d=xt;oa=l,(xt=t)&&!d?da(e,r,(r.subtreeFlags&8772)!==0):ca(e,r),oa=u,xt=d}break;case 30:break;default:ca(e,r)}}function Ep(e){var t=e.alternate;t!==null&&(e.alternate=null,Ep(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Lo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,en=!1;function ua(e,t,r){for(r=r.child;r!==null;)xp(e,t,r),r=r.sibling}function xp(e,t,r){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Ue,r)}catch{}switch(r.tag){case 26:xt||Kn(r,t),ua(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:xt||Kn(r,t);var l=ct,u=en;La(r.type)&&(ct=r.stateNode,en=!1),ua(e,t,r),as(r.stateNode),ct=l,en=u;break;case 5:xt||Kn(r,t);case 6:if(l=ct,u=en,ct=null,ua(e,t,r),ct=l,en=u,ct!==null)if(en)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(r.stateNode)}catch(d){Fe(r,t,d)}else try{ct.removeChild(r.stateNode)}catch(d){Fe(r,t,d)}break;case 18:ct!==null&&(en?(e=ct,gm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ni(e)):gm(ct,r.stateNode));break;case 4:l=ct,u=en,ct=r.stateNode.containerInfo,en=!0,ua(e,t,r),ct=l,en=u;break;case 0:case 11:case 14:case 15:ja(2,r,t),xt||ja(4,r,t),ua(e,t,r);break;case 1:xt||(Kn(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&yp(r,t,l)),ua(e,t,r);break;case 21:ua(e,t,r);break;case 22:xt=(l=xt)||r.memoizedState!==null,ua(e,t,r),xt=l;break;default:ua(e,t,r)}}function Tp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(r){Fe(t,t.return,r)}}}function Rp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(r){Fe(t,t.return,r)}}function D0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _p),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _p),t;default:throw Error(s(435,e.tag))}}function Al(e,t){var r=D0(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var u=$0.bind(null,e,l);l.then(u,u)}})}function tn(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],d=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(La(b.type)){ct=b.stateNode,en=!1;break e}break;case 5:ct=b.stateNode,en=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,en=!0;break e}b=b.return}if(ct===null)throw Error(s(160));xp(d,g,u),ct=null,en=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ap(t,e),t=t.sibling}var Mn=null;function Ap(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(t,e),nn(e),l&4&&(ja(3,e,e.return),Pi(3,e),ja(5,e,e.return));break;case 1:tn(t,e),nn(e),l&512&&(xt||r===null||Kn(r,r.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=Mn;if(tn(t,e),nn(e),l&512&&(xt||r===null||Kn(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":d=u.getElementsByTagName("title")[0],(!d||d[_i]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(l),u.head.insertBefore(d,u.querySelector("head > title"))),qt(d,l,r),d[Mt]=e,Nt(d),l=d;break e;case"link":var g=Am("link","href",u).get(l+(r.href||""));if(g){for(var b=0;b<g.length;b++)if(d=g[b],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(b,1);break t}}d=u.createElement(l),qt(d,l,r),u.head.appendChild(d);break;case"meta":if(g=Am("meta","content",u).get(l+(r.content||""))){for(b=0;b<g.length;b++)if(d=g[b],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(b,1);break t}}d=u.createElement(l),qt(d,l,r),u.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=e,Nt(d),l=d}e.stateNode=l}else Cm(u,e.type,e.stateNode);else e.stateNode=Rm(u,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?Cm(u,e.type,e.stateNode):Rm(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&rc(e,e.memoizedProps,r.memoizedProps)}break;case 27:tn(t,e),nn(e),l&512&&(xt||r===null||Kn(r,r.return)),r!==null&&l&4&&rc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(tn(t,e),nn(e),l&512&&(xt||r===null||Kn(r,r.return)),e.flags&32){u=e.stateNode;try{Tr(u,"")}catch(pe){Fe(e,e.return,pe)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,rc(e,u,r!==null?r.memoizedProps:u)),l&1024&&(lc=!0);break;case 6:if(tn(t,e),nn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(pe){Fe(e,e.return,pe)}}break;case 3:if(Gl=null,u=Mn,Mn=Hl(t.containerInfo),tn(t,e),Mn=u,nn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(pe){Fe(e,e.return,pe)}lc&&(lc=!1,Cp(e));break;case 4:l=Mn,Mn=Hl(e.stateNode.containerInfo),tn(t,e),nn(e),Mn=l;break;case 12:tn(t,e),nn(e);break;case 31:tn(t,e),nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Al(e,l)));break;case 13:tn(t,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ol=De()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Al(e,l)));break;case 22:u=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,L=oa,Q=xt;if(oa=L||u,xt=Q||x,tn(t,e),xt=Q,oa=L,nn(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(r===null||x||oa||xt||or(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){x=r=t;try{if(d=x.stateNode,u)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=x.stateNode;var W=x.memoizedProps.style,$=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(pe){Fe(x,x.return,pe)}}}else if(t.tag===6){if(r===null){x=t;try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(pe){Fe(x,x.return,pe)}}}else if(t.tag===18){if(r===null){x=t;try{var V=x.stateNode;u?ym(V,!0):ym(x.stateNode,!1)}catch(pe){Fe(x,x.return,pe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Al(e,r))));break;case 19:tn(t,e),nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Al(e,l)));break;case 30:break;case 21:break;default:tn(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(bp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var u=r.stateNode,d=ic(e);Rl(e,d,u);break;case 5:var g=r.stateNode;r.flags&32&&(Tr(g,""),r.flags&=-33);var b=ic(e);Rl(e,b,g);break;case 3:case 4:var x=r.stateNode.containerInfo,L=ic(e);sc(e,L,x);break;default:throw Error(s(161))}}catch(Q){Fe(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sp(e,t.alternate,t),t=t.sibling}function or(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ja(4,t,t.return),or(t);break;case 1:Kn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&yp(t,t.return,r),or(t);break;case 27:as(t.stateNode);case 26:case 5:Kn(t,t.return),or(t);break;case 22:t.memoizedState===null&&or(t);break;case 30:or(t);break;default:or(t)}e=e.sibling}}function da(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:da(u,d,r),Pi(4,d);break;case 1:if(da(u,d,r),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(L){Fe(l,l.return,L)}if(l=d,u=l.updateQueue,u!==null){var b=l.stateNode;try{var x=u.shared.hiddenCallbacks;if(x!==null)for(u.shared.hiddenCallbacks=null,u=0;u<x.length;u++)ih(x[u],b)}catch(L){Fe(l,l.return,L)}}r&&g&64&&gp(d),Xi(d,d.return);break;case 27:wp(d);case 26:case 5:da(u,d,r),r&&l===null&&g&4&&vp(d),Xi(d,d.return);break;case 12:da(u,d,r);break;case 31:da(u,d,r),r&&g&4&&Tp(u,d);break;case 13:da(u,d,r),r&&g&4&&Rp(u,d);break;case 22:d.memoizedState===null&&da(u,d,r),Xi(d,d.return);break;case 30:break;default:da(u,d,r)}t=t.sibling}}function oc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ui(r))}function uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e))}function zn(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Op(e,t,r,l),t=t.sibling}function Op(e,t,r,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:zn(e,t,r,l),u&2048&&Pi(9,t);break;case 1:zn(e,t,r,l);break;case 3:zn(e,t,r,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e)));break;case 12:if(u&2048){zn(e,t,r,l),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,b=d.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Fe(t,t.return,x)}}else zn(e,t,r,l);break;case 31:zn(e,t,r,l);break;case 13:zn(e,t,r,l);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?zn(e,t,r,l):Ji(e,t):d._visibility&2?zn(e,t,r,l):(d._visibility|=2,Kr(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&oc(g,t);break;case 24:zn(e,t,r,l),u&2048&&uc(t.alternate,t);break;default:zn(e,t,r,l)}}function Kr(e,t,r,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,b=r,x=l,L=g.flags;switch(g.tag){case 0:case 11:case 15:Kr(d,g,b,x,u),Pi(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Kr(d,g,b,x,u):Ji(d,g):(Q._visibility|=2,Kr(d,g,b,x,u)),u&&L&2048&&oc(g.alternate,g);break;case 24:Kr(d,g,b,x,u),u&&L&2048&&uc(g.alternate,g);break;default:Kr(d,g,b,x,u)}t=t.sibling}}function Ji(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,u=l.flags;switch(l.tag){case 22:Ji(r,l),u&2048&&oc(l.alternate,l);break;case 24:Ji(r,l),u&2048&&uc(l.alternate,l);break;default:Ji(r,l)}t=t.sibling}}var Qi=8192;function Yr(e,t,r){if(e.subtreeFlags&Qi)for(e=e.child;e!==null;)jp(e,t,r),e=e.sibling}function jp(e,t,r){switch(e.tag){case 26:Yr(e,t,r),e.flags&Qi&&e.memoizedState!==null&&yb(r,Mn,e.memoizedState,e.memoizedProps);break;case 5:Yr(e,t,r);break;case 3:case 4:var l=Mn;Mn=Hl(e.stateNode.containerInfo),Yr(e,t,r),Mn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Qi,Qi=16777216,Yr(e,t,r),Qi=l):Yr(e,t,r));break;default:Yr(e,t,r)}}function Dp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];kt=l,kp(l,e)}Dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Np(e),e=e.sibling}function Np(e){switch(e.tag){case 0:case 11:case 15:Zi(e),e.flags&2048&&ja(9,e,e.return);break;case 3:Zi(e);break;case 12:Zi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cl(e)):Zi(e);break;default:Zi(e)}}function Cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];kt=l,kp(l,e)}Dp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ja(8,t,t.return),Cl(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Cl(t));break;default:Cl(t)}e=e.sibling}}function kp(e,t){for(;kt!==null;){var r=kt;switch(r.tag){case 0:case 11:case 15:ja(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ui(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,kt=l;else e:for(r=e;kt!==null;){l=kt;var u=l.sibling,d=l.return;if(Ep(l),l===r){kt=null;break e}if(u!==null){u.return=d,kt=u;break e}kt=d}}}var N0={getCacheForType:function(e){var t=Lt(_t),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Lt(_t).controller.signal}},k0=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,qe=null,He=0,We=0,dn=null,Da=!1,Pr=!1,cc=!1,fa=0,mt=0,Na=0,ur=0,dc=0,fn=0,Xr=0,Wi=null,an=null,fc=!1,Ol=0,Up=0,jl=1/0,Dl=null,ka=null,At=0,Ua=null,Jr=null,ha=0,hc=0,pc=null,Mp=null,Fi=0,mc=null;function hn(){return(Qe&2)!==0&&He!==0?He&-He:U.T!==null?_c():kn()}function zp(){if(fn===0)if((He&536870912)===0||Ve){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),fn=e}else fn=536870912;return e=un.current,e!==null&&(e.flags|=32),fn}function rn(e,t,r){(e===it&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(Qr(e,0),Ma(e,He,fn,!1)),yn(e,r),((Qe&2)===0||e!==it)&&(e===it&&((Qe&2)===0&&(ur|=r),mt===4&&Ma(e,He,fn,!1)),Yn(e))}function Lp(e,t,r){if((Qe&6)!==0)throw Error(s(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Jt(e,t),u=l?z0(e,t):yc(e,t,!0),d=l;do{if(u===0){Pr&&!l&&Ma(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!U0(r)){u=yc(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;u=Wi;var x=b.current.memoizedState.isDehydrated;if(x&&(Qr(b,g).flags|=256),g=yc(b,g,!1),g!==2){if(cc&&!x){b.errorRecoveryDisabledLanes|=d,ur|=d,u=4;break e}d=an,an=u,d!==null&&(an===null?an=d:an.push.apply(an,d))}u=g}if(d=!1,u!==2)continue}}if(u===1){Qr(e,0),Ma(e,t,0,!0);break}e:{switch(l=e,d=u,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Ma(l,t,fn,!Da);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Ol+300-De(),10<u)){if(Ma(l,t,fn,!Da),Dt(l,0,!0)!==0)break e;ha=t,l.timeoutHandle=pm(Bp.bind(null,l,r,an,Dl,fc,t,fn,ur,Xr,Da,d,"Throttled",-0,0),u);break e}Bp(l,r,an,Dl,fc,t,fn,ur,Xr,Da,d,null,-0,0)}}break}while(!0);Yn(e)}function Bp(e,t,r,l,u,d,g,b,x,L,Q,W,$,V){if(e.timeoutHandle=-1,W=t.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},jp(t,d,W);var pe=(d&62914560)===d?Ol-De():(d&4194048)===d?Up-De():0;if(pe=vb(W,pe),pe!==null){ha=d,e.cancelPendingCommit=pe(Yp.bind(null,e,t,d,r,l,u,g,b,x,Q,W,null,$,V)),Ma(e,d,g,!L);return}}Yp(e,t,d,r,l,u,g,b,x)}function U0(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],d=u.getSnapshot;u=u.value;try{if(!ln(d(),u))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ma(e,t,r,l){t&=~dc,t&=~ur,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var d=31-rt(u),g=1<<d;l[d]=-1,u&=~g}r!==0&&Nn(e,r,t)}function Nl(){return(Qe&6)===0?(es(0),!1):!0}function gc(){if(qe!==null){if(We===0)var e=qe.return;else e=qe,na=er=null,Nu(e),$r=null,zi=0,e=qe;for(;e!==null;)mp(e.alternate,e),e=e.return;qe=null}}function Qr(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,eb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ha=0,gc(),it=e,qe=r=ea(e.current,null),He=t,We=0,dn=null,Da=!1,Pr=Jt(e,t),cc=!1,Xr=fn=dc=ur=Na=mt=0,an=Wi=null,fc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-rt(l),d=1<<u;t|=e[u],l&=~d}return fa=t,Fs(),r}function qp(e,t){Me=null,U.H=Vi,t===qr||t===ll?(t=th(),We=3):t===wu?(t=th(),We=4):We=t===Xu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,qe===null&&(mt=1,_l(e,En(t,e.current)))}function $p(){var e=un.current;return e===null?!0:(He&4194048)===He?An===null:(He&62914560)===He||(He&536870912)!==0?e===An:!1}function Hp(){var e=U.H;return U.H=Vi,e===null?Vi:e}function Ip(){var e=U.A;return U.A=N0,e}function kl(){mt=4,Da||(He&4194048)!==He&&un.current!==null||(Pr=!0),(Na&134217727)===0&&(ur&134217727)===0||it===null||Ma(it,He,fn,!1)}function yc(e,t,r){var l=Qe;Qe|=2;var u=Hp(),d=Ip();(it!==e||He!==t)&&(Dl=null,Qr(e,t)),t=!1;var g=mt;e:do try{if(We!==0&&qe!==null){var b=qe,x=dn;switch(We){case 8:gc(),g=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(t=!0);var L=We;if(We=0,dn=null,Zr(e,b,x,L),r&&Pr){g=0;break e}break;default:L=We,We=0,dn=null,Zr(e,b,x,L)}}M0(),g=mt;break}catch(Q){qp(e,Q)}while(!0);return t&&e.shellSuspendCounter++,na=er=null,Qe=l,U.H=u,U.A=d,qe===null&&(it=null,He=0,Fs()),g}function M0(){for(;qe!==null;)Gp(qe)}function z0(e,t){var r=Qe;Qe|=2;var l=Hp(),u=Ip();it!==e||He!==t?(Dl=null,jl=De()+500,Qr(e,t)):Pr=Jt(e,t);e:do try{if(We!==0&&qe!==null){t=qe;var d=dn;t:switch(We){case 1:We=0,dn=null,Zr(e,t,d,1);break;case 2:case 9:if(Ff(d)){We=0,dn=null,Vp(t);break}t=function(){We!==2&&We!==9||it!==e||(We=7),Yn(e)},d.then(t,t);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ff(d)?(We=0,dn=null,Vp(t)):(We=0,dn=null,Zr(e,t,d,7));break;case 5:var g=null;switch(qe.tag){case 26:g=qe.memoizedState;case 5:case 27:var b=qe;if(g?Om(g):b.stateNode.complete){We=0,dn=null;var x=b.sibling;if(x!==null)qe=x;else{var L=b.return;L!==null?(qe=L,Ul(L)):qe=null}break t}}We=0,dn=null,Zr(e,t,d,5);break;case 6:We=0,dn=null,Zr(e,t,d,6);break;case 8:gc(),mt=6;break e;default:throw Error(s(462))}}L0();break}catch(Q){qp(e,Q)}while(!0);return na=er=null,U.H=l,U.A=u,Qe=r,qe!==null?0:(it=null,He=0,Fs(),mt)}function L0(){for(;qe!==null&&!Je();)Gp(qe)}function Gp(e){var t=hp(e.alternate,e,fa);e.memoizedProps=e.pendingProps,t===null?Ul(e):qe=t}function Vp(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=lp(r,t,t.pendingProps,t.type,void 0,He);break;case 11:t=lp(r,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Nu(t);default:mp(r,t),t=qe=If(t,fa),t=hp(r,t,fa)}e.memoizedProps=e.pendingProps,t===null?Ul(e):qe=t}function Zr(e,t,r,l){na=er=null,Nu(t),$r=null,zi=0;var u=t.return;try{if(T0(e,u,t,r,He)){mt=1,_l(e,En(r,e.current)),qe=null;return}}catch(d){if(u!==null)throw qe=u,d;mt=1,_l(e,En(r,e.current)),qe=null;return}t.flags&32768?(Ve||l===1?e=!0:Pr||(He&536870912)!==0?e=!1:(Da=e=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kp(t,e)):Ul(t)}function Ul(e){var t=e;do{if((t.flags&32768)!==0){Kp(t,Da);return}e=t.return;var r=C0(t.alternate,t,fa);if(r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);mt===0&&(mt=5)}function Kp(e,t){do{var r=O0(e.alternate,e);if(r!==null){r.flags&=32767,qe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=r}while(e!==null);mt=6,qe=null}function Yp(e,t,r,l,u,d,g,b,x){e.cancelPendingCommit=null;do Ml();while(At!==0);if((Qe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=iu,Rt(e,r,d,g,b,x),e===it&&(qe=it=null,He=0),Jr=t,Ua=e,ha=r,hc=d,pc=u,Mp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H0(Gt,function(){return Zp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,u=X.p,X.p=2,g=Qe,Qe|=4;try{j0(e,t,r)}finally{Qe=g,X.p=u,U.T=l}}At=1,Pp(),Xp(),Jp()}}function Pp(){if(At===1){At=0;var e=Ua,t=Jr,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var l=X.p;X.p=2;var u=Qe;Qe|=4;try{Ap(t,e);var d=Oc,g=kf(e.containerInfo),b=d.focusedElem,x=d.selectionRange;if(g!==b&&b&&b.ownerDocument&&Nf(b.ownerDocument.documentElement,b)){if(x!==null&&eu(b)){var L=x.start,Q=x.end;if(Q===void 0&&(Q=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min(Q,b.value.length);else{var W=b.ownerDocument||document,$=W&&W.defaultView||window;if($.getSelection){var V=$.getSelection(),pe=b.textContent.length,xe=Math.min(x.start,pe),nt=x.end===void 0?xe:Math.min(x.end,pe);!V.extend&&xe>nt&&(g=nt,nt=xe,xe=g);var D=Df(b,xe),A=Df(b,nt);if(D&&A&&(V.rangeCount!==1||V.anchorNode!==D.node||V.anchorOffset!==D.offset||V.focusNode!==A.node||V.focusOffset!==A.offset)){var z=W.createRange();z.setStart(D.node,D.offset),V.removeAllRanges(),xe>nt?(V.addRange(z),V.extend(A.node,A.offset)):(z.setEnd(A.node,A.offset),V.addRange(z))}}}}for(W=[],V=b;V=V.parentNode;)V.nodeType===1&&W.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var Z=W[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Pl=!!Cc,Oc=Cc=null}finally{Qe=u,X.p=l,U.T=r}}e.current=t,At=2}}function Xp(){if(At===2){At=0;var e=Ua,t=Jr,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var l=X.p;X.p=2;var u=Qe;Qe|=4;try{Sp(e,t.alternate,t)}finally{Qe=u,X.p=l,U.T=r}}At=3}}function Jp(){if(At===4||At===3){At=0,Be();var e=Ua,t=Jr,r=ha,l=Mp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Jr=Ua=null,Qp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ka=null),Qn(r),t=t.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Ue,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=U.T,u=X.p,X.p=2,U.T=null;try{for(var d=e.onRecoverableError,g=0;g<l.length;g++){var b=l[g];d(b.value,{componentStack:b.stack})}}finally{U.T=t,X.p=u}}(ha&3)!==0&&Ml(),Yn(e),u=e.pendingLanes,(r&261930)!==0&&(u&42)!==0?e===mc?Fi++:(Fi=0,mc=e):Fi=0,es(0)}}function Qp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ui(t)))}function Ml(){return Pp(),Xp(),Jp(),Zp()}function Zp(){if(At!==5)return!1;var e=Ua,t=hc;hc=0;var r=Qn(ha),l=U.T,u=X.p;try{X.p=32>r?32:r,U.T=null,r=pc,pc=null;var d=Ua,g=ha;if(At=0,Jr=Ua=null,ha=0,(Qe&6)!==0)throw Error(s(331));var b=Qe;if(Qe|=4,Np(d.current),Op(d,d.current,g,r),Qe=b,es(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Ue,d)}catch{}return!0}finally{X.p=u,U.T=l,Qp(e,t)}}function Wp(e,t,r){t=En(r,t),t=Pu(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(yn(e,2),Yn(e))}function Fe(e,t,r){if(e.tag===3)Wp(e,e,r);else for(;t!==null;){if(t.tag===3){Wp(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ka===null||!ka.has(l))){e=En(r,e),r=Fh(2),l=Aa(t,r,2),l!==null&&(ep(r,l,t,e),yn(l,2),Yn(l));break}}t=t.return}}function vc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new k0;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(r)||(cc=!0,u.add(r),e=B0.bind(null,e,t,r),t.then(e,e))}function B0(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,it===e&&(He&r)===r&&(mt===4||mt===3&&(He&62914560)===He&&300>De()-Ol?(Qe&2)===0&&Qr(e,0):dc|=r,Xr===He&&(Xr=0)),Yn(e)}function Fp(e,t){t===0&&(t=Vt()),e=Za(e,t),e!==null&&(yn(e,t),Yn(e))}function q0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fp(e,r)}function $0(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Fp(e,r)}function H0(e,t){return ye(e,t)}var zl=null,Wr=null,bc=!1,Ll=!1,wc=!1,za=0;function Yn(e){e!==Wr&&e.next===null&&(Wr===null?zl=Wr=e:Wr=Wr.next=e),Ll=!0,bc||(bc=!0,G0())}function es(e,t){if(!wc&&Ll){wc=!0;do for(var r=!1,l=zl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var g=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-rt(42|e)+1)-1,d&=u&~(g&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,am(l,d))}else d=He,d=Dt(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jt(l,d)||(r=!0,am(l,d));l=l.next}while(r);wc=!1}}function I0(){em()}function em(){Ll=bc=!1;var e=0;za!==0&&F0()&&(e=za);for(var t=De(),r=null,l=zl;l!==null;){var u=l.next,d=tm(l,t);d===0?(l.next=null,r===null?zl=u:r.next=u,u===null&&(Wr=r)):(r=l,(e!==0||(d&3)!==0)&&(Ll=!0)),l=u}At!==0&&At!==5||es(e),za!==0&&(za=0)}function tm(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-rt(d),b=1<<g,x=u[g];x===-1?((b&r)===0||(b&l)!==0)&&(u[g]=Qt(b,t)):x<=t&&(e.expiredLanes|=b),d&=~b}if(t=it,r=He,r=Dt(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(We===2||We===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ge(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Jt(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&Ge(l),Qn(r)){case 2:case 8:r=Yt;break;case 32:r=Gt;break;case 268435456:r=ie;break;default:r=Gt}return l=nm.bind(null,e),r=ye(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&Ge(l),e.callbackPriority=2,e.callbackNode=null,2}function nm(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ml()&&e.callbackNode!==r)return null;var l=He;return l=Dt(e,e===it?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Lp(e,l,t),tm(e,De()),e.callbackNode!=null&&e.callbackNode===r?nm.bind(null,e):null)}function am(e,t){if(Ml())return null;Lp(e,t,!0)}function G0(){tb(function(){(Qe&6)!==0?ye(It,I0):em()})}function _c(){if(za===0){var e=Lr;e===0&&(e=yr,yr<<=1,(yr&261888)===0&&(yr=256)),za=e}return za}function rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function im(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function V0(e,t,r,l,u){if(t==="submit"&&r&&r.stateNode===u){var d=rm((u[Wt]||null).action),g=l.submitter;g&&(t=(t=g[Wt]||null)?rm(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var b=new Js("action","action",null,l,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(za!==0){var x=g?im(u,g):new FormData(u);Hu(r,{pending:!0,data:x,method:u.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=g?im(u,g):new FormData(u),Hu(r,{pending:!0,data:x,method:u.method,action:d},d,x))},currentTarget:u}]})}}for(var Sc=0;Sc<ru.length;Sc++){var Ec=ru[Sc],K0=Ec.toLowerCase(),Y0=Ec[0].toUpperCase()+Ec.slice(1);Un(K0,"on"+Y0)}Un(zf,"onAnimationEnd"),Un(Lf,"onAnimationIteration"),Un(Bf,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(o0,"onTransitionRun"),Un(u0,"onTransitionStart"),Un(c0,"onTransitionCancel"),Un(qf,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ts));function sm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],u=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var g=l.length-1;0<=g;g--){var b=l[g],x=b.instance,L=b.currentTarget;if(b=b.listener,x!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=L;try{d(u)}catch(Q){Ws(Q)}u.currentTarget=null,d=x}else for(g=0;g<l.length;g++){if(b=l[g],x=b.instance,L=b.currentTarget,b=b.listener,x!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=L;try{d(u)}catch(Q){Ws(Q)}u.currentTarget=null,d=x}}}}function $e(e,t){var r=t[zo];r===void 0&&(r=t[zo]=new Set);var l=e+"__bubble";r.has(l)||(lm(t,e,2,!1),r.add(l))}function xc(e,t,r){var l=0;t&&(l|=4),lm(r,e,l,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[Bl]){e[Bl]=!0,Fd.forEach(function(r){r!=="selectionchange"&&(P0.has(r)||xc(r,!1,e),xc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,xc("selectionchange",!1,t))}}function lm(e,t,r,l){switch(zm(t)){case 2:var u=_b;break;case 8:u=Sb;break;default:u=$c}r=u.bind(null,t,r,e),u=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Rc(e,t,r,l,u){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var b=l.stateNode.containerInfo;if(b===u)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;b!==null;){if(g=wr(b),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=d=g;continue e}b=b.parentNode}}l=l.return}ff(function(){var L=d,Q=Go(r),W=[];e:{var $=$f.get(e);if($!==void 0){var V=Js,pe=e;switch(e){case"keypress":if(Ps(r)===0)break e;case"keydown":case"keyup":V=$v;break;case"focusin":pe="focus",V=Jo;break;case"focusout":pe="blur",V=Jo;break;case"beforeblur":case"afterblur":V=Jo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Gv;break;case zf:case Lf:case Bf:V=Dv;break;case qf:V=Kv;break;case"scroll":case"scrollend":V=Rv;break;case"wheel":V=Pv;break;case"copy":case"cut":case"paste":V=kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=yf;break;case"toggle":case"beforetoggle":V=Jv}var xe=(t&4)!==0,nt=!xe&&(e==="scroll"||e==="scrollend"),D=xe?$!==null?$+"Capture":null:$;xe=[];for(var A=L,z;A!==null;){var Z=A;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||D===null||(Z=Ei(A,D),Z!=null&&xe.push(ns(A,Z,z))),nt)break;A=A.return}0<xe.length&&($=new V($,pe,null,r,Q),W.push({event:$,listeners:xe}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",$&&r!==Io&&(pe=r.relatedTarget||r.fromElement)&&(wr(pe)||pe[br]))break e;if((V||$)&&($=Q.window===Q?Q:($=Q.ownerDocument)?$.defaultView||$.parentWindow:window,V?(pe=r.relatedTarget||r.toElement,V=L,pe=pe?wr(pe):null,pe!==null&&(nt=c(pe),xe=pe.tag,pe!==nt||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(V=null,pe=L),V!==pe)){if(xe=mf,Z="onMouseLeave",D="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(xe=yf,Z="onPointerLeave",D="onPointerEnter",A="pointer"),nt=V==null?$:Si(V),z=pe==null?$:Si(pe),$=new xe(Z,A+"leave",V,r,Q),$.target=nt,$.relatedTarget=z,Z=null,wr(Q)===L&&(xe=new xe(D,A+"enter",pe,r,Q),xe.target=z,xe.relatedTarget=nt,Z=xe),nt=Z,V&&pe)t:{for(xe=X0,D=V,A=pe,z=0,Z=D;Z;Z=xe(Z))z++;Z=0;for(var _e=A;_e;_e=xe(_e))Z++;for(;0<z-Z;)D=xe(D),z--;for(;0<Z-z;)A=xe(A),Z--;for(;z--;){if(D===A||A!==null&&D===A.alternate){xe=D;break t}D=xe(D),A=xe(A)}xe=null}else xe=null;V!==null&&om(W,$,V,xe,!1),pe!==null&&nt!==null&&om(W,nt,pe,xe,!0)}}e:{if($=L?Si(L):window,V=$.nodeName&&$.nodeName.toLowerCase(),V==="select"||V==="input"&&$.type==="file")var Pe=Tf;else if(Ef($))if(Rf)Pe=i0;else{Pe=a0;var ve=n0}else V=$.nodeName,!V||V.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?L&&Ho(L.elementType)&&(Pe=Tf):Pe=r0;if(Pe&&(Pe=Pe(e,L))){xf(W,Pe,r,Q);break e}ve&&ve(e,$,L),e==="focusout"&&L&&$.type==="number"&&L.memoizedProps.value!=null&&$o($,"number",$.value)}switch(ve=L?Si(L):window,e){case"focusin":(Ef(ve)||ve.contentEditable==="true")&&(Or=ve,tu=L,Di=null);break;case"focusout":Di=tu=Or=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Uf(W,r,Q);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":Uf(W,r,Q)}var ze;if(Zo)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Cr?_f(e,r)&&(Ie="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ie="onCompositionStart");Ie&&(vf&&r.locale!=="ko"&&(Cr||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Cr&&(ze=hf()):(wa=Q,Yo="value"in wa?wa.value:wa.textContent,Cr=!0)),ve=ql(L,Ie),0<ve.length&&(Ie=new gf(Ie,e,null,r,Q),W.push({event:Ie,listeners:ve}),ze?Ie.data=ze:(ze=Sf(r),ze!==null&&(Ie.data=ze)))),(ze=Zv?Wv(e,r):Fv(e,r))&&(Ie=ql(L,"onBeforeInput"),0<Ie.length&&(ve=new gf("onBeforeInput","beforeinput",null,r,Q),W.push({event:ve,listeners:Ie}),ve.data=ze)),V0(W,e,L,r,Q)}sm(W,t)})}function ns(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ql(e,t){for(var r=t+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Ei(e,r),u!=null&&l.unshift(ns(e,u,d)),u=Ei(e,t),u!=null&&l.push(ns(e,u,d))),e.tag===3)return l;e=e.return}return[]}function X0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function om(e,t,r,l,u){for(var d=t._reactName,g=[];r!==null&&r!==l;){var b=r,x=b.alternate,L=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||L===null||(x=L,u?(L=Ei(r,d),L!=null&&g.unshift(ns(r,L,x))):u||(L=Ei(r,d),L!=null&&g.push(ns(r,L,x)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var J0=/\r\n?/g,Q0=/\u0000|\uFFFD/g;function um(e){return(typeof e=="string"?e:""+e).replace(J0,`
`).replace(Q0,"")}function cm(e,t){return t=um(t),um(e)===t}function tt(e,t,r,l,u,d){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Tr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Tr(e,""+l);break;case"className":Gs(e,"class",l);break;case"tabIndex":Gs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(e,r,l);break;case"style":cf(e,l,d);break;case"data":if(t!=="object"){Gs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Ks(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&tt(e,t,"name",u.name,u,null),tt(e,t,"formEncType",u.formEncType,u,null),tt(e,t,"formMethod",u.formMethod,u,null),tt(e,t,"formTarget",u.formTarget,u,null)):(tt(e,t,"encType",u.encType,u,null),tt(e,t,"method",u.method,u,null),tt(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Ks(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"onScroll":l!=null&&$e("scroll",e);break;case"onScrollEnd":l!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Ks(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":$e("beforetoggle",e),$e("toggle",e),Is(e,"popover",l);break;case"xlinkActuate":Zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Is(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xv.get(r)||r,Is(e,r,l))}}function Ac(e,t,r,l,u,d){switch(r){case"style":cf(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Tr(e,l):(typeof l=="number"||typeof l=="bigint")&&Tr(e,""+l);break;case"onScroll":l!=null&&$e("scroll",e);break;case"onScrollEnd":l!=null&&$e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ef.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),t=r.slice(2,u?r.length-7:void 0),d=e[Wt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,u);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Is(e,r,l)}}}function qt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var l=!1,u=!1,d;for(d in r)if(r.hasOwnProperty(d)){var g=r[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:tt(e,t,d,g,r,null)}}u&&tt(e,t,"srcSet",r.srcSet,r,null),l&&tt(e,t,"src",r.src,r,null);return;case"input":$e("invalid",e);var b=d=g=u=null,x=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":u=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":L=Q;break;case"value":d=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,t));break;default:tt(e,t,l,Q,r,null)}}sf(e,d,b,x,L,g,u,!1);return;case"select":$e("invalid",e),l=g=d=null;for(u in r)if(r.hasOwnProperty(u)&&(b=r[u],b!=null))switch(u){case"value":d=b;break;case"defaultValue":g=b;break;case"multiple":l=b;default:tt(e,t,u,b,r,null)}t=d,r=g,e.multiple=!!l,t!=null?xr(e,!!l,t,!1):r!=null&&xr(e,!!l,r,!0);return;case"textarea":$e("invalid",e),d=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(b=r[g],b!=null))switch(g){case"value":l=b;break;case"defaultValue":u=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:tt(e,t,g,b,r,null)}of(e,l,u,d);return;case"option":for(x in r)r.hasOwnProperty(x)&&(l=r[x],l!=null)&&(x==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(e,t,x,l,r,null));return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(l=0;l<ts.length;l++)$e(ts[l],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:tt(e,t,L,l,r,null)}return;default:if(Ho(t)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Ac(e,t,Q,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&tt(e,t,b,l,r,null))}function Z0(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,b=null,x=null,L=null,Q=null;for(V in r){var W=r[V];if(r.hasOwnProperty(V)&&W!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":x=W;default:l.hasOwnProperty(V)||tt(e,t,V,null,l,W)}}for(var $ in l){var V=l[$];if(W=r[$],l.hasOwnProperty($)&&(V!=null||W!=null))switch($){case"type":d=V;break;case"name":u=V;break;case"checked":L=V;break;case"defaultChecked":Q=V;break;case"value":g=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,t));break;default:V!==W&&tt(e,t,$,V,l,W)}}qo(e,g,b,x,L,Q,d,u);return;case"select":V=g=b=$=null;for(d in r)if(x=r[d],r.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":V=x;default:l.hasOwnProperty(d)||tt(e,t,d,null,l,x)}for(u in l)if(d=l[u],x=r[u],l.hasOwnProperty(u)&&(d!=null||x!=null))switch(u){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":g=d;default:d!==x&&tt(e,t,u,d,l,x)}t=b,r=g,l=V,$!=null?xr(e,!!r,$,!1):!!l!=!!r&&(t!=null?xr(e,!!r,t,!0):xr(e,!!r,r?[]:"",!1));return;case"textarea":V=$=null;for(b in r)if(u=r[b],r.hasOwnProperty(b)&&u!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(e,t,b,null,l,u)}for(g in l)if(u=l[g],d=r[g],l.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":$=u;break;case"defaultValue":V=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==d&&tt(e,t,g,u,l,d)}lf(e,$,V);return;case"option":for(var pe in r)$=r[pe],r.hasOwnProperty(pe)&&$!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?e.selected=!1:tt(e,t,pe,null,l,$));for(x in l)$=l[x],V=r[x],l.hasOwnProperty(x)&&$!==V&&($!=null||V!=null)&&(x==="selected"?e.selected=$&&typeof $!="function"&&typeof $!="symbol":tt(e,t,x,$,l,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in r)$=r[xe],r.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe)&&tt(e,t,xe,null,l,$);for(L in l)if($=l[L],V=r[L],l.hasOwnProperty(L)&&$!==V&&($!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:tt(e,t,L,$,l,V)}return;default:if(Ho(t)){for(var nt in r)$=r[nt],r.hasOwnProperty(nt)&&$!==void 0&&!l.hasOwnProperty(nt)&&Ac(e,t,nt,void 0,l,$);for(Q in l)$=l[Q],V=r[Q],!l.hasOwnProperty(Q)||$===V||$===void 0&&V===void 0||Ac(e,t,Q,$,l,V);return}}for(var D in r)$=r[D],r.hasOwnProperty(D)&&$!=null&&!l.hasOwnProperty(D)&&tt(e,t,D,null,l,$);for(W in l)$=l[W],V=r[W],!l.hasOwnProperty(W)||$===V||$==null&&V==null||tt(e,t,W,$,l,V)}function dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var u=r[l],d=u.transferSize,g=u.initiatorType,b=u.duration;if(d&&b&&dm(g)){for(g=0,b=u.responseEnd,l+=1;l<r.length;l++){var x=r[l],L=x.startTime;if(L>b)break;var Q=x.transferSize,W=x.initiatorType;Q&&dm(W)&&(x=x.responseEnd,g+=Q*(x<b?1:(b-L)/(x-L)))}if(--l,t+=8*(d+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cc=null,Oc=null;function $l(e){return e.nodeType===9?e:e.ownerDocument}function fm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dc=null;function F0(){var e=window.event;return e&&e.type==="popstate"?e===Dc?!1:(Dc=e,!0):(Dc=null,!1)}var pm=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(e){return mm.resolve(null).then(e).catch(nb)}:pm;function nb(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function gm(e,t){var r=t,l=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(u),ni(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")as(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,as(r);for(var d=r.firstChild;d;){var g=d.nextSibling,b=d.nodeName;d[_i]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=g}}else r==="body"&&as(e.ownerDocument.body);r=u}while(r);ni(t)}function ym(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Nc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nc(r),Lo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ab(e,t,r,l){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[_i])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function rb(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Cn(e.nextSibling),e===null))return null;return e}function vm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Cn(e.nextSibling),e===null))return null;return e}function kc(e){return e.data==="$?"||e.data==="$~"}function Uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mc=null;function bm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Cn(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function _m(e,t,r){switch(t=$l(r),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function as(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Lo(e)}var On=new Map,Sm=new Set;function Hl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=X.d;X.d={f:sb,r:lb,D:ob,C:ub,L:cb,m:db,X:hb,S:fb,M:pb};function sb(){var e=pa.f(),t=Nl();return e||t}function lb(e){var t=_r(e);t!==null&&t.tag===5&&t.type==="form"?qh(t):pa.r(e)}var Fr=typeof document>"u"?null:document;function Em(e,t,r){var l=Fr;if(l&&typeof t=="string"&&t){var u=_n(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Sm.has(u)||(Sm.add(u),e={rel:e,crossOrigin:r,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),qt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function ob(e){pa.D(e),Em("dns-prefetch",e,null)}function ub(e,t){pa.C(e,t),Em("preconnect",e,t)}function cb(e,t,r){pa.L(e,t,r);var l=Fr;if(l&&e&&t){var u='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+_n(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+_n(r.imageSizes)+'"]')):u+='[href="'+_n(e)+'"]';var d=u;switch(t){case"style":d=ei(e);break;case"script":d=ti(e)}On.has(d)||(e=v({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),On.set(d,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(rs(d))||t==="script"&&l.querySelector(is(d))||(t=l.createElement("link"),qt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function db(e,t){pa.m(e,t);var r=Fr;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',d=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ti(e)}if(!On.has(d)&&(e=v({rel:"modulepreload",href:e},t),On.set(d,e),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(is(d)))return}l=r.createElement("link"),qt(l,"link",e),Nt(l),r.head.appendChild(l)}}}function fb(e,t,r){pa.S(e,t,r);var l=Fr;if(l&&e){var u=Sr(l).hoistableStyles,d=ei(e);t=t||"default";var g=u.get(d);if(!g){var b={loading:0,preload:null};if(g=l.querySelector(rs(d)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},r),(r=On.get(d))&&zc(e,r);var x=g=l.createElement("link");Nt(x),qt(x,"link",e),x._p=new Promise(function(L,Q){x.onload=L,x.onerror=Q}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Il(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:b},u.set(d,g)}}}function hb(e,t){pa.X(e,t);var r=Fr;if(r&&e){var l=Sr(r).hoistableScripts,u=ti(e),d=l.get(u);d||(d=r.querySelector(is(u)),d||(e=v({src:e,async:!0},t),(t=On.get(u))&&Lc(e,t),d=r.createElement("script"),Nt(d),qt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function pb(e,t){pa.M(e,t);var r=Fr;if(r&&e){var l=Sr(r).hoistableScripts,u=ti(e),d=l.get(u);d||(d=r.querySelector(is(u)),d||(e=v({src:e,async:!0,type:"module"},t),(t=On.get(u))&&Lc(e,t),d=r.createElement("script"),Nt(d),qt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function xm(e,t,r,l){var u=(u=B.current)?Hl(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=ei(r.href),r=Sr(u).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ei(r.href);var d=Sr(u).hoistableStyles,g=d.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=u.querySelector(rs(e)))&&!d._p&&(g.instance=d,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),d||mb(u,e,r,g.state))),t&&l===null)throw Error(s(528,""));return g}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(r),r=Sr(u).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ei(e){return'href="'+_n(e)+'"'}function rs(e){return'link[rel="stylesheet"]['+e+"]"}function Tm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function mb(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),qt(t,"link",r),Nt(t),e.head.appendChild(t))}function ti(e){return'[src="'+_n(e)+'"]'}function is(e){return"script[async]"+e}function Rm(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_n(r.href)+'"]');if(l)return t.instance=l,Nt(l),l;var u=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Nt(l),qt(l,"style",u),Il(l,r.precedence,e),t.instance=l;case"stylesheet":u=ei(r.href);var d=e.querySelector(rs(u));if(d)return t.state.loading|=4,t.instance=d,Nt(d),d;l=Tm(r),(u=On.get(u))&&zc(l,u),d=(e.ownerDocument||e).createElement("link"),Nt(d);var g=d;return g._p=new Promise(function(b,x){g.onload=b,g.onerror=x}),qt(d,"link",l),t.state.loading|=4,Il(d,r.precedence,e),t.instance=d;case"script":return d=ti(r.src),(u=e.querySelector(is(d)))?(t.instance=u,Nt(u),u):(l=r,(u=On.get(d))&&(l=v({},r),Lc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Nt(u),qt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Il(l,r.precedence,e));return t.instance}function Il(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,d=u,g=0;g<l.length;g++){var b=l[g];if(b.dataset.precedence===t)d=b;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gl=null;function Am(e,t,r){if(Gl===null){var l=new Map,u=Gl=new Map;u.set(r,l)}else u=Gl,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var d=r[u];if(!(d[_i]||d[Mt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var b=l.get(g);b?b.push(d):l.set(g,[d])}}return l}function Cm(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function gb(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yb(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ei(l.href),d=t.querySelector(rs(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vl.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,Nt(d);return}d=t.ownerDocument||t,l=Tm(l),(u=On.get(u))&&zc(l,u),d=d.createElement("link"),Nt(d);var g=d;g._p=new Promise(function(b,x){g.onload=b,g.onerror=x}),qt(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Vl.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Bc=0;function vb(e,t){return e.stylesheets&&e.count===0&&Yl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Yl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Bc===0&&(Bc=62500*W0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Bc?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kl=null;function Yl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kl=new Map,t.forEach(bb,e),Kl=null,Vl.call(e))}function bb(e,t){if(!(t.state.loading&4)){var r=Kl.get(e);if(r)var l=r.get(null);else{r=new Map,Kl.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=t.instance,g=u.getAttribute("data-precedence"),d=r.get(g)||l,d===l&&r.set(null,u),r.set(g,u),this.count++,l=Vl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ss={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function wb(e,t,r,l,u,d,g,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.hiddenUpdates=Zt(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function jm(e,t,r,l,u,d,g,b,x,L,Q,W){return e=new wb(e,t,r,g,x,L,Q,W,b),t=1,d===!0&&(t|=24),d=on(3,null,null,t),e.current=d,d.stateNode=e,t=yu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:t},_u(d),e}function Dm(e){return e?(e=Nr,e):Nr}function Nm(e,t,r,l,u,d){u=Dm(u),l.context===null?l.context=u:l.pendingContext=u,l=Ra(t),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Aa(e,l,t),r!==null&&(rn(r,e,t),Bi(r,e,t))}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qc(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function Um(e){if(e.tag===13||e.tag===31){var t=Za(e,67108864);t!==null&&rn(t,e,67108864),qc(e,67108864)}}function Mm(e){if(e.tag===13||e.tag===31){var t=hn();t=Jn(t);var r=Za(e,t);r!==null&&rn(r,e,t),qc(e,t)}}var Pl=!0;function _b(e,t,r,l){var u=U.T;U.T=null;var d=X.p;try{X.p=2,$c(e,t,r,l)}finally{X.p=d,U.T=u}}function Sb(e,t,r,l){var u=U.T;U.T=null;var d=X.p;try{X.p=8,$c(e,t,r,l)}finally{X.p=d,U.T=u}}function $c(e,t,r,l){if(Pl){var u=Hc(l);if(u===null)Rc(e,t,l,Xl,r),Lm(e,l);else if(xb(u,e,t,r,l))l.stopPropagation();else if(Lm(e,l),t&4&&-1<Eb.indexOf(e)){for(;u!==null;){var d=_r(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=vt(d.pendingLanes);if(g!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var x=1<<31-rt(g);b.entanglements[1]|=x,g&=~x}Yn(d),(Qe&6)===0&&(jl=De()+500,es(0))}}break;case 31:case 13:b=Za(d,2),b!==null&&rn(b,d,2),Nl(),qc(d,2)}if(d=Hc(l),d===null&&Rc(e,t,l,Xl,r),d===u)break;u=d}u!==null&&l.stopPropagation()}else Rc(e,t,l,null,r)}}function Hc(e){return e=Go(e),Ic(e)}var Xl=null;function Ic(e){if(Xl=null,e=wr(e),e!==null){var t=c(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=p(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xl=e,null}function zm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case It:return 2;case Yt:return 8;case Gt:case de:return 32;case ie:return 268435456;default:return 32}default:return 32}}var Gc=!1,Ba=null,qa=null,$a=null,ls=new Map,os=new Map,Ha=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lm(e,t){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function us(e,t,r,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},t!==null&&(t=_r(t),t!==null&&Um(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function xb(e,t,r,l,u){switch(t){case"focusin":return Ba=us(Ba,e,t,r,l,u),!0;case"dragenter":return qa=us(qa,e,t,r,l,u),!0;case"mouseover":return $a=us($a,e,t,r,l,u),!0;case"pointerover":var d=u.pointerId;return ls.set(d,us(ls.get(d)||null,e,t,r,l,u)),!0;case"gotpointercapture":return d=u.pointerId,os.set(d,us(os.get(d)||null,e,t,r,l,u)),!0}return!1}function Bm(e){var t=wr(e.target);if(t!==null){var r=c(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,ba(e.priority,function(){Mm(r)});return}}else if(t===31){if(t=p(r),t!==null){e.blockedOn=t,ba(e.priority,function(){Mm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hc(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Io=l,r.target.dispatchEvent(l),Io=null}else return t=_r(r),t!==null&&Um(t),e.blockedOn=r,!1;t.shift()}return!0}function qm(e,t,r){Jl(e)&&r.delete(t)}function Tb(){Gc=!1,Ba!==null&&Jl(Ba)&&(Ba=null),qa!==null&&Jl(qa)&&(qa=null),$a!==null&&Jl($a)&&($a=null),ls.forEach(qm),os.forEach(qm)}function Ql(e,t){e.blockedOn===t&&(e.blockedOn=null,Gc||(Gc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Tb)))}var Zl=null;function $m(e){Zl!==e&&(Zl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zl===e&&(Zl=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Ic(l||r)===null)continue;break}var d=_r(r);d!==null&&(e.splice(t,3),t-=3,Hu(d,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function ni(e){function t(x){return Ql(x,e)}Ba!==null&&Ql(Ba,e),qa!==null&&Ql(qa,e),$a!==null&&Ql($a,e),ls.forEach(t),os.forEach(t);for(var r=0;r<Ha.length;r++){var l=Ha[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ha.length&&(r=Ha[0],r.blockedOn===null);)Bm(r),r.blockedOn===null&&Ha.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],d=r[l+1],g=u[Wt]||null;if(typeof d=="function")g||$m(r);else if(g){var b=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[Wt]||null)b=g.formAction;else if(Ic(u)!==null)continue}else b=g.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),$m(r)}}}function Hm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Vc(e){this._internalRoot=e}Wl.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var r=t.current,l=hn();Nm(r,l,e,t,null,null)},Wl.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nm(e.current,2,null,e,null,null),Nl(),t[br]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kn();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ha.length&&t!==0&&t<Ha[r].priority;r++);Ha.splice(r,0,e),r===0&&Bm(e)}};var Im=n.version;if(Im!=="19.2.3")throw Error(s(527,Im,"19.2.3"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Rb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Ue=Fl.inject(Rb),at=Fl}catch{}}return ds.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,l="",u=Jh,d=Qh,g=Zh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=jm(e,1,!1,null,null,r,l,null,u,d,g,Hm),e[br]=t.current,Tc(e),new Vc(t)},ds.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var l=!1,u="",d=Jh,g=Qh,b=Zh,x=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),t=jm(e,1,!0,t,r??null,l,u,x,d,g,b,Hm),t.context=Dm(null),r=t.current,l=hn(),l=Jn(l),u=Ra(l),u.callback=null,Aa(r,u,l),r=l,t.current.lanes=r,yn(t,r),Yn(t),e[br]=t.current,Tc(e),new Wl(t)},ds.version="19.2.3",ds}var Wm;function Mb(){if(Wm)return Pc.exports;Wm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Pc.exports=Ub(),Pc.exports}var zb=Mb();const Lb=Qg(zb);var Fm="popstate";function Bb(a={}){function n(s,o){let{pathname:c,search:f,hash:p}=s.location;return md("",{pathname:c,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Ss(o)}return $b(n,i,null,a)}function ht(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function $n(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function qb(){return Math.random().toString(36).substring(2,10)}function eg(a,n){return{usr:a.state,key:a.key,idx:n}}function md(a,n,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?gi(n):n,state:i,key:n&&n.key||s||qb()}}function Ss({pathname:a="/",search:n="",hash:i=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function gi(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(n.search=a.substring(s),a=a.substring(0,s)),a&&(n.pathname=a)}return n}function $b(a,n,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,p="POP",h=null,m=y();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function y(){return(f.state||{idx:null}).idx}function v(){p="POP";let C=y(),k=C==null?null:C-m;m=C,h&&h({action:p,location:R.location,delta:k})}function _(C,k){p="PUSH";let N=md(R.location,C,k);m=y()+1;let O=eg(N,m),P=R.createHref(N);try{f.pushState(O,"",P)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(P)}c&&h&&h({action:p,location:R.location,delta:1})}function S(C,k){p="REPLACE";let N=md(R.location,C,k);m=y();let O=eg(N,m),P=R.createHref(N);f.replaceState(O,"",P),c&&h&&h({action:p,location:R.location,delta:0})}function j(C){return Hb(C)}let R={get action(){return p},get location(){return a(o,f)},listen(C){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Fm,v),h=C,()=>{o.removeEventListener(Fm,v),h=null}},createHref(C){return n(o,C)},createURL:j,encodeLocation(C){let k=j(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:S,go(C){return f.go(C)}};return R}function Hb(a,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ht(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Ss(a);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Wg(a,n,i="/"){return Ib(a,n,i,!1)}function Ib(a,n,i,s){let o=typeof n=="string"?gi(n):n,c=ya(o.pathname||"/",i);if(c==null)return null;let f=Fg(a);Gb(f);let p=null;for(let h=0;p==null&&h<f.length;++h){let m=ew(c);p=Wb(f[h],m,s)}return p}function Fg(a,n=[],i=[],s="",o=!1){let c=(f,p,h=o,m)=>{let y={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&h)return;ht(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=ga([s,y.relativePath]),_=i.concat(y);f.children&&f.children.length>0&&(ht(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Fg(f.children,n,_,v,h)),!(f.path==null&&!f.index)&&n.push({path:v,score:Qb(v,f.index),routesMeta:_})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let h of ey(f.path))c(f,p,!0,h)}),n}function ey(a){let n=a.split("/");if(n.length===0)return[];let[i,...s]=n,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=ey(s.join("/")),p=[];return p.push(...f.map(h=>h===""?c:[c,h].join("/"))),o&&p.push(...f),p.map(h=>a.startsWith("/")&&h===""?"/":h)}function Gb(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:Zb(n.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Vb=/^:[\w-]+$/,Kb=3,Yb=2,Pb=1,Xb=10,Jb=-2,tg=a=>a==="*";function Qb(a,n){let i=a.split("/"),s=i.length;return i.some(tg)&&(s+=Jb),n&&(s+=Yb),i.filter(o=>!tg(o)).reduce((o,c)=>o+(Vb.test(c)?Kb:c===""?Pb:Xb),s)}function Zb(a,n){return a.length===n.length&&a.slice(0,-1).every((s,o)=>s===n[o])?a[a.length-1]-n[n.length-1]:0}function Wb(a,n,i=!1){let{routesMeta:s}=a,o={},c="/",f=[];for(let p=0;p<s.length;++p){let h=s[p],m=p===s.length-1,y=c==="/"?n:n.slice(c.length)||"/",v=co({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),_=h.route;if(!v&&m&&i&&!s[s.length-1].route.index&&(v=co({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:ga([c,v.pathname]),pathnameBase:rw(ga([c,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(c=ga([c,v.pathnameBase]))}return f}function co(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=Fb(a.path,a.caseSensitive,a.end),o=n.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},_)=>{if(y==="*"){let j=p[_]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const S=p[_];return v&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:a}}function Fb(a,n=!1,i=!0){$n(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,h)=>(s.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function ew(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return $n(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function ya(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tw=a=>ty.test(a);function nw(a,n="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?gi(a):a,c;if(i)if(tw(i))c=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?c=ng(i.substring(1),"/"):c=ng(i,n)}else c=n;return{pathname:c,search:iw(s),hash:sw(o)}}function ng(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Zc(a,n,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aw(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function ny(a){let n=aw(a);return n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase)}function ay(a,n,i,s=!1){let o;typeof a=="string"?o=gi(a):(o={...a},ht(!o.pathname||!o.pathname.includes("?"),Zc("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Zc("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Zc("#","search","hash",o)));let c=a===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=i;else{let v=n.length-1;if(!s&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),v-=1;o.pathname=_.join("/")}p=v>=0?n[v]:"/"}let h=nw(o,p),m=f&&f!=="/"&&f.endsWith("/"),y=(c||f===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var ga=a=>a.join("/").replace(/\/\/+/g,"/"),rw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),iw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,sw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,lw=class{constructor(a,n,i,s=!1){this.status=a,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function ow(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function uw(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ry=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iy(a,n){let i=a;if(typeof i!="string"||!ty.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(ry)try{let c=new URL(window.location.href),f=i.startsWith("//")?new URL(c.protocol+i):new URL(i),p=ya(f.pathname,n);f.origin===c.origin&&p!=null?i=p+f.search+f.hash:o=!0}catch{$n(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sy=["POST","PUT","PATCH","DELETE"];new Set(sy);var cw=["GET",...sy];new Set(cw);var yi=w.createContext(null);yi.displayName="DataRouter";var Eo=w.createContext(null);Eo.displayName="DataRouterState";var dw=w.createContext(!1),ly=w.createContext({isTransitioning:!1});ly.displayName="ViewTransition";var fw=w.createContext(new Map);fw.displayName="Fetchers";var hw=w.createContext(null);hw.displayName="Await";var Dn=w.createContext(null);Dn.displayName="Navigation";var ks=w.createContext(null);ks.displayName="Location";var Xn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Ud=w.createContext(null);Ud.displayName="RouteError";var oy="REACT_ROUTER_ERROR",pw="REDIRECT",mw="ROUTE_ERROR_RESPONSE";function gw(a){if(a.startsWith(`${oy}:${pw}:{`))try{let n=JSON.parse(a.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function yw(a){if(a.startsWith(`${oy}:${mw}:{`))try{let n=JSON.parse(a.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new lw(n.status,n.statusText,n.data)}catch{}}function vw(a,{relative:n}={}){ht(Us(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=w.useContext(Dn),{hash:o,pathname:c,search:f}=Ms(a,{relative:n}),p=c;return i!=="/"&&(p=c==="/"?i:ga([i,c])),s.createHref({pathname:p,search:f,hash:o})}function Us(){return w.useContext(ks)!=null}function gr(){return ht(Us(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ks).location}var uy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cy(a){w.useContext(Dn).static||w.useLayoutEffect(a)}function dy(){let{isDataRoute:a}=w.useContext(Xn);return a?Nw():bw()}function bw(){ht(Us(),"useNavigate() may be used only in the context of a <Router> component.");let a=w.useContext(yi),{basename:n,navigator:i}=w.useContext(Dn),{matches:s}=w.useContext(Xn),{pathname:o}=gr(),c=JSON.stringify(ny(s)),f=w.useRef(!1);return cy(()=>{f.current=!0}),w.useCallback((h,m={})=>{if($n(f.current,uy),!f.current)return;if(typeof h=="number"){i.go(h);return}let y=ay(h,JSON.parse(c),o,m.relative==="path");a==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:ga([n,y.pathname])),(m.replace?i.replace:i.push)(y,m.state,m)},[n,i,c,o,a])}w.createContext(null);function ww(){let{matches:a}=w.useContext(Xn),n=a[a.length-1];return n?n.params:{}}function Ms(a,{relative:n}={}){let{matches:i}=w.useContext(Xn),{pathname:s}=gr(),o=JSON.stringify(ny(i));return w.useMemo(()=>ay(a,JSON.parse(o),s,n==="path"),[a,o,s,n])}function _w(a,n){return fy(a,n)}function fy(a,n,i,s,o){ht(Us(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=w.useContext(Dn),{matches:f}=w.useContext(Xn),p=f[f.length-1],h=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let N=v&&v.path||"";py(m,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=gr(),S;if(n){let N=typeof n=="string"?gi(n):n;ht(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=_;let j=S.pathname||"/",R=j;if(y!=="/"){let N=y.replace(/^\//,"").split("/");R="/"+j.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=Wg(a,{pathname:R});$n(v||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$n(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Rw(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:ga([y,c.encodeLocation?c.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:ga([y,c.encodeLocation?c.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),f,i,s,o);return n&&k?w.createElement(ks.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function Sw(){let a=Dw(),n=ow(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},n),i?w.createElement("pre",{style:o},i):null,f)}var Ew=w.createElement(Sw,null),hy=class extends w.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const i=yw(a.digest);i&&(a=i)}let n=a!==void 0?w.createElement(Xn.Provider,{value:this.props.routeContext},w.createElement(Ud.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?w.createElement(xw,{error:a},n):n}};hy.contextType=dw;var Wc=new WeakMap;function xw({children:a,error:n}){let{basename:i}=w.useContext(Dn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=gw(n.digest);if(s){let o=Wc.get(n);if(o)throw o;let c=iy(s.location,i);if(ry&&!Wc.get(n))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw Wc.set(n,f),f}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return a}function Tw({routeContext:a,match:n,children:i}){let s=w.useContext(yi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Xn.Provider,{value:a},i)}function Rw(a,n=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let c=a,f=i?.errors;if(f!=null){let y=c.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);ht(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,h=-1;if(i)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=y),v.route.id){let{loaderData:_,errors:S}=i,j=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||j){p=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}let m=i&&s?(y,v)=>{s(y,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:uw(i.matches),errorInfo:v})}:void 0;return c.reduceRight((y,v,_)=>{let S,j=!1,R=null,C=null;i&&(S=f&&v.route.id?f[v.route.id]:void 0,R=v.route.errorElement||Ew,p&&(h<0&&_===0?(py("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,C=null):h===_&&(j=!0,C=v.route.hydrateFallbackElement||null)));let k=n.concat(c.slice(0,_+1)),N=()=>{let O;return S?O=R:j?O=C:v.route.Component?O=w.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=y,w.createElement(Tw,{match:v,routeContext:{outlet:y,matches:k,isDataRoute:i!=null},children:O})};return i&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?w.createElement(hy,{location:i.location,revalidation:i.revalidation,component:R,error:S,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):N()},null)}function Md(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aw(a){let n=w.useContext(yi);return ht(n,Md(a)),n}function Cw(a){let n=w.useContext(Eo);return ht(n,Md(a)),n}function Ow(a){let n=w.useContext(Xn);return ht(n,Md(a)),n}function zd(a){let n=Ow(a),i=n.matches[n.matches.length-1];return ht(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function jw(){return zd("useRouteId")}function Dw(){let a=w.useContext(Ud),n=Cw("useRouteError"),i=zd("useRouteError");return a!==void 0?a:n.errors?.[i]}function Nw(){let{router:a}=Aw("useNavigate"),n=zd("useNavigate"),i=w.useRef(!1);return cy(()=>{i.current=!0}),w.useCallback(async(o,c={})=>{$n(i.current,uy),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:n,...c}))},[a,n])}var ag={};function py(a,n,i){!n&&!ag[a]&&(ag[a]=!0,$n(!1,i))}w.memo(kw);function kw({routes:a,future:n,state:i,onError:s}){return fy(a,void 0,i,s,n)}function gd(a){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uw({basename:a="/",children:n=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){ht(!Us(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[p,o,c,f]);typeof i=="string"&&(i=gi(i));let{pathname:m="/",search:y="",hash:v="",state:_=null,key:S="default"}=i,j=w.useMemo(()=>{let R=ya(m,p);return R==null?null:{location:{pathname:R,search:y,hash:v,state:_,key:S},navigationType:s}},[p,m,y,v,_,S,s]);return $n(j!=null,`<Router basename="${p}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:w.createElement(Dn.Provider,{value:h},w.createElement(ks.Provider,{children:n,value:j}))}function Mw({children:a,location:n}){return _w(yd(a),n)}function yd(a,n=[]){let i=[];return w.Children.forEach(a,(s,o)=>{if(!w.isValidElement(s))return;let c=[...n,o];if(s.type===w.Fragment){i.push.apply(i,yd(s.props.children,c));return}ht(s.type===gd,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=yd(s.props.children,c)),i.push(f)}),i}var lo="get",oo="application/x-www-form-urlencoded";function xo(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function zw(a){return xo(a)&&a.tagName.toLowerCase()==="button"}function Lw(a){return xo(a)&&a.tagName.toLowerCase()==="form"}function Bw(a){return xo(a)&&a.tagName.toLowerCase()==="input"}function qw(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function $w(a,n){return a.button===0&&(!n||n==="_self")&&!qw(a)}var eo=null;function Hw(){if(eo===null)try{new FormData(document.createElement("form"),0),eo=!1}catch{eo=!0}return eo}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fc(a){return a!=null&&!Iw.has(a)?($n(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oo}"`),null):a}function Gw(a,n){let i,s,o,c,f;if(Lw(a)){let p=a.getAttribute("action");s=p?ya(p,n):null,i=a.getAttribute("method")||lo,o=Fc(a.getAttribute("enctype"))||oo,c=new FormData(a)}else if(zw(a)||Bw(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=a.getAttribute("formaction")||p.getAttribute("action");if(s=h?ya(h,n):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||lo,o=Fc(a.getAttribute("formenctype"))||Fc(p.getAttribute("enctype"))||oo,c=new FormData(p,a),!Hw()){let{name:m,type:y,value:v}=a;if(y==="image"){let _=m?`${m}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else m&&c.append(m,v)}}else{if(xo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=lo,s=null,o=oo,f=a}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ld(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function Vw(a,n,i,s){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:n&&ya(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Kw(a,n){if(a.id in n)return n[a.id];try{let i=await import(a.module);return n[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function Pw(a,n,i){let s=await Promise.all(a.map(async o=>{let c=n.routes[o.route.id];if(c){let f=await Kw(c,i);return f.links?f.links():[]}return[]}));return Zw(s.flat(1).filter(Yw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rg(a,n,i,s,o,c){let f=(h,m)=>i[m]?h.route.id!==i[m].route.id:!0,p=(h,m)=>i[m].pathname!==h.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==h.params["*"];return c==="assets"?n.filter((h,m)=>f(h,m)||p(h,m)):c==="data"?n.filter((h,m)=>{let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(f(h,m)||p(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Xw(a,n,{includeHydrateFallback:i}={}){return Jw(a.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Jw(a){return[...new Set(a)]}function Qw(a){let n={},i=Object.keys(a).sort();for(let s of i)n[s]=a[s];return n}function Zw(a,n){let i=new Set;return new Set(n),a.reduce((s,o)=>{let c=JSON.stringify(Qw(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function my(){let a=w.useContext(yi);return Ld(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Ww(){let a=w.useContext(Eo);return Ld(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Bd=w.createContext(void 0);Bd.displayName="FrameworkContext";function gy(){let a=w.useContext(Bd);return Ld(a,"You must render this element inside a <HydratedRouter> element"),a}function Fw(a,n){let i=w.useContext(Bd),[s,o]=w.useState(!1),[c,f]=w.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=n,_=w.useRef(null);w.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let R=k=>{k.forEach(N=>{f(N.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[a]),w.useEffect(()=>{if(s){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[s]);let S=()=>{o(!0)},j=()=>{o(!1),f(!1)};return i?a!=="intent"?[c,_,{}]:[c,_,{onFocus:fs(p,S),onBlur:fs(h,j),onMouseEnter:fs(m,S),onMouseLeave:fs(y,j),onTouchStart:fs(v,S)}]:[!1,_,{}]}function fs(a,n){return i=>{a&&a(i),i.defaultPrevented||n(i)}}function e_({page:a,...n}){let{router:i}=my(),s=w.useMemo(()=>Wg(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?w.createElement(n_,{page:a,matches:s,...n}):null}function t_(a){let{manifest:n,routeModules:i}=gy(),[s,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return Pw(a,n,i).then(f=>{c||o(f)}),()=>{c=!0}},[a,n,i]),s}function n_({page:a,matches:n,...i}){let s=gr(),{future:o,manifest:c,routeModules:f}=gy(),{basename:p}=my(),{loaderData:h,matches:m}=Ww(),y=w.useMemo(()=>rg(a,n,m,c,s,"data"),[a,n,m,c,s]),v=w.useMemo(()=>rg(a,n,m,c,s,"assets"),[a,n,m,c,s]),_=w.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let R=new Set,C=!1;if(n.forEach(N=>{let O=c.routes[N.route.id];!O||!O.hasLoader||(!y.some(P=>P.route.id===N.route.id)&&N.route.id in h&&f[N.route.id]?.shouldRevalidate||O.hasClientLoader?C=!0:R.add(N.route.id))}),R.size===0)return[];let k=Vw(a,p,o.unstable_trailingSlashAwareDataRequests,"data");return C&&R.size>0&&k.searchParams.set("_routes",n.filter(N=>R.has(N.route.id)).map(N=>N.route.id).join(",")),[k.pathname+k.search]},[p,o.unstable_trailingSlashAwareDataRequests,h,s,c,y,n,a,f]),S=w.useMemo(()=>Xw(v,c),[v,c]),j=t_(v);return w.createElement(w.Fragment,null,_.map(R=>w.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),S.map(R=>w.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),j.map(({key:R,link:C})=>w.createElement("link",{key:R,nonce:i.nonce,...C})))}function a_(...a){return n=>{a.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var r_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r_&&(window.__reactRouterVersion="7.12.0")}catch{}function i_({basename:a,children:n,unstable_useTransitions:i,window:s}){let o=w.useRef();o.current==null&&(o.current=Bb({window:s,v5Compat:!0}));let c=o.current,[f,p]=w.useState({action:c.action,location:c.location}),h=w.useCallback(m=>{i===!1?p(m):w.startTransition(()=>p(m))},[i]);return w.useLayoutEffect(()=>c.listen(h),[c,h]),w.createElement(Uw,{basename:a,children:n,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:i})}var yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vy=w.forwardRef(function({onClick:n,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:p,target:h,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:_,...S},j){let{basename:R,unstable_useTransitions:C}=w.useContext(Dn),k=typeof m=="string"&&yy.test(m),N=iy(m,R);m=N.to;let O=vw(m,{relative:o}),[P,J,Y]=Fw(s,S),q=u_(m,{replace:f,state:p,target:h,preventScrollReset:y,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:_,unstable_useTransitions:C});function ee(we){n&&n(we),we.defaultPrevented||q(we)}let ue=w.createElement("a",{...S,...Y,href:N.absoluteURL||O,onClick:N.isExternal||c?n:ee,ref:a_(j,J),target:h,"data-discover":!k&&i==="render"?"true":void 0});return P&&!k?w.createElement(w.Fragment,null,ue,w.createElement(e_,{page:O})):ue});vy.displayName="Link";var s_=w.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:p,children:h,...m},y){let v=Ms(f,{relative:m.relative}),_=gr(),S=w.useContext(Eo),{navigator:j,basename:R}=w.useContext(Dn),C=S!=null&&p_(v)&&p===!0,k=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,N=_.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(N=N.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&R&&(O=ya(O,R)||O);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let J=N===k||!o&&N.startsWith(k)&&N.charAt(P)==="/",Y=O!=null&&(O===k||!o&&O.startsWith(k)&&O.charAt(k.length)==="/"),q={isActive:J,isPending:Y,isTransitioning:C},ee=J?n:void 0,ue;typeof s=="function"?ue=s(q):ue=[s,J?"active":null,Y?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let we=typeof c=="function"?c(q):c;return w.createElement(vy,{...m,"aria-current":ee,className:ue,ref:y,style:we,to:f,viewTransition:p},typeof h=="function"?h(q):h)});s_.displayName="NavLink";var l_=w.forwardRef(({discover:a="render",fetcherKey:n,navigate:i,reloadDocument:s,replace:o,state:c,method:f=lo,action:p,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:_,...S},j)=>{let{unstable_useTransitions:R}=w.useContext(Dn),C=f_(),k=h_(p,{relative:m}),N=f.toLowerCase()==="get"?"get":"post",O=typeof p=="string"&&yy.test(p),P=J=>{if(h&&h(J),J.defaultPrevented)return;J.preventDefault();let Y=J.nativeEvent.submitter,q=Y?.getAttribute("formmethod")||f,ee=()=>C(Y||J.currentTarget,{fetcherKey:n,method:q,navigate:i,replace:o,state:c,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:_});R&&i!==!1?w.startTransition(()=>ee()):ee()};return w.createElement("form",{ref:j,method:N,action:k,onSubmit:s?h:P,...S,"data-discover":!O&&a==="render"?"true":void 0})});l_.displayName="Form";function o_(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function by(a){let n=w.useContext(yi);return ht(n,o_(a)),n}function u_(a,{target:n,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:h}={}){let m=dy(),y=gr(),v=Ms(a,{relative:c});return w.useCallback(_=>{if($w(_,n)){_.preventDefault();let S=i!==void 0?i:Ss(y)===Ss(v),j=()=>m(a,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:p});h?w.startTransition(()=>j()):j()}},[y,m,v,i,s,n,a,o,c,f,p,h])}var c_=0,d_=()=>`__${String(++c_)}__`;function f_(){let{router:a}=by("useSubmit"),{basename:n}=w.useContext(Dn),i=jw(),s=a.fetch,o=a.navigate;return w.useCallback(async(c,f={})=>{let{action:p,method:h,encType:m,formData:y,body:v}=Gw(c,n);if(f.navigate===!1){let _=f.fetcherKey||d_();await s(_,i,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:v,formMethod:f.method||h,formEncType:f.encType||m,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:v,formMethod:f.method||h,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,n,i])}function h_(a,{relative:n}={}){let{basename:i}=w.useContext(Dn),s=w.useContext(Xn);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Ms(a||".",{relative:n})},f=gr();if(a==null){c.search=f.search;let p=new URLSearchParams(c.search),h=p.getAll("index");if(h.some(y=>y==="")){p.delete("index"),h.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();c.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ga([i,c.pathname])),Ss(c)}function p_(a,{relative:n}={}){let i=w.useContext(ly);ht(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=by("useViewTransitionState"),o=Ms(a,{relative:n});if(!i.isTransitioning)return!1;let c=ya(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=ya(i.nextLocation.pathname,s)||i.nextLocation.pathname;return co(o.pathname,f)!=null||co(o.pathname,c)!=null}var ms=Zg();function To(a,n){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i}function m_(a,n,i,s){function o(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function p(y){try{m(s.next(y))}catch(v){f(v)}}function h(y){try{m(s.throw(y))}catch(v){f(v)}}function m(y){y.done?c(y.value):o(y.value).then(p,h)}m((s=s.apply(a,n||[])).next())})}const g_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class qd extends Error{constructor(n,i="FunctionsError",s){super(n),this.name=i,this.context=s}}class y_ extends qd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ig extends qd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class sg extends qd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var vd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(vd||(vd={}));class v_{constructor(n,{headers:i={},customFetch:s,region:o=vd.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=g_(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return m_(this,arguments,void 0,function*(i,s={}){var o;let c,f;try{const{headers:p,method:h,body:m,signal:y,timeout:v}=s;let _={},{region:S}=s;S||(S=this.region);const j=new URL(`${this.url}/${i}`);S&&S!=="any"&&(_["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let R;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",R=m):typeof m=="string"?(_["Content-Type"]="text/plain",R=m):typeof FormData<"u"&&m instanceof FormData?R=m:(_["Content-Type"]="application/json",R=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?R=JSON.stringify(m):R=m;let C=y;v&&(f=new AbortController,c=setTimeout(()=>f.abort(),v),y?(C=f.signal,y.addEventListener("abort",()=>f.abort())):C=f.signal);const k=yield this.fetch(j.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:R,signal:C}).catch(J=>{throw new y_(J)}),N=k.headers.get("x-relay-error");if(N&&N==="true")throw new ig(k);if(!k.ok)throw new sg(k);let O=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield k.json():O==="application/octet-stream"||O==="application/pdf"?P=yield k.blob():O==="text/event-stream"?P=k:O==="multipart/form-data"?P=yield k.formData():P=yield k.text(),{data:P,error:null,response:k}}catch(p){return{data:null,error:p,response:p instanceof sg||p instanceof ig?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var b_=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},w_=class{constructor(a){var n,i;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,p=null,h=null,m=c.status,y=c.statusText;if(c.ok){var v,_;if(i.method!=="HEAD"){var S;const k=await c.text();k===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?p=k:p=JSON.parse(k))}const R=(v=i.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");R&&C&&C.length>1&&(h=parseInt(C[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,h=null,m=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var j;const R=await c.text();try{f=JSON.parse(R),Array.isArray(f)&&c.status===404&&(p=[],f=null,m=200,y="OK")}catch{c.status===404&&R===""?(m=204,y="No Content"):f={message:R}}if(f&&i.isMaybeSingle&&(!(f==null||(j=f.details)===null||j===void 0)&&j.includes("0 rows"))&&(f=null,m=200,y="OK"),f&&i.shouldThrowOnError)throw new b_(f)}return{error:f,data:p,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(o=o.catch(c=>{var f;let p="";const h=c?.cause;if(h){var m,y,v,_;const j=(m=h?.message)!==null&&m!==void 0?m:"",R=(y=h?.code)!==null&&y!==void 0?y:"";p=`${(v=c?.name)!==null&&v!==void 0?v:"FetchError"}: ${c?.message}`,p+=`

Caused by: ${(_=h?.name)!==null&&_!==void 0?_:"Error"}: ${j}`,R&&(p+=` (${R})`),h?.stack&&(p+=`
${h.stack}`)}else{var S;p=(S=c?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},__=class extends w_{select(a){let n=!1;const i=(a??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,n,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(c,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:o=!1,format:c="text"}={}){var f;const p=[a?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const lg=new RegExp("[,()]");var ui=class extends __{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&lg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}notIn(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&lg.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`not.in.(${i})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:i,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${o}fts${c}.${n}`),this}match(a){return Object.entries(a).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(a,n,i){return this.url.searchParams.append(a,`not.${n}.${i}`),this}or(a,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,n,i){return this.url.searchParams.append(a,`${n}.${i}`),this}},S_=class{constructor(a,{headers:n={},schema:i,fetch:s}){this.url=a,this.headers=new Headers(n),this.schema=i,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:i=!1,count:s}=n??{},o=i?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join(""),{url:p,headers:h}=this.cloneRequestState();return p.searchParams.set("select",f),s&&h.append("Prefer",`count=${s}`),new ui({method:o,url:p,headers:h,schema:this.schema,fetch:this.fetch})}insert(a,{count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:c,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(p.length>0){const h=[...new Set(p)].map(m=>`"${m}"`);c.searchParams.set("columns",h.join(","))}}return new ui({method:o,url:c,headers:f,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:o=!0}={}){var c;const f="POST",{url:p,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&p.searchParams.set("on_conflict",n),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);p.searchParams.set("columns",y.join(","))}}return new ui({method:f,url:p,headers:h,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:n}={}){var i;const s="PATCH",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new ui({method:s,url:o,headers:c,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var n;const i="DELETE",{url:s,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new ui({method:i,url:s,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},E_=class wy{constructor(n,{headers:i={},schema:s,fetch:o}={}){this.url=n,this.headers=new Headers(i),this.schemaName=s,this.fetch=o}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new S_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new wy(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:s=!1,get:o=!1,count:c}={}){var f;let p;const h=new URL(`${this.url}/rpc/${n}`);let m;const y=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(y)),v=s&&Object.values(i).some(y);v?(p="POST",m=i):s||o?(p=s?"HEAD":"GET",Object.entries(i).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{h.searchParams.append(S,j)})):(p="POST",m=i);const _=new Headers(this.headers);return v?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new ui({method:p,url:h,headers:_,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class x_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const o=s.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const s=this.getWebSocketConstructor();return new s(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const T_="2.90.1",R_=`realtime-js/${T_}`,_y="1.0.0",A_="2.0.0",og=_y,bd=1e4,C_=1e3,O_=100;var Ga;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Ga||(Ga={}));var Ct;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Ct||(Ct={}));var qn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(qn||(qn={}));var wd;(function(a){a.websocket="websocket"})(wd||(wd={}));var hr;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(hr||(hr={}));class j_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,s){var o,c;const f=n.topic,p=(o=n.ref)!==null&&o!==void 0?o:"",h=(c=n.join_ref)!==null&&c!==void 0?c:"",m=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+p.length+f.length+m.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let j=new DataView(S),R=0;j.setUint8(R++,this.KINDS.userBroadcastPush),j.setUint8(R++,h.length),j.setUint8(R++,p.length),j.setUint8(R++,f.length),j.setUint8(R++,m.length),j.setUint8(R++,v.length),j.setUint8(R++,i),Array.from(h,k=>j.setUint8(R++,k.charCodeAt(0))),Array.from(p,k=>j.setUint8(R++,k.charCodeAt(0))),Array.from(f,k=>j.setUint8(R++,k.charCodeAt(0))),Array.from(m,k=>j.setUint8(R++,k.charCodeAt(0))),Array.from(v,k=>j.setUint8(R++,k.charCodeAt(0)));var C=new Uint8Array(S.byteLength+s.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(s),S.byteLength),C.buffer}decode(n,i){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return i(s)}if(typeof n=="string"){const s=JSON.parse(n),[o,c,f,p,h]=s;return i({join_ref:o,ref:c,topic:f,event:p,payload:h})}return i({})}_binaryDecode(n){const i=new DataView(n),s=i.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,o)}_decodeUserBroadcast(n,i,s){const o=i.getUint8(1),c=i.getUint8(2),f=i.getUint8(3),p=i.getUint8(4);let h=this.HEADER_LENGTH+4;const m=s.decode(n.slice(h,h+o));h=h+o;const y=s.decode(n.slice(h,h+c));h=h+c;const v=s.decode(n.slice(h,h+f));h=h+f;const _=n.slice(h,n.byteLength),S=p===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,j={type:this.BROADCAST_EVENT,event:y,payload:S};return f>0&&(j.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>i.includes(s)))}}class Sy{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(st||(st={}));const ug=(a,n,i={})=>{var s;const o=(s=i.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=D_(f,a,n,o),c),{}):{}},D_=(a,n,i,s)=>{const o=n.find(p=>p.name===a),c=o?.type,f=i[a];return c&&!s.includes(c)?Ey(c,f):_d(f)},Ey=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return M_(n,i)}switch(a){case st.bool:return N_(n);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return k_(n);case st.json:case st.jsonb:return U_(n);case st.timestamp:return z_(n);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return _d(n);default:return _d(n)}},_d=a=>a,N_=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},k_=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},U_=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},M_=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,s=a[i];if(a[0]==="{"&&s==="}"){let c;const f=a.slice(1,i);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>Ey(n,p))}return a},z_=a=>typeof a=="string"?a.replace(" ","T"):a,xy=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class ed{constructor(n,i,s={},o=bd){this.channel=n,this.event=i,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var s;return this._hasReceived(n)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var cg;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(cg||(cg={}));class ys{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ys.syncState(this.state,o,c,f),this.pendingDiffs.forEach(h=>{this.state=ys.syncDiff(this.state,h,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(s.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ys.syncDiff(this.state,o,c,f),p())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,s,o){const c=this.cloneDeep(n),f=this.transformState(i),p={},h={};return this.map(c,(m,y)=>{f[m]||(h[m]=y)}),this.map(f,(m,y)=>{const v=c[m];if(v){const _=y.map(C=>C.presence_ref),S=v.map(C=>C.presence_ref),j=y.filter(C=>S.indexOf(C.presence_ref)<0),R=v.filter(C=>_.indexOf(C.presence_ref)<0);j.length>0&&(p[m]=j),R.length>0&&(h[m]=R)}else p[m]=y}),this.syncDiff(c,{joins:p,leaves:h},s,o)}static syncDiff(n,i,s,o){const{joins:c,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(c,(p,h)=>{var m;const y=(m=n[p])!==null&&m!==void 0?m:[];if(n[p]=this.cloneDeep(h),y.length>0){const v=n[p].map(S=>S.presence_ref),_=y.filter(S=>v.indexOf(S.presence_ref)<0);n[p].unshift(..._)}s(p,y,h)}),this.map(f,(p,h)=>{let m=n[p];if(!m)return;const y=h.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),n[p]=m,o(p,m,h),m.length===0&&delete n[p]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(s=>i(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,s)=>{const o=n[s];return"metas"in o?i[s]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[s]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dg;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(dg||(dg={}));var vs;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(vs||(vs={}));var ma;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(ma||(ma={}));class fi{constructor(n,i={config:{}},s){var o,c;if(this.topic=n,this.params=i,this.socket=s,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new ed(this,qn.join,this.params,this.timeout),this.rejoinTimer=new Sy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new ys(this),this.broadcastEndpointURL=xy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var s,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:f,presence:p,private:h}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[vs.PRESENCE]&&this.bindings[vs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},_={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>n?.(ma.CHANNEL_ERROR,S)),this._onClose(()=>n?.(ma.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.(ma.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,C=(j=R?.length)!==null&&j!==void 0?j:0,k=[];for(let N=0;N<C;N++){const O=R[N],{filter:{event:P,schema:J,table:Y,filter:q}}=O,ee=S&&S[N];if(ee&&ee.event===P&&fi.isFilterValueEqual(ee.schema,J)&&fi.isFilterValueEqual(ee.table,Y)&&fi.isFilterValueEqual(ee.filter,q))k.push(Object.assign(Object.assign({},O),{id:ee.id}));else{this.unsubscribe(),this.state=Ct.errored,n?.(ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(ma.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ct.errored,n?.(ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.(ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,s){return this.state===Ct.joined&&n===vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,s)}async httpSend(n,i,s={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(p.status===202)return{success:!0};let h=p.statusText;try{const m=await p.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(n,i={}){var s,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,h;const m=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||h===void 0)&&h.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ct.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new ed(this,qn.leave,{},n),s.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(n,i,s){const o=new AbortController,c=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(c),f}_push(n,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ed(this,n,i,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>O_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,s){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,s){var o,c;const f=n.toLocaleLowerCase(),{close:p,error:h,leave:m,join:y}=qn;if(s&&[p,h,m,y].indexOf(f)>=0&&s!==this._joinRef())return;let _=this._onMessage(f,i,s);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var j,R,C;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(R=S.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===f}).map(S=>S.callback(_,s)):(c=this.bindings[f])===null||c===void 0||c.filter(S=>{var j,R,C,k,N,O,P,J;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const Y=S.id,q=(j=S.filter)===null||j===void 0?void 0:j.event;return Y&&((R=i.ids)===null||R===void 0?void 0:R.includes(Y))&&(q==="*"||q?.toLocaleLowerCase()===((C=i.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((k=S.filter)===null||k===void 0)&&k.table)||S.filter.table===((N=i.data)===null||N===void 0?void 0:N.table))}else{const Y=(P=(O=S?.filter)===null||O===void 0?void 0:O.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return Y==="*"||Y===((J=i?.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:R,table:C,commit_timestamp:k,type:N,errors:O}=j;_=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:k,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(j))}S.callback(_,s)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,s){const o=n.toLocaleLowerCase(),c={type:o,filter:i,callback:s};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,i){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&fi.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const s in n)if(n[s]!==i[s])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(qn.close,{},n)}_onError(n){this._on(qn.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=ug(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=ug(n.columns,n.old_record)),i}}const td=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L_=[1e3,2e3,5e3,1e4],B_=1e4,q_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $_{constructor(n,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bd,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=td,this.ref=0,this.reconnectTimer=null,this.vsn=og,this.logger=td,this.conn=null,this.sendBuffer=[],this.serializer=new j_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${wd.websocket}`,this.httpEndpoint=xy(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=x_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,s){this.logger(n,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ga.connecting:return hr.Connecting;case Ga.open:return hr.Open;case Ga.closing:return hr.Closing;default:return hr.Closed}}isConnected(){return this.connectionState()===hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const s=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===s);if(o)return o;{const c=new fi(`realtime:${n}`,i,this);return this.channels.push(c),c}}push(n){const{topic:i,event:s,payload:o,ref:c}=n,f=()=>{this.encode(n,p=>{var h;(h=this.conn)===null||h===void 0||h.send(p)})};this.log("push",`${i} ${s} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(C_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:c,ref:f}=i,p=f?`(${f})`:"",h=c.status||"";this.log("receive",`${h} ${s} ${o} ${p}`.trim(),c),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,c,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Ga.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ga.open||this.conn.readyState===Ga.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(qn.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const s=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${s}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const s=new Blob([q_],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,s=!1;if(n)i=n,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:R_};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(qn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Sy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,s,o,c,f,p,h,m,y,v,_,S;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:bd,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:to.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:td,this.vsn=(h=n?.vsn)!==null&&h!==void 0?h:og,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(j=>L_[j-1]||B_),this.vsn){case _y:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((j,R)=>R(JSON.stringify(j))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:((j,R)=>R(JSON.parse(j)));break;case A_:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Es=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function H_(a,n,i){const s=new URL(n,a);if(i)for(const[o,c]of Object.entries(i))c!==void 0&&s.searchParams.set(o,c);return s.toString()}async function I_(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function G_(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:o,body:c,headers:f}){const p=H_(a.baseUrl,s,o),h=await I_(a.auth),m=await n(p,{method:i,headers:{...c?{"Content-Type":"application/json"}:{},...h,...f},body:c?JSON.stringify(c):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),_=v&&y?JSON.parse(y):y;if(!m.ok){const S=v?_:void 0,j=S?.error;throw new Es(j?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:j?.type,icebergCode:j?.code,details:S})}return{status:m.status,headers:m.headers,data:_}}}}function no(a){return a.join("")}var V_=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:no(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(a.namespace)}`}),!0}catch(n){if(n instanceof Es&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof Es&&i.status===409)return;throw i}}};function ai(a){return a.join("")}var K_=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ai(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ai(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof Es&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof Es&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},Y_=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=G_({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new V_(this.client,n),this.tableOps=new K_(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Ro=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function ft(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var P_=class extends Ro{constructor(a,n,i){super(a),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sd=class extends Ro{constructor(a,n){super(a),this.name="StorageUnknownError",this.originalError=n}};const $d=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),X_=()=>Response,Ed=a=>{if(Array.isArray(a))return a.map(i=>Ed(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,s])=>{const o=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Ed(s)}),n},J_=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Q_=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function xs(a){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xs(a)}function Z_(a,n){if(xs(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(xs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function W_(a){var n=Z_(a,"string");return xs(n)=="symbol"?n:n+""}function F_(a,n,i){return(n=W_(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function fg(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function Ce(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?fg(Object(i),!0).forEach(function(s){F_(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):fg(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const nd=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},eS=async(a,n,i)=>{a instanceof await X_()&&!i?.noResolveJson?a.json().then(s=>{const o=a.status||500,c=s?.statusCode||o+"";n(new P_(nd(s),o,c))}).catch(s=>{n(new Sd(nd(s),s))}):n(new Sd(nd(a),a))},tS=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||!s?o:(J_(s)?(o.headers=Ce({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(s)):o.body=s,n?.duplex&&(o.duplex=n.duplex),Ce(Ce({},o),i))};async function zs(a,n,i,s,o,c){return new Promise((f,p)=>{a(i,tS(n,s,o,c)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>f(h)).catch(h=>eS(h,p,s))})}async function Ts(a,n,i,s){return zs(a,"GET",n,i,s)}async function Bn(a,n,i,s,o){return zs(a,"POST",n,s,o,i)}async function xd(a,n,i,s,o){return zs(a,"PUT",n,s,o,i)}async function nS(a,n,i,s){return zs(a,"HEAD",n,Ce(Ce({},i),{},{noResolveJson:!0}),s)}async function Hd(a,n,i,s,o){return zs(a,"DELETE",n,s,o,i)}var aS=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}};let Ty;Ty=Symbol.toStringTag;var rS=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[Ty]="BlobDownloadBuilder",this.promise=null}asStream(){return new aS(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}};const iS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sS=class{constructor(a,n={},i,s){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.bucketId=i,this.fetch=$d(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,n,i,s){var o=this;try{let c;const f=Ce(Ce({},hg),s);let p=Ce(Ce({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const h=f.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),h&&c.append("metadata",o.encodeMetadata(h)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),h&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(h))):(c=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,h&&(p["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(p=Ce(Ce({},p),s.headers));const m=o._removeEmptyFolders(n),y=o._getFinalPath(m),v=await(a=="PUT"?xd:Bn)(o.fetch,`${o.url}/object/${y}`,c,Ce({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(ft(c))return{data:null,error:c};throw c}}async upload(a,n,i){return this.uploadOrUpdate("POST",a,n,i)}async uploadToSignedUrl(a,n,i,s){var o=this;const c=o._removeEmptyFolders(a),f=o._getFinalPath(c),p=new URL(o.url+`/object/upload/sign/${f}`);p.searchParams.set("token",n);try{let h;const m=Ce({upsert:hg.upsert},s),y=Ce(Ce({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:c,fullPath:(await xd(o.fetch,p.toString(),h,{headers:y})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(ft(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(a,n){var i=this;try{let s=i._getFinalPath(a);const o=Ce({},i.headers);n?.upsert&&(o["x-upsert"]="true");const c=await Bn(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(i.url+c.url),p=f.searchParams.get("token");if(!p)throw new Ro("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:p},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async update(a,n,i){return this.uploadOrUpdate("PUT",a,n,i)}async move(a,n,i){var s=this;try{return{data:await Bn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async copy(a,n,i){var s=this;try{return{data:{path:(await Bn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async createSignedUrl(a,n,i){var s=this;try{let o=s._getFinalPath(a),c=await Bn(s.fetch,`${s.url}/object/sign/${o}`,Ce({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${s.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async createSignedUrls(a,n,i){var s=this;try{const o=await Bn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:a},{headers:s.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(f=>Ce(Ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}download(a,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"",c=this._getFinalPath(a),f=()=>Ts(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new rS(f,this.shouldThrowOnError)}async info(a){var n=this;const i=n._getFinalPath(a);try{return{data:Ed(await Ts(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async exists(a){var n=this;const i=n._getFinalPath(a);try{return await nS(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ft(s)&&s instanceof Sd){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(a,n){const i=this._getFinalPath(a),s=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${p}`)}}}async remove(a){var n=this;try{return{data:await Hd(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async list(a,n,i){var s=this;try{const o=Ce(Ce(Ce({},iS),n),{},{prefix:a||""});return{data:await Bn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},i),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async listV2(a,n){var i=this;try{const s=Ce({},a);return{data:await Bn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},n),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const Ry="2.90.1",Ay={"X-Client-Info":`storage-js/${Ry}`};var lS=class{constructor(a,n={},i,s){this.shouldThrowOnError=!1;const o=new URL(a);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Ce(Ce({},Ay),n),this.fetch=$d(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var n=this;try{const i=n.listBucketOptionsToQueryString(a);return{data:await Ts(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async getBucket(a){var n=this;try{return{data:await Ts(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async createBucket(a,n={public:!1}){var i=this;try{return{data:await Bn(i.fetch,`${i.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async updateBucket(a,n){var i=this;try{return{data:await xd(i.fetch,`${i.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async emptyBucket(a){var n=this;try{return{data:await Bn(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async deleteBucket(a){var n=this;try{return{data:await Hd(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},oS=class{constructor(a,n={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ce(Ce({},Ay),n),this.fetch=$d(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var n=this;try{return{data:await Bn(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async listBuckets(a){var n=this;try{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const s=i.toString(),o=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return{data:await Ts(n.fetch,o,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async deleteBucket(a){var n=this;try{return{data:await Hd(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}from(a){var n=this;if(!Q_(a))throw new Ro("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Y_({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(o,c){const f=o[c];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(o,p),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const Id={"X-Client-Info":`storage-js/${Ry}`,"Content-Type":"application/json"};var Cy=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function mn(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var ad=class extends Cy{constructor(a,n,i){super(a),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uS=class extends Cy{constructor(a,n){super(a),this.name="StorageVectorsUnknownError",this.originalError=n}};const Gd=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),cS=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},pg=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),dS=async(a,n,i)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const s=a.status||500,o=a;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||s+"";n(new ad(pg(c),s,f))}).catch(()=>{const c=s+"";n(new ad(o.statusText||`HTTP ${s} error`,s,c))});else{const c=s+"";n(new ad(o.statusText||`HTTP ${s} error`,s,c))}}else n(new uS(pg(a),a))},fS=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return s?(cS(s)?(o.headers=Ce({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(s)):o.body=s,Ce(Ce({},o),i)):o};async function hS(a,n,i,s,o,c){return new Promise((f,p)=>{a(i,fS(n,s,o,c)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>f(h)).catch(h=>dS(h,p,s))})}async function gn(a,n,i,s,o){return hS(a,"POST",n,s,o,i)}var pS=class{constructor(a,n={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ce(Ce({},Id),n),this.fetch=Gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var n=this;try{return{data:await gn(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async getIndex(a,n){var i=this;try{return{data:await gn(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(mn(s))return{data:null,error:s};throw s}}async listIndexes(a){var n=this;try{return{data:await gn(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async deleteIndex(a,n){var i=this;try{return{data:await gn(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(mn(s))return{data:null,error:s};throw s}}},mS=class{constructor(a,n={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ce(Ce({},Id),n),this.fetch=Gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var n=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await gn(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async getVectors(a){var n=this;try{return{data:await gn(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async listVectors(a){var n=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await gn(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async queryVectors(a){var n=this;try{return{data:await gn(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async deleteVectors(a){var n=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await gn(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}},gS=class{constructor(a,n={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ce(Ce({},Id),n),this.fetch=Gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var n=this;try{return{data:await gn(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async getBucket(a){var n=this;try{return{data:await gn(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async listBuckets(a={}){var n=this;try{return{data:await gn(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}async deleteBucket(a){var n=this;try{return{data:await gn(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}}},yS=class extends gS{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new vS(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,i=this;return n().call(i,a)}async getBucket(a){var n=()=>super.getBucket,i=this;return n().call(i,a)}async listBuckets(a={}){var n=()=>super.listBuckets,i=this;return n().call(i,a)}async deleteBucket(a){var n=()=>super.deleteBucket,i=this;return n().call(i,a)}},vS=class extends pS{constructor(a,n,i,s){super(a,n,s),this.vectorBucketName=i}async createIndex(a){var n=()=>super.createIndex,i=this;return n().call(i,Ce(Ce({},a),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,i=this;return n().call(i,Ce(Ce({},a),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,a)}index(a){return new bS(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},bS=class extends mS{constructor(a,n,i,s,o){super(a,n,o),this.vectorBucketName=i,this.indexName=s}async putVectors(a){var n=()=>super.putVectors,i=this;return n().call(i,Ce(Ce({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(a){var n=()=>super.getVectors,i=this;return n().call(i,Ce(Ce({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,i=this;return n().call(i,Ce(Ce({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,i=this;return n().call(i,Ce(Ce({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,i=this;return n().call(i,Ce(Ce({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},wS=class extends lS{constructor(a,n={},i,s){super(a,n,i,s)}from(a){return new sS(this.url,this.headers,a,this.fetch)}get vectors(){return new yS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oS(this.url+"/iceberg",this.headers,this.fetch)}};const Oy="2.90.1",ci=30*1e3,Td=3,rd=Td*ci,_S="http://localhost:9999",SS="supabase.auth.token",ES={"X-Client-Info":`gotrue-js/${Oy}`},Rd="X-Supabase-Api-Version",jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TS=600*1e3;class Rs extends Error{constructor(n,i,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function be(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class RS extends Rs{constructor(n,i,s){super(n,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function AS(a){return be(a)&&a.name==="AuthApiError"}class pr extends Rs{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class va extends Rs{constructor(n,i,s,o){super(n,s,o),this.name=i,this.status=s}}class pn extends va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CS(a){return be(a)&&a.name==="AuthSessionMissingError"}class ri extends va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ao extends va{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ro extends va{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OS(a){return be(a)&&a.name==="AuthImplicitGrantRedirectError"}class mg extends va{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jS extends va{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ad extends va{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function id(a){return be(a)&&a.name==="AuthRetryableFetchError"}class gg extends va{constructor(n,i,s){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class Cd extends va{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yg=` 	
\r=`.split(""),DS=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<yg.length;n+=1)a[yg[n].charCodeAt(0)]=-2;for(let n=0;n<fo.length;n+=1)a[fo[n].charCodeAt(0)]=n;return a})();function vg(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(fo[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(fo[s]),n.queuedBits-=6}}function Dy(a,n,i){const s=DS[a];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function bg(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{US(f,s,i)};for(let f=0;f<a.length;f+=1)Dy(a.charCodeAt(f),o,c);return n.join("")}function NS(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function kS(a,n){for(let i=0;i<a.length;i+=1){let s=a.charCodeAt(i);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(a.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}NS(s,n)}}function US(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function pi(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)Dy(a.charCodeAt(o),i,s);return new Uint8Array(n)}function MS(a){const n=[];return kS(a,i=>n.push(i)),new Uint8Array(n)}function mr(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};return a.forEach(o=>vg(o,i,s)),vg(null,i,s),n.join("")}function zS(a){return Math.round(Date.now()/1e3)+a}function LS(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},Ny=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function BS(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return i.searchParams.forEach((s,o)=>{n[o]=s}),n}const ky=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),qS=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",di=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},dr=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},$t=async(a,n)=>{await a.removeItem(n)};class Ao{constructor(){this.promise=new Ao.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Ao.promiseConstructor=Promise;function sd(a){const n=a.split(".");if(n.length!==3)throw new Cd("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!xS.test(n[s]))throw new Cd("JWT not in base64url format");return{header:JSON.parse(bg(n[0])),payload:JSON.parse(bg(n[1])),signature:pi(n[2]),raw:{header:n[0],payload:n[1]}}}async function $S(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function HS(a,n){return new Promise((s,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await a(c);if(!n(c,null,f)){s(f);return}}catch(f){if(!n(c,f)){o(f);return}}})()})}function IS(a){return("0"+a.toString(16)).substr(-2)}function GS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let o="";for(let c=0;c<56;c++)o+=i.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(n),Array.from(n,IS).join("")}async function VS(a){const i=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(s);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function KS(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await VS(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ii(a,n,i=!1){const s=GS();let o=s;i&&(o+="/PASSWORD_RECOVERY"),await di(a,`${n}-code-verifier`,o);const c=await KS(s);return[c,s===c?"plain":"s256"]}const YS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PS(a){const n=a.headers.get(Rd);if(!n||!n.match(YS))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function XS(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function JS(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(a){if(!QS.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ld(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZS(a,n){return new Proxy(a,{get:(i,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,o)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,s,o)}})}function wg(a){return JSON.parse(JSON.stringify(a))}const fr=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),WS=[502,503,504];async function _g(a){var n;if(!qS(a))throw new Ad(fr(a),0);if(WS.includes(a.status))throw new Ad(fr(a),a.status);let i;try{i=await a.json()}catch(c){throw new pr(fr(c),c)}let s;const o=PS(a);if(o&&o.getTime()>=jy["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new gg(fr(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new pn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new gg(fr(i),a.status,i.weak_password.reasons);throw new RS(fr(i),a.status||500,s)}const FS=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),i))};async function Ae(a,n,i,s){var o;const c=Object.assign({},s?.headers);c[Rd]||(c[Rd]=jy["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",h=await e1(a,n,i+p,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function e1(a,n,i,s,o,c){const f=FS(n,s,o,c);let p;try{p=await a(i,Object.assign({},f))}catch(h){throw console.error(h),new Ad(fr(h),0)}if(p.ok||await _g(p),s?.noResolveJson)return p;try{return await p.json()}catch(h){await _g(h)}}function Ln(a){var n;let i=null;a1(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=zS(a.expires_in)));const s=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:s},error:null}}function Sg(a){const n=Ln(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Ka(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function t1(a){return{data:a,error:null}}function n1(a){const{action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:c}=a,f=To(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:c},h=Object.assign({},f);return{data:{properties:p,user:h},error:null}}function Eg(a){return a}function a1(a){return a.access_token&&a.refresh_token&&a.expires_in}const od=["global","local","others"];class r1{constructor({url:n="",headers:i={},fetch:s}){this.url=n,this.headers=i,this.fetch=ky(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=od[0]){if(od.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${od.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,i={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ka})}catch(s){if(be(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:i}=n,s=To(n,["options"]),o=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:n1,redirectTo:i?.redirectTo})}catch(i){if(be(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ka})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,s,o,c,f,p,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Eg});if(y.error)throw y.error;const v=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(h=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(j=>{const R=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(be(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){si(n);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ka})}catch(i){if(be(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){si(n);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Ka})}catch(s){if(be(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,i=!1){si(n);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ka})}catch(s){if(be(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){si(n.userId);try{const{data:i,error:s}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:s}}catch(i){if(be(i))return{data:null,error:i};throw i}}async _deleteFactor(n){si(n.userId),si(n.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,s,o,c,f,p,h;try{const m={nextPage:null,lastPage:0,total:0},y=await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Eg});if(y.error)throw y.error;const v=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(h=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(j=>{const R=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(be(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(be(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await Ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(be(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(be(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await Ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(be(i))return{data:null,error:i};throw i}}}function xg(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const li={debug:!!(globalThis&&Ny()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class i1 extends Uy{}async function s1(a,n,i){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await i()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new i1(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(li.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function l1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function My(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function o1(a){return parseInt(a,16)}function u1(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function c1(a){var n;const{chainId:i,domain:s,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:p,requestId:h,resources:m,scheme:y,uri:v,version:_}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const S=My(a.address),j=y?`${y}://${s}`:s,R=a.statement?`${a.statement}
`:"",C=`${j} wants you to sign in with your Ethereum account:
${S}

${R}`;let k=`URI: ${v}
Version: ${_}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),p&&(k+=`
Not Before: ${p.toISOString()}`),h&&(k+=`
Request ID: ${h}`),m){let N=`
Resources:`;for(const O of m){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}k+=N}return`${C}
${k}`}class Tt extends Error{constructor({message:n,code:i,cause:s,name:o}){var c;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=o??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class ho extends Tt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function d1({error:a,options:n}){var i,s,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(zy(f)){if(c.rp.id!==f)return new Tt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function f1({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(zy(s)){if(i.rpId!==s)return new Tt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class h1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const p1=new h1;function m1(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:s}=a,o=To(a,["challenge","user","excludeCredentials"]),c=pi(n).buffer,f=Object.assign(Object.assign({},i),{id:pi(i.id).buffer}),p=Object.assign(Object.assign({},o),{challenge:c,user:f});if(s&&s.length>0){p.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];p.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:pi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function g1(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,s=To(a,["challenge","allowCredentials"]),o=pi(n).buffer,c=Object.assign(Object.assign({},s),{challenge:o});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];c.allowCredentials[f]=Object.assign(Object.assign({},p),{id:pi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function y1(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:mr(new Uint8Array(a.response.attestationObject)),clientDataJSON:mr(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function v1(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,s=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:mr(new Uint8Array(o.authenticatorData)),clientDataJSON:mr(new Uint8Array(o.clientDataJSON)),signature:mr(new Uint8Array(o.signature)),userHandle:o.userHandle?mr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function zy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Tg(){var a,n;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function b1(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ho("Browser returned unexpected credential type",n)}:{data:null,error:new ho("Empty credential response",n)}}catch(n){return{data:null,error:d1({error:n,options:a})}}}async function w1(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ho("Browser returned unexpected credential type",n)}:{data:null,error:new ho("Empty credential response",n)}}catch(n){return{data:null,error:f1({error:n,options:a})}}}const _1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},S1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function po(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of a)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))s[c]=f;else if(i(f))s[c]=f;else if(n(f)){const p=s[c];n(p)?s[c]=po(p,f):s[c]=po(f)}else s[c]=f}return s}function E1(a,n){return po(_1,a,n||{})}function x1(a,n){return po(S1,a,n||{})}class T1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:s,signal:o},c){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:p};const h=o??p1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=E1(f.webauthn.credential_options.publicKey,c?.create),{data:y,error:v}=await b1({publicKey:m,signal:h});return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=x1(f.webauthn.credential_options.publicKey,c?.request),{data:y,error:v}=await w1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(f){return be(f)?{data:null,error:f}:{data:null,error:new pr("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Rs("rpId is required for WebAuthn authentication")};try{if(!Tg())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:s},signal:o},{request:c});if(!f)return{data:null,error:p};const{webauthn:h}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:h.type,rpId:i,rpOrigins:s,credential_response:h.credential_response}})}catch(f){return be(f)?{data:null,error:f}:{data:null,error:new pr("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Rs("rpId is required for WebAuthn registration")};try{if(!Tg())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:p};const{data:h,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:o},{create:c});return h?this._verify({factorId:f.id,challengeId:h.challengeId,webauthn:{rpId:i,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(f){return be(f)?{data:null,error:f}:{data:null,error:new pr("Unexpected error in register",f)}}}}l1();const R1={url:_S,storageKey:SS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ES,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rg(a,n,i){return await i()}const oi={};class As{get jwks(){var n,i;return(i=(n=oi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=oi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){oi[this.storageKey]=Object.assign(Object.assign({},oi[this.storageKey]),{cachedAt:n})}constructor(n){var i,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},R1),n);if(this.storageKey=c.storageKey,this.instanceID=(i=As.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,As.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ht()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new r1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ky(c.fetch),this.lock=c.lock||Rg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Ht()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=s1:this.lock=Rg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Ny()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=xg(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Oy}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},s="none";if(Ht()&&(i=BS(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),Ht()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:c}=await this._getSessionFromURL(i,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),OS(c)){const h=(n=c.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:f,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return be(i)?this._returnResult({error:i}):this._returnResult({error:new pr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,s,o;try{const c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ln}),{data:f,error:p}=c;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const h=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(c){if(be(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var i,s,o;try{let c;if("email"in n){const{email:y,password:v,options:_}=n;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await ii(this.storage,this.storageKey)),c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:v,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:j},xform:Ln})}else if("phone"in n){const{phone:y,password:v,options:_}=n;c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(s=_?.data)!==null&&s!==void 0?s:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Ln})}else throw new ao("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return await $t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const h=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(c){if(await $t(this.storage,`${this.storageKey}-code-verifier`),be(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let i;if("email"in n){const{email:c,password:f,options:p}=n;i=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Sg})}else if("phone"in n){const{phone:c,password:f,options:p}=n;i=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Sg})}else throw new ao("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const c=new ri;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,s,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,s,o,c,f,p,h,m,y,v,_;let S,j;if("message"in n)S=n.message,j=n.signature;else{const{chain:R,wallet:C,statement:k,options:N}=n;let O;if(Ht())if(typeof C=="object")O=C;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")O=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const P=new URL((i=N?.url)!==null&&i!==void 0?i:window.location.href),J=await O.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=My(J[0]);let q=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!q){const ue=await O.request({method:"eth_chainId"});q=o1(ue)}const ee={domain:P.host,address:Y,statement:k,uri:P.href,version:"1",chainId:q,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=N?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=c1(ee),j=await O.request({method:"personal_sign",params:[u1(S),Y]})}try{const{data:R,error:C}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ln});if(C)throw C;if(!R||!R.session||!R.user){const k=new ri;return this._returnResult({data:{user:null,session:null},error:k})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:C})}catch(R){if(be(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var i,s,o,c,f,p,h,m,y,v,_,S;let j,R;if("message"in n)j=n.message,R=n.signature;else{const{chain:C,wallet:k,statement:N,options:O}=n;let P;if(Ht())if(typeof k=="object")P=k;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))P=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const J=new URL((i=O?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in P&&P.signIn){const Y=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),N?{statement:N}:null));let q;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")q=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)q=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)j=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),R=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${J.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(o=(s=O?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=O?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((p=O?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((m=O?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((v=(y=O?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...O.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const Y=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Y}}try{const{data:C,error:k}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:mr(R)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ln});if(k)throw k;if(!C||!C.session||!C.user){const N=new ri;return this._returnResult({data:{user:null,session:null},error:N})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:k})}catch(C){if(be(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(n){const i=await dr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new jS;const{data:c,error:f}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:Ln});if(await $t(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const p=new ri;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await $t(this.storage,`${this.storageKey}-code-verifier`),be(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:i,provider:s,token:o,access_token:c,nonce:f}=n,p=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ln}),{data:h,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const y=new ri;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,s,o,c,f;try{if("email"in n){const{email:p,options:h}=n;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ii(this.storage,this.storageKey));const{error:v}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in n){const{phone:p,options:h}=n,{data:m,error:y}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(c=h?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(f=h?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new ao("You must provide either an email or phone number.")}catch(p){if(await $t(this.storage,`${this.storageKey}-code-verifier`),be(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var i,s;try{let o,c;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,c=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:p}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Ln});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const h=f.session,m=f.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,s,o,c,f;try{let p=null,h=null;this.flowType==="pkce"&&([p,h]=await ii(this.storage,this.storageKey));const m=await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:h}),headers:this.headers,xform:t1});return!((c=m.data)===null||c===void 0)&&c.url&&Ht()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await $t(this.storage,`${this.storageKey}-code-verifier`),be(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)throw s;if(!i)throw new pn;const{error:o}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:s,type:o,options:c}=n,{error:f}=await Ae(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:s,type:o,options:c}=n,{data:f,error:p}=await Ae(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new ao("You must provide either an email or phone number and a type")}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const f=await dr(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=ld()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=ZS(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ka}):await this._useSession(async i=>{var s,o,c;const{data:f,error:p}=i;if(p)throw p;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Ka})})}catch(i){if(be(i))return CS(i)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async s=>{const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new pn;const f=o.session;let p=null,h=null;this.flowType==="pkce"&&n.email!=null&&([p,h]=await ii(this.storage,this.storageKey));const{data:m,error:y}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:h}),jwt:f.access_token,xform:Ka});if(y)throw y;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await $t(this.storage,`${this.storageKey}-code-verifier`),be(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new pn;const i=Date.now()/1e3;let s=i,o=!0,c=null;const{payload:f}=sd(n.access_token);if(f.exp&&(s=f.exp,o=s<=i),o){const{data:p,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:h}=await this._getUser(n.access_token);if(h)throw h;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(be(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var s;if(!n){const{data:f,error:p}=i;if(p)throw p;n=(s=f.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new pn;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!Ht())throw new ro("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ro(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new mg("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(n.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:p,expires_at:h,token_type:m}=n;if(!c||!p||!f||!m)throw new ro("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(p);let _=y+v;h&&(_=parseInt(h));const S=_-y;S*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const j=_-v;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,y);const{data:R,error:C}=await this._getUser(c);if(C)throw C;const k={provider_token:s,provider_refresh_token:o,access_token:c,expires_in:v,expires_at:_,refresh_token:f,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(s){if(be(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await dr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({error:c});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(AS(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=LS(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async i=>{var s,o;try{const{data:{session:c},error:f}=i;if(f)throw f;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,i={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await ii(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(await $t(this.storage,`${this.storageKey}-code-verifier`),be(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:s,error:o}=await this._useSession(async c=>{var f,p,h,m,y;const{data:v,error:_}=c;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ht()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(be(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var s;try{const{error:o,data:{session:c}}=i;if(o)throw o;const{options:f,provider:p,token:h,access_token:m,nonce:y}=n,v=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:p,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ln}),{data:_,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new ri}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(o){if(await $t(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var s,o;const{data:c,error:f}=i;if(f)throw f;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await HS(async o=>(o>0&&await $S(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ln})),(o,c)=>{const f=200*Math.pow(2,o);return c&&id(c)&&Date.now()+f-s<ci})}catch(s){if(this._debug(i,"error",s),be(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",s),Ht()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await dr(this.storage,this.storageKey);if(o&&this.userStorage){let f=await dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await di(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:ld()}else if(o&&!o.user&&!o.user){const f=await dr(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await $t(this.storage,this.storageKey+"-user"),await di(this.storage,this.storageKey,o)):o.user=ld()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const c=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<rd;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${rd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),id(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(o.access_token);!p&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var i,s;if(!n)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ao;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new pn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(o,"error",c),be(c)){const f={data:null,error:c};return id(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,s=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:i});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,i)}catch(h){c.push(h)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await $t(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await di(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const c=wg(o);await di(this.storage,this.storageKey,c)}else{const o=wg(i);await di(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $t(this.storage,this.storageKey),await $t(this.storage,this.storageKey+"-code-verifier"),await $t(this.storage,this.storageKey+"-user"),this.userStorage&&await $t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-n)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ci}ms, refresh threshold is ${Td} ticks`),o<=Td&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Uy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,s){const o=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,f]=await ii(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(p.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);o.push(c.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;return c?this._returnResult({data:null,error:c}):await Ae(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var s,o;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:h,error:m}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?y1(n.webauthn.credential_response):v1(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:h}=await Ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:h}))})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=await Ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:m1(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:g1(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=sd(s.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const m=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?await Ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new pn})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new pn});const f=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Ht()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(be(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new pn});const f=await Ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Ht()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(be(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await Ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new pn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?(await Ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pn})})}catch(i){if(be(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let s=i.keys.find(p=>p.kid===n);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(p=>p.kid===n),s&&this.jwks_cached_at+TS>o)return s;const{data:c,error:f}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,s=c.keys.find(p=>p.kid===n),!s)?null:s}async getClaims(n,i={}){try{let s=n;if(!s){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});s=S.session.access_token}const{header:o,payload:c,signature:f,raw:{header:p,payload:h}}=sd(s);i?.allowExpired||XS(c.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:c,header:o,signature:f},error:null}}const y=JS(o.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,f,MS(`${p}.${h}`)))throw new Cd("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(s){if(be(s))return this._returnResult({data:null,error:s});throw s}}}As.nextInstanceID={};const A1=As,C1="2.90.1";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const O1={"X-Client-Info":`supabase-js-${gs}/${C1}`},j1={headers:O1},D1={schema:"public"},N1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k1={};function Cs(a){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cs(a)}function U1(a,n){if(Cs(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(Cs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function M1(a){var n=U1(a,"string");return Cs(n)=="symbol"?n:n+""}function z1(a,n,i){return(n=M1(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function Ag(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function gt(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Ag(Object(i),!0).forEach(function(s){z1(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Ag(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const L1=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),B1=()=>Headers,q1=(a,n,i)=>{const s=L1(i),o=B1();return async(c,f)=>{var p;const h=(p=await n())!==null&&p!==void 0?p:a;let m=new o(f?.headers);return m.has("apikey")||m.set("apikey",a),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(c,gt(gt({},f),{},{headers:m}))}};function $1(a){return a.endsWith("/")?a:a+"/"}function H1(a,n){var i,s;const{db:o,auth:c,realtime:f,global:p}=a,{db:h,auth:m,realtime:y,global:v}=n,_={db:gt(gt({},h),o),auth:gt(gt({},m),c),realtime:gt(gt({},y),f),storage:{},global:gt(gt(gt({},v),p),{},{headers:gt(gt({},(i=v?.headers)!==null&&i!==void 0?i:{}),(s=p?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return a.accessToken?_.accessToken=a.accessToken:delete _.accessToken,_}function I1(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var G1=class extends A1{constructor(a){super(a)}},V1=class{constructor(a,n,i){var s,o;this.supabaseUrl=a,this.supabaseKey=n;const c=I1(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:D1,realtime:k1,auth:gt(gt({},N1),{},{storageKey:f}),global:j1},h=H1(i??{},p);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=q1(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new E_(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new wS(this.storageUrl.href,this.headers,this.fetch,i?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new v_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,i;if(a.accessToken)return await a.accessToken();const{data:s}=await a.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:c,flowType:f,lock:p,debug:h,throwOnError:m},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G1({url:this.authUrl.href,headers:gt(gt({},_),y),storageKey:c,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,flowType:f,lock:p,debug:h,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new $_(this.realtimeUrl.href,gt(gt({},a),{},{params:gt(gt({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const K1=(a,n,i)=>new V1(a,n,i);function Y1(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Y1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P1={};var hs={};const Ly=typeof import.meta<"u"&&typeof P1<"u";let Os,Od;if(Ly)Os="https://zljcebsqyewegpmpaclb.supabase.co",Od="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpsamNlYnNxeWV3ZWdwbXBhY2xiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MTk4OTAsImV4cCI6MjA4NDA5NTg5MH0._gn3z1toQki7AUY02sKppbfecO-dIfhDIoJzAOru6Uk";else{const n=(hs.NEXT_PUBLIC_APP_ENV||"development")==="production";Os=n?hs.NEXT_PUBLIC_SUPABASE_URL_PROD||"":hs.NEXT_PUBLIC_SUPABASE_URL_DEV||"",Od=n?hs.NEXT_PUBLIC_SUPABASE_ANON_KEY_PROD||"":hs.NEXT_PUBLIC_SUPABASE_ANON_KEY_DEV||""}console.log("[Supabase] Initializing with URL:",Os?Os.substring(0,30)+"...":"EMPTY");console.log("[Supabase] isVite:",Ly);const Ye=K1(Os,Od);let X1=a=>crypto.getRandomValues(new Uint8Array(a)),J1=(a,n,i)=>{let s=(2<<Math.log2(a.length-1))-1,o=-~(1.6*s*n/a.length);return(c=n)=>{let f="";for(;;){let p=i(o),h=o|0;for(;h--;)if(f+=a[p[h]&s]||"",f.length>=c)return f}}},Q1=(a,n=21)=>J1(a,n|0,X1);const Z1=Q1("abcdefghijklmnopqrstuvwxyz0123456789",6);function ud(){return Z1()}const W1={};var Cg={};const F1=typeof import.meta<"u"&&typeof W1<"u";let mo;F1?mo="https://zljcebsqyewegpmpaclb.supabase.co":mo=Cg.NEXT_PUBLIC_SUPABASE_URL_PROD||Cg.NEXT_PUBLIC_SUPABASE_URL_DEV||"";const ps=a=>mo?`${mo}/functions/v1/${a}`:`/api/${a}`,Pn={ai:ps("ai"),theme:ps("theme"),title:ps("title"),emojify:ps("emojify"),transcribe:ps("transcribe")};function go(a){return a.length>0&&typeof a[0]=="object"&&"id"in a[0]}function Vd(){const[a,n]=w.useState(!1),[i,s]=w.useState(null);return{loading:a,error:i,generateItems:async p=>{console.log("[useAI] generateItems called with prompt:",p),console.log("[useAI] API endpoint:",Pn.ai),n(!0),s(null);try{const h=await fetch(Pn.ai,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"generate",prompt:p})});if(console.log("[useAI] Response status:",h.status,h.ok),!h.ok){const y=await h.json();throw console.error("[useAI] API error:",y),new Error(y.error||"Failed to generate items")}const m=await h.json();return console.log("[useAI] API success, result:",m.result),m.result}catch(h){const m=h instanceof Error?h.message:"AI request failed";throw s(m),h}finally{n(!1)}},manipulateList:async(p,h)=>{n(!0),s(null);try{const m=await fetch(Pn.ai,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"manipulate",items:p.map(v=>({id:v.id,content:v.content,completed:v.completed,parent_id:v.parent_id,position:v.position})),instruction:h})});if(!m.ok){const v=await m.json();throw new Error(v.error||"Failed to manipulate list")}return(await m.json()).result}catch(m){const y=m instanceof Error?m.message:"AI request failed";throw s(y),m}finally{n(!1)}},getSuggestions:async(p,h)=>{n(!0),s(null);try{const m=await fetch(Pn.ai,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"suggest",items:p.map(v=>({id:v.id,content:v.content,completed:v.completed})),context:h})});if(!m.ok){const v=await m.json();throw new Error(v.error||"Failed to get suggestions")}return(await m.json()).result}catch(m){const y=m instanceof Error?m.message:"AI request failed";throw s(y),m}finally{n(!1)}}}}const cd=9e4,eE=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0;function By({onTranscription:a,disabled:n=!1,position:i="floating"}){const[s,o]=w.useState(!1),[c,f]=w.useState(!1),[p,h]=w.useState(null),[m,y]=w.useState(0),[v,_]=w.useState(0),[S,j]=w.useState(!1),R=w.useRef(null),C=w.useRef([]),k=w.useRef(null),N=w.useRef(null),O=w.useRef(null),P=w.useRef(0);w.useEffect(()=>{j(eE())},[]),w.useEffect(()=>()=>{N.current&&cancelAnimationFrame(N.current),O.current&&clearInterval(O.current)},[]);const J=w.useCallback(()=>{if(!k.current)return;const U=new Uint8Array(k.current.frequencyBinCount);k.current.getByteFrequencyData(U);const X=U.reduce((le,ge)=>le+ge,0)/U.length;_(X/255),N.current=requestAnimationFrame(J)},[]),Y=async()=>{try{h(null),C.current=[];const U=await navigator.mediaDevices.getUserMedia({audio:!0}),X=new AudioContext,le=X.createMediaStreamSource(U),ge=X.createAnalyser();ge.fftSize=256,le.connect(ge),k.current=ge,J();const Re=new MediaRecorder(U,{mimeType:"audio/webm;codecs=opus"});Re.ondataavailable=T=>{T.data.size>0&&C.current.push(T.data)},Re.onstop=async()=>{U.getTracks().forEach(T=>T.stop()),N.current&&cancelAnimationFrame(N.current),C.current.length>0&&await ee()},R.current=Re,Re.start(100),o(!0),P.current=Date.now(),O.current=setInterval(()=>{const T=Date.now()-P.current;y(T),T>=cd&&q()},100)}catch(U){console.error("Failed to start recording:",U),h("Microphone access denied")}},q=()=>{R.current&&s&&(R.current.stop(),o(!1),_(0),O.current&&(clearInterval(O.current),O.current=null))},ee=async()=>{f(!0),h(null);try{const U=new Blob(C.current,{type:"audio/webm"}),X=new FormData;X.append("audio",U);const le=await fetch(Pn.transcribe,{method:"POST",body:X}),ge=await le.json();if(!le.ok)throw new Error(ge.error||"Transcription failed");ge.text&&a(ge.text)}catch(U){console.error("Transcription error:",U),h(U instanceof Error?U.message:"Transcription failed")}finally{f(!1),y(0)}},ue=()=>{n||c||S||(s?q():Y())},we=()=>{!n&&!c&&S&&Y()},fe=()=>{s&&S&&q()},he=U=>{const X=Math.floor(U/1e3),le=Math.floor(X/60),ge=X%60;return`${le}:${ge.toString().padStart(2,"0")}`},Te=cd-m,Se=m/cd,Ee=i==="floating";return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:`
          flex flex-col items-center
          ${Ee?"fixed right-6 z-40":""}
        `,style:Ee?{bottom:"calc(env(safe-area-inset-bottom, 0px) + 24px)"}:void 0,children:[E.jsx("button",{onClick:ue,onTouchStart:we,onTouchEnd:fe,disabled:n||c,className:`
            w-16 h-16 rounded-full flex items-center justify-center
            shadow-lg transition-all duration-200
            ${s?"scale-110":c?"":"bg-[var(--primary)] hover:scale-105"}
            ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,style:{backgroundColor:s?"var(--error)":c?"var(--text-muted)":void 0},onMouseEnter:U=>{!s&&!c&&(U.currentTarget.style.backgroundColor="var(--primary-dark)")},onMouseLeave:U=>{!s&&!c&&(U.currentTarget.style.backgroundColor="")},children:c?E.jsx("span",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):E.jsxs("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1-9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1s-1-.45-1-1V5z"}),E.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]})}),E.jsx("span",{className:"mt-1.5 text-[10px] font-medium uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:c?"Processing":"Dictate items"})]}),s&&E.jsxs("div",{className:"fixed inset-0 bg-black/80 z-50 flex flex-col items-center justify-center cursor-pointer",onClick:S?void 0:q,children:[E.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[E.jsx("div",{className:"absolute rounded-full bg-[var(--primary)] opacity-20 transition-transform duration-75",style:{width:`${120+v*80}%`,height:`${120+v*80}%`}}),E.jsx("div",{className:"absolute rounded-full bg-[var(--primary)] opacity-30 transition-transform duration-75",style:{width:`${100+v*50}%`,height:`${100+v*50}%`}}),E.jsx("div",{className:"w-32 h-32 rounded-full bg-[var(--primary)] flex items-center justify-center",children:E.jsxs("svg",{className:"w-16 h-16 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1-9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1s-1-.45-1-1V5z"}),E.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]})})]}),E.jsxs("div",{className:"mt-8 text-white text-center",children:[E.jsx("div",{className:"text-4xl font-light tabular-nums",children:he(m)}),E.jsxs("div",{className:"text-sm text-white/60 mt-2",children:[he(Te)," remaining"]})]}),E.jsx("div",{className:"mt-6 w-64 h-1 bg-white/20 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-[var(--primary)] transition-all duration-100",style:{width:`${Se*100}%`}})}),E.jsxs("div",{className:"mt-8 text-white/80 text-center",children:[E.jsx("p",{className:"text-lg",children:"Listening..."}),E.jsx("p",{className:"text-sm text-white/50 mt-2",children:S?"Release to finish recording":"Click anywhere to stop"})]})]}),p&&E.jsx("div",{className:`
            text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-pulse
            ${Ee?"fixed bottom-28 right-6":"absolute mt-2"}
          `,style:{backgroundColor:"var(--error)"},children:p})]})}function Og(a){return a.replace(//g,"...").replace(//g,"--").replace(//g,"--")}const jg=["...groceries for the week","passport, tickets, charger, headphones","...things to pack for camping","lettuce, tomato, bacon, mayo, bread","...ingredients for taco night","sunscreen, towel, sunglasses, book","...gift ideas for mom","eggs, milk, butter, flour, sugar","...what to bring to the potluck","...packing list for hiking day trip"],tE=()=>E.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:[E.jsx("path",{d:"M12 0L13.5 8.5L22 10L13.5 11.5L12 20L10.5 11.5L2 10L10.5 8.5L12 0Z"}),E.jsx("path",{d:"M18 14L18.75 17.25L22 18L18.75 18.75L18 22L17.25 18.75L14 18L17.25 17.25L18 14Z",opacity:"0.7"}),E.jsx("path",{d:"M6 14L6.5 16.5L9 17L6.5 17.5L6 20L5.5 17.5L3 17L5.5 16.5L6 14Z",opacity:"0.5"})]});function nE(){const[a,n]=w.useState(""),[i,s]=w.useState(!1),[o,c]=w.useState(null),[f,p]=w.useState(0),[h,m]=w.useState(!1),[y,v]=w.useState(!1),_=dy(),{generateItems:S}=Vd();w.useEffect(()=>{const J=setInterval(()=>{m(!0),setTimeout(()=>{p(Y=>(Y+1)%jg.length),m(!1)},200)},2500);return()=>clearInterval(J)},[]);const{mode:j,itemCount:R,displayText:C}=w.useMemo(()=>{const Y=Og(a).trim();if(Y.startsWith("..."))return{mode:"ai",itemCount:0,displayText:Y.slice(3).trim()?"AI will generate items":""};if(Y.includes(",")){const q=Y.split(",").map(ee=>ee.trim()).filter(Boolean);return{mode:"multiple",itemCount:q.length,displayText:`Adding ${q.length} items`}}return{mode:"single",itemCount:0,displayText:""}},[a]),k=J=>{const Y=[/\s*~\s*(.+)$/i,/\s*theme:\s*(.+)$/i,/\s*style:\s*(.+)$/i];for(const q of Y){const ee=J.match(q);if(ee){const ue=ee[1].trim();return{content:J.replace(q,"").trim(),themeDescription:ue}}}return{content:J,themeDescription:null}},N=async(J=!1)=>{if(i)return;const q=Og(a).trim();if(!q){s(!0);const ee=ud();await Ye.from("lists").insert({id:ee,title:null}),_(`/${ee}`);return}s(!0),c(null);try{const{content:ee,themeDescription:ue}=k(q),we=ud(),{error:fe}=await Ye.from("lists").insert({id:we,title:null});if(fe)throw fe;let he=[],Te=null;if(J||ee.startsWith("...")){const Se=ee.startsWith("...")?ee.slice(3).trim():ee;if(Se){const Ee=await S(Se);go(Ee)?Te=Ee:he=Ee}}else ee.includes(",")?he=ee.split(",").map(Se=>Se.trim()).filter(Boolean):ee&&(he=[ee]);if(Te&&Te.length>0){const Se={},Ee=Te.filter(X=>!X.parent_id);for(const X of Ee){const{data:le}=await Ye.from("items").insert({list_id:we,content:X.content,completed:!1,parent_id:null,position:X.position}).select().single();le&&(Se[X.id]=le.id)}const U=Te.filter(X=>X.parent_id);for(const X of U){const le=X.parent_id?Se[X.parent_id]:null;await Ye.from("items").insert({list_id:we,content:X.content,completed:!1,parent_id:le,position:X.position})}}else if(he.length>0){const Se=he.map((Ee,U)=>({list_id:we,content:Ee,position:U}));await Ye.from("items").insert(Se)}if(ue)try{const Se=await fetch(Pn.theme,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:ue})});if(Se.ok){const{theme:Ee}=await Se.json();await Ye.from("lists").update({theme:Ee}).eq("id",we)}}catch(Se){console.error("Theme generation failed:",Se)}_(`/${we}`)}catch(ee){console.error("Failed to create list:",ee),c(ee instanceof Error?ee.message:"Failed to create list"),s(!1)}},O=J=>{if(J.key==="Enter"){J.preventDefault();const Y=J.ctrlKey||J.metaKey;N(Y)}},P=async J=>{if(!(!J.trim()||i)){s(!0),c(null);try{const Y=ud(),{error:q}=await Ye.from("lists").insert({id:Y,title:null});if(q)throw q;const ee=await S(J);if(go(ee)){const ue={},we=ee.filter(he=>!he.parent_id);for(const he of we){const{data:Te}=await Ye.from("items").insert({list_id:Y,content:he.content,completed:!1,parent_id:null,position:he.position}).select().single();Te&&(ue[he.id]=Te.id)}const fe=ee.filter(he=>he.parent_id);for(const he of fe){const Te=he.parent_id?ue[he.parent_id]:null;await Ye.from("items").insert({list_id:Y,content:he.content,completed:!1,parent_id:Te,position:he.position})}}else if(ee.length>0){const ue=ee.map((we,fe)=>({list_id:Y,content:we,position:fe}));await Ye.from("items").insert(ue)}_(`/${Y}`)}catch(Y){console.error("Failed to create list from dictation:",Y),c(Y instanceof Error?Y.message:"Failed to create list"),s(!1)}}};return E.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white px-4",children:[E.jsxs("div",{className:"w-full max-w-md md:max-w-[540px] text-center",children:[E.jsxs("div",{className:"space-y-3",style:{marginBottom:"24px"},children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 uppercase tracking-[0.2em]",children:"Listo"}),E.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Create a list. Share the link. Collaborate in real-time."}),E.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs",style:{color:"var(--text-muted)",marginTop:"12px"},children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("svg",{className:"w-3 h-3",style:{color:"var(--primary)"},fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"No signup"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("svg",{className:"w-3 h-3",style:{color:"var(--primary)"},fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Real-time sharing"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("svg",{className:"w-3 h-3",style:{color:"var(--primary)"},fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"AI-powered"]})]})]}),E.jsxs("div",{className:"relative",children:[E.jsxs("div",{className:"flex",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx("input",{type:"text",value:a,onChange:J=>{n(J.target.value),c(null)},onKeyDown:O,disabled:i,autoFocus:!0,className:`
                  w-full text-base
                  border border-r-0
                  hover:border-[var(--primary)] hover:shadow-[0_0_0_3px_var(--primary-pale)]
                  focus:border-[var(--primary)] focus:shadow-[0_0_0_3px_var(--primary-pale)]
                  outline-none transition-all duration-200
                  disabled:opacity-50
                  ${j==="ai"&&a.trim().length>3?"border-[var(--primary-light)]":"border-gray-200"}
                `,style:{padding:"8px 12px",borderRadius:"4px 0 0 4px"}}),!a&&E.jsx("div",{className:`
                    absolute left-3 top-1/2 -translate-y-1/2
                    text-base text-gray-400 pointer-events-none
                    transition-opacity duration-200
                    ${h?"opacity-0":"opacity-100"}
                  `,children:jg[f]})]}),E.jsx("button",{onClick:()=>N(!1),disabled:i,className:"text-white font-medium transition-all duration-200 disabled:opacity-70",style:{backgroundColor:"var(--primary)",borderRadius:"0 4px 4px 0",padding:"8px 16px"},onMouseEnter:J=>!i&&(J.currentTarget.style.backgroundColor="var(--primary-dark)"),onMouseLeave:J=>!i&&(J.currentTarget.style.backgroundColor="var(--primary)"),children:i?E.jsx("span",{className:"inline-block w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Create"})]}),C&&!i&&E.jsxs("div",{className:"absolute left-0 flex items-center gap-1 text-xs text-white bg-[var(--primary)] px-2 py-0.5 rounded-sm",style:{top:"calc(100% + 4px)"},children:[E.jsx(tE,{}),C]}),i&&j==="ai"&&E.jsxs("div",{className:"absolute left-0 flex items-center gap-1.5 text-xs text-white bg-[var(--primary)] px-2 py-0.5 rounded-sm",style:{top:"calc(100% + 4px)"},children:[E.jsx("span",{className:"inline-block w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"AI is thinking..."]}),o&&E.jsx("div",{className:"absolute left-0 text-xs text-white bg-red-500 px-2 py-0.5 rounded-sm",style:{top:"calc(100% + 4px)"},children:o})]}),E.jsx("div",{style:{marginTop:"16px"},children:E.jsx(By,{onTranscription:P,disabled:i,position:"inline"})}),E.jsxs("div",{className:"rounded-lg text-xs text-left",style:{marginTop:"32px",padding:"16px 20px",backgroundColor:"var(--primary-pale)",color:"var(--text-secondary)"},children:[E.jsx("div",{className:"font-bold uppercase tracking-wide text-xs mb-3",style:{color:"var(--primary)"},children:"Shortcuts"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{children:[E.jsxs("div",{children:["Start with ",E.jsx("code",{className:"font-semibold px-1 py-0.5 rounded",style:{backgroundColor:"var(--primary-light)",color:"var(--primary)"},children:"..."})," and a prompt to auto generate items"]}),E.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Example: ...packing list for hiking day trip"})]}),E.jsxs("div",{style:{marginTop:"16px"},children:[E.jsx("div",{children:"Create many items at once by separating them with a comma"}),E.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Example: cheese, bread, tomatoes, bacon, mayonnaise"})]})]})]}),E.jsxs("div",{className:"text-xs text-center",style:{marginTop:"48px",color:"var(--text-muted)"},children:["Note: All listos are public URLs. Never share personal information in a list."," ",E.jsx("button",{onClick:()=>v(!0),className:"underline hover:no-underline",style:{color:"var(--primary)"},children:"Read our privacy policy"})]})]}),y&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>v(!1),children:E.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",style:{padding:"24px"},onClick:J=>J.stopPropagation(),children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Privacy Policy"}),E.jsx("button",{onClick:()=>v(!1),className:"p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-muted)"},children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"space-y-4 text-sm",style:{color:"var(--text-secondary)"},children:[E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Public Use and Sharing"}),E.jsx("p",{children:"LISTO checklists are inherently public. Once you create a listo and share its link, anyone with access to that link can view and edit the listo."})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Data Collection and Use"}),E.jsx("p",{children:"LISTO does not require user registration. All listos are created anonymously."})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Contact Information"}),E.jsxs("p",{children:["Questions? Reach out at"," ",E.jsx("a",{href:"mailto:hello@listo.to",className:"underline",style:{color:"var(--primary)"},children:"hello@listo.to"}),"."]})]})]}),E.jsx("div",{className:"text-center",style:{marginTop:"16px",marginBottom:"16px"},children:E.jsx("button",{onClick:()=>v(!1),className:"text-white rounded font-medium",style:{backgroundColor:"var(--primary)",padding:"8px 16px"},children:"Got it"})})]})})]})}function aE(a){const[n,i]=w.useState(null),[s,o]=w.useState([]),[c,f]=w.useState(!0),[p,h]=w.useState(null),m=w.useRef(new Map),[y,v]=w.useState(new Set),S=w.useCallback((M,I)=>{const B=new Map,te=[];M.forEach(re=>{B.set(re.id,{...re,children:[]})}),M.forEach(re=>{const G=B.get(re.id);re.parent_id&&B.has(re.parent_id)?B.get(re.parent_id).children.push(G):te.push(G)});const ae=(re,G)=>{const F=I.has(re.id),ne=I.has(G.id),oe=re.completed&&!F,se=G.completed&&!ne;return oe!==se?oe?1:-1:re.position-G.position};return te.sort(ae),B.forEach(re=>re.children.sort(ae)),te},[])(s,y);w.useEffect(()=>{async function M(){f(!0),h(null);const{data:I,error:B}=await Ye.from("lists").select("*").eq("id",a).single();if(B&&B.code!=="PGRST116"){h("Failed to load list"),f(!1);return}i(I);const{data:te,error:ae}=await Ye.from("items").select("*").eq("list_id",a).order("position");if(ae){h("Failed to load items"),f(!1);return}o(te||[]),f(!1)}M()},[a]),w.useEffect(()=>{const M=Ye.channel(`list-${a}`).on("postgres_changes",{event:"*",schema:"public",table:"lists",filter:`id=eq.${a}`},I=>{I.eventType==="UPDATE"?i(I.new):I.eventType==="DELETE"&&i(null)}).on("postgres_changes",{event:"*",schema:"public",table:"items",filter:`list_id=eq.${a}`},I=>{if(I.eventType==="INSERT"){const B=I.new,te=`${B.content}|${B.parent_id}|${B.position}`,ae=m.current.get(te);ae?(m.current.delete(te),o(re=>re.map(G=>G.id===ae?B:G))):o(re=>re.some(F=>F.id===B.id)?re:[...re,B])}else I.eventType==="UPDATE"?o(B=>B.map(te=>te.id===I.new.id?I.new:te)):I.eventType==="DELETE"&&o(B=>B.filter(te=>te.id!==I.old.id))}).subscribe();return()=>{Ye.removeChannel(M)}},[a]);const j=async M=>{const{data:I,error:B}=await Ye.from("lists").insert({id:a,title:M||null}).select().single();if(B)throw B;return i(I),I},R=async M=>{i(B=>B&&{...B,title:M});const{error:I}=await Ye.from("lists").update({title:M,updated_at:new Date().toISOString()}).eq("id",a);if(I)throw I},[C,k]=w.useState(null),[N,O]=w.useState([]),P=async(M,I)=>{if(console.log("[addItems] Called with:",{contents:M,parentId:I,listId:a}),M.length===0)return[];const B=I||null,te=s.filter(se=>se.parent_id===B&&!se.completed),ae=M.length;o(se=>se.map(ce=>ce.parent_id===B&&!ce.completed?{...ce,position:ce.position+ae}:ce));const re=M.map((se,ce)=>({list_id:a,content:se,parent_id:B,position:ce}));console.log("[addItems] Inserting items:",re);const{data:G,error:F}=await Ye.from("items").insert(re).select();if(console.log("[addItems] Insert result:",{data:G,error:F}),F)throw console.error("[addItems] Insert error:",F),F;G&&G.length>0&&o(se=>{const ce=new Set(se.map(me=>me.id));return[...G.filter(me=>!ce.has(me.id)),...se]});const ne=G?.map(se=>se.id)||[];O(ne),setTimeout(()=>O([]),500);const oe=te.map(se=>Ye.from("items").update({position:se.position+ae}).eq("id",se.id));return await Promise.all(oe),G||[]},J=async(M,I)=>{const B=I||null,te=s.filter(F=>F.parent_id===B&&!F.completed),ae=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,re={id:ae,list_id:a,content:M,completed:!1,parent_id:B,position:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o(F=>[re,...F.map(ne=>ne.parent_id===B&&!ne.completed?{...ne,position:ne.position+1}:ne)]),k(ae),setTimeout(()=>k(null),500);const G=`${M}|${B}|0`;return m.current.set(G,ae),Ye.from("items").insert({list_id:a,content:M,parent_id:B,position:0}).select().single().then(({data:F,error:ne})=>{if(ne){console.error("Failed to add item:",ne),m.current.delete(G),o(oe=>oe.filter(se=>se.id!==ae));return}m.current.delete(G),o(oe=>{const se=oe.some(Oe=>Oe.id===ae),ce=oe.some(Oe=>Oe.id===F.id);return se&&!ce?oe.map(Oe=>Oe.id===ae?F:Oe):se&&ce?oe.filter(Oe=>Oe.id!==ae):oe})}),te.forEach(F=>{Ye.from("items").update({position:F.position+1}).eq("id",F.id)}),re},Y=async M=>{const{data:I,error:B}=await Ye.from("items").insert({list_id:a,content:M.content,parent_id:M.parent_id,position:M.position,completed:M.completed??!1}).select().single();if(B)throw B;return I&&o(te=>te.some(re=>re.id===I.id)?te:[...te,I]),I},q=async(M,I)=>{o(te=>te.map(ae=>ae.id===M?{...ae,...I}:ae));const{error:B}=await Ye.from("items").update({...I,updated_at:new Date().toISOString()}).eq("id",M);if(B)throw B};return{list:n,items:s,itemTree:S,loading:c,error:p,newItemId:C,newItemIds:N,completingItemIds:y,createList:j,updateTitle:R,updateTheme:async M=>{const{error:I}=await Ye.from("lists").update({theme:M,updated_at:new Date().toISOString()}).eq("id",a);if(I)throw I},updateLargeMode:async M=>{i(B=>B&&{...B,large_mode:M});const{error:I}=await Ye.from("lists").update({large_mode:M,updated_at:new Date().toISOString()}).eq("id",a);if(I)throw I},addItem:J,addItems:P,insertItem:Y,updateItem:q,toggleItem:async M=>{const I=s.find(te=>te.id===M);if(!I)return;const B=!I.completed;o(te=>te.map(ae=>ae.id===M?{...ae,completed:B}:ae)),B&&(v(te=>new Set(te).add(M)),setTimeout(()=>{v(te=>{const ae=new Set(te);return ae.delete(M),ae})},800)),await q(M,{completed:B})},deleteItem:async M=>{const{error:I}=await Ye.from("items").delete().eq("id",M);if(I)throw I},reorderItems:async(M,I)=>{const B=s.find(se=>se.id===M),te=s.find(se=>se.id===I);if(!B||!te)return;const ae=s.filter(se=>se.parent_id===B.parent_id).sort((se,ce)=>se.position-ce.position),re=ae.findIndex(se=>se.id===M),G=ae.findIndex(se=>se.id===I);if(re===-1||G===-1||re===G)return;o(se=>{const ce=se.map(Ne=>({...Ne})),Oe=ce.filter(Ne=>Ne.parent_id===B.parent_id).sort((Ne,je)=>Ne.position-je.position),[me]=Oe.splice(re,1);return Oe.splice(G,0,me),Oe.forEach((Ne,je)=>{const ye=ce.find(Ge=>Ge.id===Ne.id);ye&&(ye.position=je)}),ce});const F=[...ae],[ne]=F.splice(re,1);F.splice(G,0,ne);const oe=F.map((se,ce)=>q(se.id,{position:ce}));await Promise.all(oe)},moveToGroup:async(M,I)=>{if(!s.find(re=>re.id===M))return;const ae=s.filter(re=>re.parent_id===I).length;o(re=>re.map(G=>G.id===M?{...G,parent_id:I,position:ae}:G)),await q(M,{parent_id:I,position:ae})},moveToRoot:async(M,I)=>{if(!s.find(F=>F.id===M))return;const te=s.filter(F=>F.parent_id===null&&!F.completed).sort((F,ne)=>F.position-ne.position),ae=I??te.length;o(F=>F.map(ne=>ne.id===M?{...ne,parent_id:null,position:ae}:ne.parent_id===null&&!ne.completed&&ne.position>=ae?{...ne,position:ne.position+1}:ne));const G=te.filter(F=>F.position>=ae).map(F=>q(F.id,{position:F.position+1}));await Promise.all(G),await q(M,{parent_id:null,position:ae})},indentItem:async M=>{const I=s.find(F=>F.id===M);if(!I)return;const B=s.filter(F=>F.parent_id===I.parent_id).sort((F,ne)=>F.position-ne.position),te=B.findIndex(F=>F.id===M);if(te<=0)return;const ae=B[te-1],G=s.filter(F=>F.parent_id===ae.id).length;await q(M,{parent_id:ae.id,position:G})},outdentItem:async M=>{const I=s.find(F=>F.id===M);if(!I||!I.parent_id)return;const B=s.find(F=>F.id===I.parent_id);if(!B)return;const te=s.filter(F=>F.parent_id===B.parent_id).sort((F,ne)=>F.position-ne.position),re=te.findIndex(F=>F.id===B.id)+1,G=[];te.forEach((F,ne)=>{ne>=re&&G.push(q(F.id,{position:ne+1}))}),G.push(q(M,{parent_id:B.parent_id,position:re})),await Promise.all(G)},completeAll:async()=>{if(s.filter(B=>!B.completed).length===0)return;o(B=>B.map(te=>({...te,completed:!0})));const{error:I}=await Ye.from("items").update({completed:!0,updated_at:new Date().toISOString()}).eq("list_id",a).eq("completed",!1);if(I)throw I},uncompleteAll:async()=>{if(s.filter(B=>B.completed).length===0)return;o(B=>B.map(te=>({...te,completed:!1})));const{error:I}=await Ye.from("items").update({completed:!1,updated_at:new Date().toISOString()}).eq("list_id",a).eq("completed",!0);if(I)throw I},clearCompleted:async()=>{if(s.filter(B=>B.completed).length===0)return;o(B=>B.filter(te=>!te.completed));const{error:I}=await Ye.from("items").delete().eq("list_id",a).eq("completed",!0);if(I)throw I},sortItems:async M=>{const I=s.filter(G=>!G.completed);if(I.length===0)return;const B=new Map;I.forEach(G=>{const F=G.parent_id;B.has(F)||B.set(F,[]),B.get(F).push(G)});const te=[],ae=B.get(null)||[];M&&ae.sort((G,F)=>G.content.toLowerCase().localeCompare(F.content.toLowerCase())),ae.forEach((G,F)=>{te.push({id:G.id,position:F})}),B.forEach((G,F)=>{F!==null&&(G.sort((ne,oe)=>ne.content.toLowerCase().localeCompare(oe.content.toLowerCase())),G.forEach((ne,oe)=>{te.push({id:ne.id,position:oe})}))}),o(G=>{const F=new Map(te.map(ne=>[ne.id,ne.position]));return G.map(ne=>{const oe=F.get(ne.id);return oe!==void 0?{...ne,position:oe}:ne})});const re=te.map(({id:G,position:F})=>Ye.from("items").update({position:F,updated_at:new Date().toISOString()}).eq("id",G));await Promise.all(re)},ungroupAll:async()=>{const M=s.filter(G=>G.content.startsWith("#")),I=s.filter(G=>!G.content.startsWith("#"));if(M.length===0&&!s.some(G=>G.parent_id))return;const B=I.filter(G=>!G.completed),te=I.filter(G=>G.completed),ae=[];if(B.forEach((G,F)=>{ae.push({id:G.id,position:F,parent_id:null})}),te.forEach((G,F)=>{ae.push({id:G.id,position:B.length+F,parent_id:null})}),o(I.map(G=>{const F=ae.find(ne=>ne.id===G.id);return F?{...G,position:F.position,parent_id:null}:G})),M.length>0){const G=M.map(F=>F.id);await Ye.from("items").delete().in("id",G)}const re=ae.map(({id:G,position:F})=>Ye.from("items").update({parent_id:null,position:F,updated_at:new Date().toISOString()}).eq("id",G));await Promise.all(re)},nukeItems:async()=>{if(s.length===0)return;o([]);const{error:M}=await Ye.from("items").delete().eq("list_id",a);if(M)throw M},toggleEmojifyMode:async()=>{const M=!n?.emojify_mode;i(B=>B&&{...B,emojify_mode:M});const{error:I}=await Ye.from("lists").update({emojify_mode:M,updated_at:new Date().toISOString()}).eq("id",a);if(I)throw I}}}function rE({title:a,onUpdate:n,isAutoGenerated:i=!1}){const[s,o]=w.useState(!1),[c,f]=w.useState(a||""),[p,h]=w.useState(!1),m=w.useRef(null);w.useEffect(()=>{f(a||"")},[a]),w.useEffect(()=>{if(i&&a){h(!0);const _=setTimeout(()=>h(!1),1e3);return()=>clearTimeout(_)}},[i,a]),w.useEffect(()=>{s&&m.current&&(m.current.focus(),m.current.select())},[s]);const y=async()=>{const _=c.trim();_!==a&&await n(_),o(!1)},v=_=>{_.key==="Enter"?y():_.key==="Escape"&&(f(a||""),o(!1))};return s?E.jsx("input",{ref:m,type:"text",value:c,onChange:_=>f(_.target.value),onBlur:y,onKeyDown:v,placeholder:"Untitled List",className:"text-2xl font-semibold bg-transparent border-none outline-none w-full",style:{color:"var(--text-primary)"}}):E.jsx("h1",{onClick:()=>o(!0),className:`text-2xl font-semibold cursor-pointer transition-all duration-500 ${p?"animate-fade-in":""}`,style:{color:"var(--text-primary)",opacity:p?1:void 0},onMouseEnter:_=>_.currentTarget.style.color="var(--text-secondary)",onMouseLeave:_=>_.currentTarget.style.color="var(--text-primary)",children:a||"Untitled List"})}function iE(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return w.useMemo(()=>s=>{n.forEach(o=>o(s))},n)}const Co=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vi(a){const n=Object.prototype.toString.call(a);return n==="[object Window]"||n==="[object global]"}function Kd(a){return"nodeType"in a}function Xt(a){var n,i;return a?vi(a)?a:Kd(a)&&(n=(i=a.ownerDocument)==null?void 0:i.defaultView)!=null?n:window:window}function Yd(a){const{Document:n}=Xt(a);return a instanceof n}function Ls(a){return vi(a)?!1:a instanceof Xt(a).HTMLElement}function qy(a){return a instanceof Xt(a).SVGElement}function bi(a){return a?vi(a)?a.document:Kd(a)?Yd(a)?a:Ls(a)||qy(a)?a.ownerDocument:document:document:document}const Hn=Co?w.useLayoutEffect:w.useEffect;function Oo(a){const n=w.useRef(a);return Hn(()=>{n.current=a}),w.useCallback(function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.current==null?void 0:n.current(...s)},[])}function sE(){const a=w.useRef(null),n=w.useCallback((s,o)=>{a.current=setInterval(s,o)},[]),i=w.useCallback(()=>{a.current!==null&&(clearInterval(a.current),a.current=null)},[]);return[n,i]}function js(a,n){n===void 0&&(n=[a]);const i=w.useRef(a);return Hn(()=>{i.current!==a&&(i.current=a)},n),i}function Bs(a,n){const i=w.useRef();return w.useMemo(()=>{const s=a(i.current);return i.current=s,s},[...n])}function yo(a){const n=Oo(a),i=w.useRef(null),s=w.useCallback(o=>{o!==i.current&&n?.(o,i.current),i.current=o},[]);return[i,s]}function vo(a){const n=w.useRef();return w.useEffect(()=>{n.current=a},[a]),n.current}let dd={};function qs(a,n){return w.useMemo(()=>{if(n)return n;const i=dd[a]==null?0:dd[a]+1;return dd[a]=i,a+"-"+i},[a,n])}function $y(a){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s.reduce((c,f)=>{const p=Object.entries(f);for(const[h,m]of p){const y=c[h];y!=null&&(c[h]=y+a*m)}return c},{...n})}}const mi=$y(1),Ds=$y(-1);function lE(a){return"clientX"in a&&"clientY"in a}function jo(a){if(!a)return!1;const{KeyboardEvent:n}=Xt(a.target);return n&&a instanceof n}function oE(a){if(!a)return!1;const{TouchEvent:n}=Xt(a.target);return n&&a instanceof n}function bo(a){if(oE(a)){if(a.touches&&a.touches.length){const{clientX:n,clientY:i}=a.touches[0];return{x:n,y:i}}else if(a.changedTouches&&a.changedTouches.length){const{clientX:n,clientY:i}=a.changedTouches[0];return{x:n,y:i}}}return lE(a)?{x:a.clientX,y:a.clientY}:null}const Ya=Object.freeze({Translate:{toString(a){if(!a)return;const{x:n,y:i}=a;return"translate3d("+(n?Math.round(n):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;const{scaleX:n,scaleY:i}=a;return"scaleX("+n+") scaleY("+i+")"}},Transform:{toString(a){if(a)return[Ya.Translate.toString(a),Ya.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:n,duration:i,easing:s}=a;return n+" "+i+"ms "+s}}}),Dg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function uE(a){return a.matches(Dg)?a:a.querySelector(Dg)}const cE={display:"none"};function dE(a){let{id:n,value:i}=a;return dt.createElement("div",{id:n,style:cE},i)}function fE(a){let{id:n,announcement:i,ariaLiveType:s="assertive"}=a;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return dt.createElement("div",{id:n,style:o,role:"status","aria-live":s,"aria-atomic":!0},i)}function hE(){const[a,n]=w.useState("");return{announce:w.useCallback(s=>{s!=null&&n(s)},[]),announcement:a}}const Hy=w.createContext(null);function pE(a){const n=w.useContext(Hy);w.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(a)},[a,n])}function mE(){const[a]=w.useState(()=>new Set),n=w.useCallback(s=>(a.add(s),()=>a.delete(s)),[a]);return[w.useCallback(s=>{let{type:o,event:c}=s;a.forEach(f=>{var p;return(p=f[o])==null?void 0:p.call(f,c)})},[a]),n]}const gE={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},yE={onDragStart(a){let{active:n}=a;return"Picked up draggable item "+n.id+"."},onDragOver(a){let{active:n,over:i}=a;return i?"Draggable item "+n.id+" was moved over droppable area "+i.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(a){let{active:n,over:i}=a;return i?"Draggable item "+n.id+" was dropped over droppable area "+i.id:"Draggable item "+n.id+" was dropped."},onDragCancel(a){let{active:n}=a;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function vE(a){let{announcements:n=yE,container:i,hiddenTextDescribedById:s,screenReaderInstructions:o=gE}=a;const{announce:c,announcement:f}=hE(),p=qs("DndLiveRegion"),[h,m]=w.useState(!1);if(w.useEffect(()=>{m(!0)},[]),pE(w.useMemo(()=>({onDragStart(v){let{active:_}=v;c(n.onDragStart({active:_}))},onDragMove(v){let{active:_,over:S}=v;n.onDragMove&&c(n.onDragMove({active:_,over:S}))},onDragOver(v){let{active:_,over:S}=v;c(n.onDragOver({active:_,over:S}))},onDragEnd(v){let{active:_,over:S}=v;c(n.onDragEnd({active:_,over:S}))},onDragCancel(v){let{active:_,over:S}=v;c(n.onDragCancel({active:_,over:S}))}}),[c,n])),!h)return null;const y=dt.createElement(dt.Fragment,null,dt.createElement(dE,{id:s,value:o.draggable}),dt.createElement(fE,{id:p,announcement:f}));return i?ms.createPortal(y,i):y}var Ot;(function(a){a.DragStart="dragStart",a.DragMove="dragMove",a.DragEnd="dragEnd",a.DragCancel="dragCancel",a.DragOver="dragOver",a.RegisterDroppable="registerDroppable",a.SetDroppableDisabled="setDroppableDisabled",a.UnregisterDroppable="unregisterDroppable"})(Ot||(Ot={}));function wo(){}function Ng(a,n){return w.useMemo(()=>({sensor:a,options:n??{}}),[a,n])}function bE(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return w.useMemo(()=>[...n].filter(s=>s!=null),[...n])}const In=Object.freeze({x:0,y:0});function Iy(a,n){return Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))}function wE(a,n){const i=bo(a);if(!i)return"0 0";const s={x:(i.x-n.left)/n.width*100,y:(i.y-n.top)/n.height*100};return s.x+"% "+s.y+"%"}function Gy(a,n){let{data:{value:i}}=a,{data:{value:s}}=n;return i-s}function _E(a,n){let{data:{value:i}}=a,{data:{value:s}}=n;return s-i}function kg(a){let{left:n,top:i,height:s,width:o}=a;return[{x:n,y:i},{x:n+o,y:i},{x:n,y:i+s},{x:n+o,y:i+s}]}function Vy(a,n){if(!a||a.length===0)return null;const[i]=a;return i[n]}function Ug(a,n,i){return n===void 0&&(n=a.left),i===void 0&&(i=a.top),{x:n+a.width*.5,y:i+a.height*.5}}const SE=a=>{let{collisionRect:n,droppableRects:i,droppableContainers:s}=a;const o=Ug(n,n.left,n.top),c=[];for(const f of s){const{id:p}=f,h=i.get(p);if(h){const m=Iy(Ug(h),o);c.push({id:p,data:{droppableContainer:f,value:m}})}}return c.sort(Gy)},EE=a=>{let{collisionRect:n,droppableRects:i,droppableContainers:s}=a;const o=kg(n),c=[];for(const f of s){const{id:p}=f,h=i.get(p);if(h){const m=kg(h),y=o.reduce((_,S,j)=>_+Iy(m[j],S),0),v=Number((y/4).toFixed(4));c.push({id:p,data:{droppableContainer:f,value:v}})}}return c.sort(Gy)};function xE(a,n){const i=Math.max(n.top,a.top),s=Math.max(n.left,a.left),o=Math.min(n.left+n.width,a.left+a.width),c=Math.min(n.top+n.height,a.top+a.height),f=o-s,p=c-i;if(s<o&&i<c){const h=n.width*n.height,m=a.width*a.height,y=f*p,v=y/(h+m-y);return Number(v.toFixed(4))}return 0}const Ky=a=>{let{collisionRect:n,droppableRects:i,droppableContainers:s}=a;const o=[];for(const c of s){const{id:f}=c,p=i.get(f);if(p){const h=xE(p,n);h>0&&o.push({id:f,data:{droppableContainer:c,value:h}})}}return o.sort(_E)};function TE(a,n,i){return{...a,scaleX:n&&i?n.width/i.width:1,scaleY:n&&i?n.height/i.height:1}}function Yy(a,n){return a&&n?{x:a.left-n.left,y:a.top-n.top}:In}function RE(a){return function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];return o.reduce((f,p)=>({...f,top:f.top+a*p.y,bottom:f.bottom+a*p.y,left:f.left+a*p.x,right:f.right+a*p.x}),{...i})}}const AE=RE(1);function Py(a){if(a.startsWith("matrix3d(")){const n=a.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(a.startsWith("matrix(")){const n=a.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function CE(a,n,i){const s=Py(n);if(!s)return a;const{scaleX:o,scaleY:c,x:f,y:p}=s,h=a.left-f-(1-o)*parseFloat(i),m=a.top-p-(1-c)*parseFloat(i.slice(i.indexOf(" ")+1)),y=o?a.width/o:a.width,v=c?a.height/c:a.height;return{width:y,height:v,top:m,right:h+y,bottom:m+v,left:h}}const OE={ignoreTransform:!1};function wi(a,n){n===void 0&&(n=OE);let i=a.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:y}=Xt(a).getComputedStyle(a);m&&(i=CE(i,m,y))}const{top:s,left:o,width:c,height:f,bottom:p,right:h}=i;return{top:s,left:o,width:c,height:f,bottom:p,right:h}}function Mg(a){return wi(a,{ignoreTransform:!0})}function jE(a){const n=a.innerWidth,i=a.innerHeight;return{top:0,left:0,right:n,bottom:i,width:n,height:i}}function DE(a,n){return n===void 0&&(n=Xt(a).getComputedStyle(a)),n.position==="fixed"}function NE(a,n){n===void 0&&(n=Xt(a).getComputedStyle(a));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=n[o];return typeof c=="string"?i.test(c):!1})}function Do(a,n){const i=[];function s(o){if(n!=null&&i.length>=n||!o)return i;if(Yd(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!Ls(o)||qy(o)||i.includes(o))return i;const c=Xt(a).getComputedStyle(o);return o!==a&&NE(o,c)&&i.push(o),DE(o,c)?i:s(o.parentNode)}return a?s(a):i}function Xy(a){const[n]=Do(a,1);return n??null}function fd(a){return!Co||!a?null:vi(a)?a:Kd(a)?Yd(a)||a===bi(a).scrollingElement?window:Ls(a)?a:null:null}function Jy(a){return vi(a)?a.scrollX:a.scrollLeft}function Qy(a){return vi(a)?a.scrollY:a.scrollTop}function jd(a){return{x:Jy(a),y:Qy(a)}}var Ut;(function(a){a[a.Forward=1]="Forward",a[a.Backward=-1]="Backward"})(Ut||(Ut={}));function Zy(a){return!Co||!a?!1:a===document.scrollingElement}function Wy(a){const n={x:0,y:0},i=Zy(a)?{height:window.innerHeight,width:window.innerWidth}:{height:a.clientHeight,width:a.clientWidth},s={x:a.scrollWidth-i.width,y:a.scrollHeight-i.height},o=a.scrollTop<=n.y,c=a.scrollLeft<=n.x,f=a.scrollTop>=s.y,p=a.scrollLeft>=s.x;return{isTop:o,isLeft:c,isBottom:f,isRight:p,maxScroll:s,minScroll:n}}const kE={x:.2,y:.2};function UE(a,n,i,s,o){let{top:c,left:f,right:p,bottom:h}=i;s===void 0&&(s=10),o===void 0&&(o=kE);const{isTop:m,isBottom:y,isLeft:v,isRight:_}=Wy(a),S={x:0,y:0},j={x:0,y:0},R={height:n.height*o.y,width:n.width*o.x};return!m&&c<=n.top+R.height?(S.y=Ut.Backward,j.y=s*Math.abs((n.top+R.height-c)/R.height)):!y&&h>=n.bottom-R.height&&(S.y=Ut.Forward,j.y=s*Math.abs((n.bottom-R.height-h)/R.height)),!_&&p>=n.right-R.width?(S.x=Ut.Forward,j.x=s*Math.abs((n.right-R.width-p)/R.width)):!v&&f<=n.left+R.width&&(S.x=Ut.Backward,j.x=s*Math.abs((n.left+R.width-f)/R.width)),{direction:S,speed:j}}function ME(a){if(a===document.scrollingElement){const{innerWidth:c,innerHeight:f}=window;return{top:0,left:0,right:c,bottom:f,width:c,height:f}}const{top:n,left:i,right:s,bottom:o}=a.getBoundingClientRect();return{top:n,left:i,right:s,bottom:o,width:a.clientWidth,height:a.clientHeight}}function Fy(a){return a.reduce((n,i)=>mi(n,jd(i)),In)}function zE(a){return a.reduce((n,i)=>n+Jy(i),0)}function LE(a){return a.reduce((n,i)=>n+Qy(i),0)}function ev(a,n){if(n===void 0&&(n=wi),!a)return;const{top:i,left:s,bottom:o,right:c}=n(a);Xy(a)&&(o<=0||c<=0||i>=window.innerHeight||s>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}const BE=[["x",["left","right"],zE],["y",["top","bottom"],LE]];class Pd{constructor(n,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Do(i),o=Fy(s);this.rect={...n},this.width=n.width,this.height=n.height;for(const[c,f,p]of BE)for(const h of f)Object.defineProperty(this,h,{get:()=>{const m=p(s),y=o[c]-m;return this.rect[h]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class bs{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...i)})},this.target=n}add(n,i,s){var o;(o=this.target)==null||o.addEventListener(n,i,s),this.listeners.push([n,i,s])}}function qE(a){const{EventTarget:n}=Xt(a);return a instanceof n?a:bi(a)}function hd(a,n){const i=Math.abs(a.x),s=Math.abs(a.y);return typeof n=="number"?Math.sqrt(i**2+s**2)>n:"x"in n&&"y"in n?i>n.x&&s>n.y:"x"in n?i>n.x:"y"in n?s>n.y:!1}var jn;(function(a){a.Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange"})(jn||(jn={}));function zg(a){a.preventDefault()}function $E(a){a.stopPropagation()}var Ke;(function(a){a.Space="Space",a.Down="ArrowDown",a.Right="ArrowRight",a.Left="ArrowLeft",a.Up="ArrowUp",a.Esc="Escape",a.Enter="Enter",a.Tab="Tab"})(Ke||(Ke={}));const tv={start:[Ke.Space,Ke.Enter],cancel:[Ke.Esc],end:[Ke.Space,Ke.Enter,Ke.Tab]},HE=(a,n)=>{let{currentCoordinates:i}=n;switch(a.code){case Ke.Right:return{...i,x:i.x+25};case Ke.Left:return{...i,x:i.x-25};case Ke.Down:return{...i,y:i.y+25};case Ke.Up:return{...i,y:i.y-25}}};class Xd{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:i}}=n;this.props=n,this.listeners=new bs(bi(i)),this.windowListeners=new bs(Xt(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jn.Resize,this.handleCancel),this.windowListeners.add(jn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:i}=this.props,s=n.node.current;s&&ev(s),i(In)}handleKeyDown(n){if(jo(n)){const{active:i,context:s,options:o}=this.props,{keyboardCodes:c=tv,coordinateGetter:f=HE,scrollBehavior:p="smooth"}=o,{code:h}=n;if(c.end.includes(h)){this.handleEnd(n);return}if(c.cancel.includes(h)){this.handleCancel(n);return}const{collisionRect:m}=s.current,y=m?{x:m.left,y:m.top}:In;this.referenceCoordinates||(this.referenceCoordinates=y);const v=f(n,{active:i,context:s.current,currentCoordinates:y});if(v){const _=Ds(v,y),S={x:0,y:0},{scrollableAncestors:j}=s.current;for(const R of j){const C=n.code,{isTop:k,isRight:N,isLeft:O,isBottom:P,maxScroll:J,minScroll:Y}=Wy(R),q=ME(R),ee={x:Math.min(C===Ke.Right?q.right-q.width/2:q.right,Math.max(C===Ke.Right?q.left:q.left+q.width/2,v.x)),y:Math.min(C===Ke.Down?q.bottom-q.height/2:q.bottom,Math.max(C===Ke.Down?q.top:q.top+q.height/2,v.y))},ue=C===Ke.Right&&!N||C===Ke.Left&&!O,we=C===Ke.Down&&!P||C===Ke.Up&&!k;if(ue&&ee.x!==v.x){const fe=R.scrollLeft+_.x,he=C===Ke.Right&&fe<=J.x||C===Ke.Left&&fe>=Y.x;if(he&&!_.y){R.scrollTo({left:fe,behavior:p});return}he?S.x=R.scrollLeft-fe:S.x=C===Ke.Right?R.scrollLeft-J.x:R.scrollLeft-Y.x,S.x&&R.scrollBy({left:-S.x,behavior:p});break}else if(we&&ee.y!==v.y){const fe=R.scrollTop+_.y,he=C===Ke.Down&&fe<=J.y||C===Ke.Up&&fe>=Y.y;if(he&&!_.x){R.scrollTo({top:fe,behavior:p});return}he?S.y=R.scrollTop-fe:S.y=C===Ke.Down?R.scrollTop-J.y:R.scrollTop-Y.y,S.y&&R.scrollBy({top:-S.y,behavior:p});break}}this.handleMove(n,mi(Ds(v,this.referenceCoordinates),S))}}}handleMove(n,i){const{onMove:s}=this.props;n.preventDefault(),s(i)}handleEnd(n){const{onEnd:i}=this.props;n.preventDefault(),this.detach(),i()}handleCancel(n){const{onCancel:i}=this.props;n.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xd.activators=[{eventName:"onKeyDown",handler:(a,n,i)=>{let{keyboardCodes:s=tv,onActivation:o}=n,{active:c}=i;const{code:f}=a.nativeEvent;if(s.start.includes(f)){const p=c.activatorNode.current;return p&&a.target!==p?!1:(a.preventDefault(),o?.({event:a.nativeEvent}),!0)}return!1}}];function Lg(a){return!!(a&&"distance"in a)}function Bg(a){return!!(a&&"delay"in a)}class Jd{constructor(n,i,s){var o;s===void 0&&(s=qE(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=i;const{event:c}=n,{target:f}=c;this.props=n,this.events=i,this.document=bi(f),this.documentListeners=new bs(this.document),this.listeners=new bs(s),this.windowListeners=new bs(Xt(f)),this.initialCoordinates=(o=bo(c))!=null?o:In,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:i,bypassActivationConstraint:s}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(jn.Resize,this.handleCancel),this.windowListeners.add(jn.DragStart,zg),this.windowListeners.add(jn.VisibilityChange,this.handleCancel),this.windowListeners.add(jn.ContextMenu,zg),this.documentListeners.add(jn.Keydown,this.handleKeydown),i){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Bg(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Lg(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,i){const{active:s,onPending:o}=this.props;o(s,n,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:n}=this,{onStart:i}=this.props;n&&(this.activated=!0,this.documentListeners.add(jn.Click,$E,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jn.SelectionChange,this.removeTextSelection),i(n))}handleMove(n){var i;const{activated:s,initialCoordinates:o,props:c}=this,{onMove:f,options:{activationConstraint:p}}=c;if(!o)return;const h=(i=bo(n))!=null?i:In,m=Ds(o,h);if(!s&&p){if(Lg(p)){if(p.tolerance!=null&&hd(m,p.tolerance))return this.handleCancel();if(hd(m,p.distance))return this.handleStart()}if(Bg(p)&&hd(m,p.tolerance))return this.handleCancel();this.handlePending(p,m);return}n.cancelable&&n.preventDefault(),f(h)}handleEnd(){const{onAbort:n,onEnd:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleCancel(){const{onAbort:n,onCancel:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleKeydown(n){n.code===Ke.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const IE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Qd extends Jd{constructor(n){const{event:i}=n,s=bi(i.target);super(n,IE,s)}}Qd.activators=[{eventName:"onPointerDown",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:s}=n;return!i.isPrimary||i.button!==0?!1:(s?.({event:i}),!0)}}];const GE={move:{name:"mousemove"},end:{name:"mouseup"}};var Dd;(function(a){a[a.RightClick=2]="RightClick"})(Dd||(Dd={}));class VE extends Jd{constructor(n){super(n,GE,bi(n.event.target))}}VE.activators=[{eventName:"onMouseDown",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:s}=n;return i.button===Dd.RightClick?!1:(s?.({event:i}),!0)}}];const pd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class KE extends Jd{constructor(n){super(n,pd)}static setup(){return window.addEventListener(pd.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(pd.move.name,n)};function n(){}}}KE.activators=[{eventName:"onTouchStart",handler:(a,n)=>{let{nativeEvent:i}=a,{onActivation:s}=n;const{touches:o}=i;return o.length>1?!1:(s?.({event:i}),!0)}}];var ws;(function(a){a[a.Pointer=0]="Pointer",a[a.DraggableRect=1]="DraggableRect"})(ws||(ws={}));var _o;(function(a){a[a.TreeOrder=0]="TreeOrder",a[a.ReversedTreeOrder=1]="ReversedTreeOrder"})(_o||(_o={}));function YE(a){let{acceleration:n,activator:i=ws.Pointer,canScroll:s,draggingRect:o,enabled:c,interval:f=5,order:p=_o.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:y,delta:v,threshold:_}=a;const S=XE({delta:v,disabled:!c}),[j,R]=sE(),C=w.useRef({x:0,y:0}),k=w.useRef({x:0,y:0}),N=w.useMemo(()=>{switch(i){case ws.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case ws.DraggableRect:return o}},[i,o,h]),O=w.useRef(null),P=w.useCallback(()=>{const Y=O.current;if(!Y)return;const q=C.current.x*k.current.x,ee=C.current.y*k.current.y;Y.scrollBy(q,ee)},[]),J=w.useMemo(()=>p===_o.TreeOrder?[...m].reverse():m,[p,m]);w.useEffect(()=>{if(!c||!m.length||!N){R();return}for(const Y of J){if(s?.(Y)===!1)continue;const q=m.indexOf(Y),ee=y[q];if(!ee)continue;const{direction:ue,speed:we}=UE(Y,ee,N,n,_);for(const fe of["x","y"])S[fe][ue[fe]]||(we[fe]=0,ue[fe]=0);if(we.x>0||we.y>0){R(),O.current=Y,j(P,f),C.current=we,k.current=ue;return}}C.current={x:0,y:0},k.current={x:0,y:0},R()},[n,P,s,R,c,f,JSON.stringify(N),JSON.stringify(S),j,m,J,y,JSON.stringify(_)])}const PE={x:{[Ut.Backward]:!1,[Ut.Forward]:!1},y:{[Ut.Backward]:!1,[Ut.Forward]:!1}};function XE(a){let{delta:n,disabled:i}=a;const s=vo(n);return Bs(o=>{if(i||!s||!o)return PE;const c={x:Math.sign(n.x-s.x),y:Math.sign(n.y-s.y)};return{x:{[Ut.Backward]:o.x[Ut.Backward]||c.x===-1,[Ut.Forward]:o.x[Ut.Forward]||c.x===1},y:{[Ut.Backward]:o.y[Ut.Backward]||c.y===-1,[Ut.Forward]:o.y[Ut.Forward]||c.y===1}}},[i,n,s])}function JE(a,n){const i=n!=null?a.get(n):void 0,s=i?i.node.current:null;return Bs(o=>{var c;return n==null?null:(c=s??o)!=null?c:null},[s,n])}function QE(a,n){return w.useMemo(()=>a.reduce((i,s)=>{const{sensor:o}=s,c=o.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,s)}));return[...i,...c]},[]),[a,n])}var Ns;(function(a){a[a.Always=0]="Always",a[a.BeforeDragging=1]="BeforeDragging",a[a.WhileDragging=2]="WhileDragging"})(Ns||(Ns={}));var Nd;(function(a){a.Optimized="optimized"})(Nd||(Nd={}));const qg=new Map;function ZE(a,n){let{dragging:i,dependencies:s,config:o}=n;const[c,f]=w.useState(null),{frequency:p,measure:h,strategy:m}=o,y=w.useRef(a),v=C(),_=js(v),S=w.useCallback(function(k){k===void 0&&(k=[]),!_.current&&f(N=>N===null?k:N.concat(k.filter(O=>!N.includes(O))))},[_]),j=w.useRef(null),R=Bs(k=>{if(v&&!i)return qg;if(!k||k===qg||y.current!==a||c!=null){const N=new Map;for(let O of a){if(!O)continue;if(c&&c.length>0&&!c.includes(O.id)&&O.rect.current){N.set(O.id,O.rect.current);continue}const P=O.node.current,J=P?new Pd(h(P),P):null;O.rect.current=J,J&&N.set(O.id,J)}return N}return k},[a,c,i,v,h]);return w.useEffect(()=>{y.current=a},[a]),w.useEffect(()=>{v||S()},[i,v]),w.useEffect(()=>{c&&c.length>0&&f(null)},[JSON.stringify(c)]),w.useEffect(()=>{v||typeof p!="number"||j.current!==null||(j.current=setTimeout(()=>{S(),j.current=null},p))},[p,v,S,...s]),{droppableRects:R,measureDroppableContainers:S,measuringScheduled:c!=null};function C(){switch(m){case Ns.Always:return!1;case Ns.BeforeDragging:return i;default:return!i}}}function Zd(a,n){return Bs(i=>a?i||(typeof n=="function"?n(a):a):null,[n,a])}function WE(a,n){return Zd(a,n)}function FE(a){let{callback:n,disabled:i}=a;const s=Oo(n),o=w.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(s)},[s,i]);return w.useEffect(()=>()=>o?.disconnect(),[o]),o}function No(a){let{callback:n,disabled:i}=a;const s=Oo(n),o=w.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(s)},[i]);return w.useEffect(()=>()=>o?.disconnect(),[o]),o}function ex(a){return new Pd(wi(a),a)}function $g(a,n,i){n===void 0&&(n=ex);const[s,o]=w.useState(null);function c(){o(h=>{if(!a)return null;if(a.isConnected===!1){var m;return(m=h??i)!=null?m:null}const y=n(a);return JSON.stringify(h)===JSON.stringify(y)?h:y})}const f=FE({callback(h){if(a)for(const m of h){const{type:y,target:v}=m;if(y==="childList"&&v instanceof HTMLElement&&v.contains(a)){c();break}}}}),p=No({callback:c});return Hn(()=>{c(),a?(p?.observe(a),f?.observe(document.body,{childList:!0,subtree:!0})):(p?.disconnect(),f?.disconnect())},[a]),s}function tx(a){const n=Zd(a);return Yy(a,n)}const Hg=[];function nx(a){const n=w.useRef(a),i=Bs(s=>a?s&&s!==Hg&&a&&n.current&&a.parentNode===n.current.parentNode?s:Do(a):Hg,[a]);return w.useEffect(()=>{n.current=a},[a]),i}function ax(a){const[n,i]=w.useState(null),s=w.useRef(a),o=w.useCallback(c=>{const f=fd(c.target);f&&i(p=>p?(p.set(f,jd(f)),new Map(p)):null)},[]);return w.useEffect(()=>{const c=s.current;if(a!==c){f(c);const p=a.map(h=>{const m=fd(h);return m?(m.addEventListener("scroll",o,{passive:!0}),[m,jd(m)]):null}).filter(h=>h!=null);i(p.length?new Map(p):null),s.current=a}return()=>{f(a),f(c)};function f(p){p.forEach(h=>{const m=fd(h);m?.removeEventListener("scroll",o)})}},[o,a]),w.useMemo(()=>a.length?n?Array.from(n.values()).reduce((c,f)=>mi(c,f),In):Fy(a):In,[a,n])}function Ig(a,n){n===void 0&&(n=[]);const i=w.useRef(null);return w.useEffect(()=>{i.current=null},n),w.useEffect(()=>{const s=a!==In;s&&!i.current&&(i.current=a),!s&&i.current&&(i.current=null)},[a]),i.current?Ds(a,i.current):In}function rx(a){w.useEffect(()=>{if(!Co)return;const n=a.map(i=>{let{sensor:s}=i;return s.setup==null?void 0:s.setup()});return()=>{for(const i of n)i?.()}},a.map(n=>{let{sensor:i}=n;return i}))}function ix(a,n){return w.useMemo(()=>a.reduce((i,s)=>{let{eventName:o,handler:c}=s;return i[o]=f=>{c(f,n)},i},{}),[a,n])}function nv(a){return w.useMemo(()=>a?jE(a):null,[a])}const Gg=[];function sx(a,n){n===void 0&&(n=wi);const[i]=a,s=nv(i?Xt(i):null),[o,c]=w.useState(Gg);function f(){c(()=>a.length?a.map(h=>Zy(h)?s:new Pd(n(h),h)):Gg)}const p=No({callback:f});return Hn(()=>{p?.disconnect(),f(),a.forEach(h=>p?.observe(h))},[a]),o}function av(a){if(!a)return null;if(a.children.length>1)return a;const n=a.children[0];return Ls(n)?n:a}function lx(a){let{measure:n}=a;const[i,s]=w.useState(null),o=w.useCallback(m=>{for(const{target:y}of m)if(Ls(y)){s(v=>{const _=n(y);return v?{...v,width:_.width,height:_.height}:_});break}},[n]),c=No({callback:o}),f=w.useCallback(m=>{const y=av(m);c?.disconnect(),y&&c?.observe(y),s(y?n(y):null)},[n,c]),[p,h]=yo(f);return w.useMemo(()=>({nodeRef:p,rect:i,setRef:h}),[i,p,h])}const ox=[{sensor:Qd,options:{}},{sensor:Xd,options:{}}],ux={current:{}},uo={draggable:{measure:Mg},droppable:{measure:Mg,strategy:Ns.WhileDragging,frequency:Nd.Optimized},dragOverlay:{measure:wi}};class _s extends Map{get(n){var i;return n!=null&&(i=super.get(n))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:i}=n;return!i})}getNodeFor(n){var i,s;return(i=(s=this.get(n))==null?void 0:s.node.current)!=null?i:void 0}}const cx={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _s,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:uo,measureDroppableContainers:wo,windowRect:null,measuringScheduled:!1},rv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wo,draggableNodes:new Map,over:null,measureDroppableContainers:wo},$s=w.createContext(rv),iv=w.createContext(cx);function dx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _s}}}function fx(a,n){switch(n.type){case Ot.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Ot.DragMove:return a.draggable.active==null?a:{...a,draggable:{...a.draggable,translate:{x:n.coordinates.x-a.draggable.initialCoordinates.x,y:n.coordinates.y-a.draggable.initialCoordinates.y}}};case Ot.DragEnd:case Ot.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ot.RegisterDroppable:{const{element:i}=n,{id:s}=i,o=new _s(a.droppable.containers);return o.set(s,i),{...a,droppable:{...a.droppable,containers:o}}}case Ot.SetDroppableDisabled:{const{id:i,key:s,disabled:o}=n,c=a.droppable.containers.get(i);if(!c||s!==c.key)return a;const f=new _s(a.droppable.containers);return f.set(i,{...c,disabled:o}),{...a,droppable:{...a.droppable,containers:f}}}case Ot.UnregisterDroppable:{const{id:i,key:s}=n,o=a.droppable.containers.get(i);if(!o||s!==o.key)return a;const c=new _s(a.droppable.containers);return c.delete(i),{...a,droppable:{...a.droppable,containers:c}}}default:return a}}function hx(a){let{disabled:n}=a;const{active:i,activatorEvent:s,draggableNodes:o}=w.useContext($s),c=vo(s),f=vo(i?.id);return w.useEffect(()=>{if(!n&&!s&&c&&f!=null){if(!jo(c)||document.activeElement===c.target)return;const p=o.get(f);if(!p)return;const{activatorNode:h,node:m}=p;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const y of[h.current,m.current]){if(!y)continue;const v=uE(y);if(v){v.focus();break}}})}},[s,n,o,f,c]),null}function sv(a,n){let{transform:i,...s}=n;return a!=null&&a.length?a.reduce((o,c)=>c({transform:o,...s}),i):i}function px(a){return w.useMemo(()=>({draggable:{...uo.draggable,...a?.draggable},droppable:{...uo.droppable,...a?.droppable},dragOverlay:{...uo.dragOverlay,...a?.dragOverlay}}),[a?.draggable,a?.droppable,a?.dragOverlay])}function mx(a){let{activeNode:n,measure:i,initialRect:s,config:o=!0}=a;const c=w.useRef(!1),{x:f,y:p}=typeof o=="boolean"?{x:o,y:o}:o;Hn(()=>{if(!f&&!p||!n){c.current=!1;return}if(c.current||!s)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const y=i(m),v=Yy(y,s);if(f||(v.x=0),p||(v.y=0),c.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const _=Xy(m);_&&_.scrollBy({top:v.y,left:v.x})}},[n,f,p,s,i])}const ko=w.createContext({...In,scaleX:1,scaleY:1});var Va;(function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Initializing=1]="Initializing",a[a.Initialized=2]="Initialized"})(Va||(Va={}));const gx=w.memo(function(n){var i,s,o,c;let{id:f,accessibility:p,autoScroll:h=!0,children:m,sensors:y=ox,collisionDetection:v=Ky,measuring:_,modifiers:S,...j}=n;const R=w.useReducer(fx,void 0,dx),[C,k]=R,[N,O]=mE(),[P,J]=w.useState(Va.Uninitialized),Y=P===Va.Initialized,{draggable:{active:q,nodes:ee,translate:ue},droppable:{containers:we}}=C,fe=q!=null?ee.get(q):null,he=w.useRef({initial:null,translated:null}),Te=w.useMemo(()=>{var yt;return q!=null?{id:q,data:(yt=fe?.data)!=null?yt:ux,rect:he}:null},[q,fe]),Se=w.useRef(null),[Ee,U]=w.useState(null),[X,le]=w.useState(null),ge=js(j,Object.values(j)),Re=qs("DndDescribedBy",f),T=w.useMemo(()=>we.getEnabled(),[we]),K=px(_),{droppableRects:H,measureDroppableContainers:M,measuringScheduled:I}=ZE(T,{dragging:Y,dependencies:[ue.x,ue.y],config:K.droppable}),B=JE(ee,q),te=w.useMemo(()=>X?bo(X):null,[X]),ae=vr(),re=WE(B,K.draggable.measure);mx({activeNode:q!=null?ee.get(q):null,config:ae.layoutShiftCompensation,initialRect:re,measure:K.draggable.measure});const G=$g(B,K.draggable.measure,re),F=$g(B?B.parentElement:null),ne=w.useRef({activatorEvent:null,active:null,activeNode:B,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:ee,draggingNode:null,draggingNodeRect:null,droppableContainers:we,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),oe=we.getNodeFor((i=ne.current.over)==null?void 0:i.id),se=lx({measure:K.dragOverlay.measure}),ce=(s=se.nodeRef.current)!=null?s:B,Oe=Y?(o=se.rect)!=null?o:G:null,me=!!(se.nodeRef.current&&se.rect),Ne=tx(me?null:G),je=nv(ce?Xt(ce):null),ye=nx(Y?oe??B:null),Ge=sx(ye),Je=sv(S,{transform:{x:ue.x-Ne.x,y:ue.y-Ne.y,scaleX:1,scaleY:1},activatorEvent:X,active:Te,activeNodeRect:G,containerNodeRect:F,draggingNodeRect:Oe,over:ne.current.over,overlayNodeRect:se.rect,scrollableAncestors:ye,scrollableAncestorRects:Ge,windowRect:je}),Be=te?mi(te,ue):null,De=ax(ye),jt=Ig(De),It=Ig(De,[G]),Yt=mi(Je,jt),Gt=Oe?AE(Oe,Je):null,de=Te&&Gt?v({active:Te,collisionRect:Gt,droppableRects:H,droppableContainers:T,pointerCoordinates:Be}):null,ie=Vy(de,"id"),[Le,lt]=w.useState(null),Ue=me?Je:mi(Je,It),at=TE(Ue,(c=Le?.rect)!=null?c:null,G),Ze=w.useRef(null),rt=w.useCallback((yt,vt)=>{let{sensor:Dt,options:Jt}=vt;if(Se.current==null)return;const Qt=ee.get(Se.current);if(!Qt)return;const Vt=yt.nativeEvent,Zt=new Dt({active:Se.current,activeNode:Qt,event:Vt,options:Jt,context:ne,onAbort(Rt){if(!ee.get(Rt))return;const{onDragAbort:sn}=ge.current,vn={id:Rt};sn?.(vn),N({type:"onDragAbort",event:vn})},onPending(Rt,Nn,sn,vn){if(!ee.get(Rt))return;const{onDragPending:Qn}=ge.current,kn={id:Rt,constraint:Nn,initialCoordinates:sn,offset:vn};Qn?.(kn),N({type:"onDragPending",event:kn})},onStart(Rt){const Nn=Se.current;if(Nn==null)return;const sn=ee.get(Nn);if(!sn)return;const{onDragStart:vn}=ge.current,Jn={activatorEvent:Vt,active:{id:Nn,data:sn.data,rect:he}};ms.unstable_batchedUpdates(()=>{vn?.(Jn),J(Va.Initializing),k({type:Ot.DragStart,initialCoordinates:Rt,active:Nn}),N({type:"onDragStart",event:Jn}),U(Ze.current),le(Vt)})},onMove(Rt){k({type:Ot.DragMove,coordinates:Rt})},onEnd:yn(Ot.DragEnd),onCancel:yn(Ot.DragCancel)});Ze.current=Zt;function yn(Rt){return async function(){const{active:sn,collisions:vn,over:Jn,scrollAdjustedTranslate:Qn}=ne.current;let kn=null;if(sn&&Qn){const{cancelDrop:ba}=ge.current;kn={activatorEvent:Vt,active:sn,collisions:vn,delta:Qn,over:Jn},Rt===Ot.DragEnd&&typeof ba=="function"&&await Promise.resolve(ba(kn))&&(Rt=Ot.DragCancel)}Se.current=null,ms.unstable_batchedUpdates(()=>{k({type:Rt}),J(Va.Uninitialized),lt(null),U(null),le(null),Ze.current=null;const ba=Rt===Ot.DragEnd?"onDragEnd":"onDragCancel";if(kn){const bn=ge.current[ba];bn?.(kn),N({type:ba,event:kn})}})}}},[ee]),Uo=w.useCallback((yt,vt)=>(Dt,Jt)=>{const Qt=Dt.nativeEvent,Vt=ee.get(Jt);if(Se.current!==null||!Vt||Qt.dndKit||Qt.defaultPrevented)return;const Zt={active:Vt};yt(Dt,vt.options,Zt)===!0&&(Qt.dndKit={capturedBy:vt.sensor},Se.current=Jt,rt(Dt,vt))},[ee,rt]),Hs=QE(y,Uo);rx(y),Hn(()=>{G&&P===Va.Initializing&&J(Va.Initialized)},[G,P]),w.useEffect(()=>{const{onDragMove:yt}=ge.current,{active:vt,activatorEvent:Dt,collisions:Jt,over:Qt}=ne.current;if(!vt||!Dt)return;const Vt={active:vt,activatorEvent:Dt,collisions:Jt,delta:{x:Yt.x,y:Yt.y},over:Qt};ms.unstable_batchedUpdates(()=>{yt?.(Vt),N({type:"onDragMove",event:Vt})})},[Yt.x,Yt.y]),w.useEffect(()=>{const{active:yt,activatorEvent:vt,collisions:Dt,droppableContainers:Jt,scrollAdjustedTranslate:Qt}=ne.current;if(!yt||Se.current==null||!vt||!Qt)return;const{onDragOver:Vt}=ge.current,Zt=Jt.get(ie),yn=Zt&&Zt.rect.current?{id:Zt.id,rect:Zt.rect.current,data:Zt.data,disabled:Zt.disabled}:null,Rt={active:yt,activatorEvent:vt,collisions:Dt,delta:{x:Qt.x,y:Qt.y},over:yn};ms.unstable_batchedUpdates(()=>{lt(yn),Vt?.(Rt),N({type:"onDragOver",event:Rt})})},[ie]),Hn(()=>{ne.current={activatorEvent:X,active:Te,activeNode:B,collisionRect:Gt,collisions:de,droppableRects:H,draggableNodes:ee,draggingNode:ce,draggingNodeRect:Oe,droppableContainers:we,over:Le,scrollableAncestors:ye,scrollAdjustedTranslate:Yt},he.current={initial:Oe,translated:Gt}},[Te,B,de,Gt,ee,ce,Oe,H,we,Le,ye,Yt]),YE({...ae,delta:ue,draggingRect:Gt,pointerCoordinates:Be,scrollableAncestors:ye,scrollableAncestorRects:Ge});const Mo=w.useMemo(()=>({active:Te,activeNode:B,activeNodeRect:G,activatorEvent:X,collisions:de,containerNodeRect:F,dragOverlay:se,draggableNodes:ee,droppableContainers:we,droppableRects:H,over:Le,measureDroppableContainers:M,scrollableAncestors:ye,scrollableAncestorRects:Ge,measuringConfiguration:K,measuringScheduled:I,windowRect:je}),[Te,B,G,X,de,F,se,ee,we,H,Le,M,ye,Ge,K,I,je]),yr=w.useMemo(()=>({activatorEvent:X,activators:Hs,active:Te,activeNodeRect:G,ariaDescribedById:{draggable:Re},dispatch:k,draggableNodes:ee,over:Le,measureDroppableContainers:M}),[X,Hs,Te,G,k,Re,ee,Le,M]);return dt.createElement(Hy.Provider,{value:O},dt.createElement($s.Provider,{value:yr},dt.createElement(iv.Provider,{value:Mo},dt.createElement(ko.Provider,{value:at},m)),dt.createElement(hx,{disabled:p?.restoreFocus===!1})),dt.createElement(vE,{...p,hiddenTextDescribedById:Re}));function vr(){const yt=Ee?.autoScrollEnabled===!1,vt=typeof h=="object"?h.enabled===!1:h===!1,Dt=Y&&!yt&&!vt;return typeof h=="object"?{...h,enabled:Dt}:{enabled:Dt}}}),yx=w.createContext(null),Vg="button",vx="Draggable";function bx(a){let{id:n,data:i,disabled:s=!1,attributes:o}=a;const c=qs(vx),{activators:f,activatorEvent:p,active:h,activeNodeRect:m,ariaDescribedById:y,draggableNodes:v,over:_}=w.useContext($s),{role:S=Vg,roleDescription:j="draggable",tabIndex:R=0}=o??{},C=h?.id===n,k=w.useContext(C?ko:yx),[N,O]=yo(),[P,J]=yo(),Y=ix(f,n),q=js(i);Hn(()=>(v.set(n,{id:n,key:c,node:N,activatorNode:P,data:q}),()=>{const ue=v.get(n);ue&&ue.key===c&&v.delete(n)}),[v,n]);const ee=w.useMemo(()=>({role:S,tabIndex:R,"aria-disabled":s,"aria-pressed":C&&S===Vg?!0:void 0,"aria-roledescription":j,"aria-describedby":y.draggable}),[s,S,R,C,j,y.draggable]);return{active:h,activatorEvent:p,activeNodeRect:m,attributes:ee,isDragging:C,listeners:s?void 0:Y,node:N,over:_,setNodeRef:O,setActivatorNodeRef:J,transform:k}}function lv(){return w.useContext(iv)}const wx="Droppable",_x={timeout:25};function ov(a){let{data:n,disabled:i=!1,id:s,resizeObserverConfig:o}=a;const c=qs(wx),{active:f,dispatch:p,over:h,measureDroppableContainers:m}=w.useContext($s),y=w.useRef({disabled:i}),v=w.useRef(!1),_=w.useRef(null),S=w.useRef(null),{disabled:j,updateMeasurementsFor:R,timeout:C}={..._x,...o},k=js(R??s),N=w.useCallback(()=>{if(!v.current){v.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{m(Array.isArray(k.current)?k.current:[k.current]),S.current=null},C)},[C]),O=No({callback:N,disabled:j||!f}),P=w.useCallback((ee,ue)=>{O&&(ue&&(O.unobserve(ue),v.current=!1),ee&&O.observe(ee))},[O]),[J,Y]=yo(P),q=js(n);return w.useEffect(()=>{!O||!J.current||(O.disconnect(),v.current=!1,O.observe(J.current))},[J,O]),w.useEffect(()=>(p({type:Ot.RegisterDroppable,element:{id:s,key:c,disabled:i,node:J,rect:_,data:q}}),()=>p({type:Ot.UnregisterDroppable,key:c,id:s})),[s]),w.useEffect(()=>{i!==y.current.disabled&&(p({type:Ot.SetDroppableDisabled,id:s,key:c,disabled:i}),y.current.disabled=i)},[s,c,i,p]),{active:f,rect:_,isOver:h?.id===s,node:J,over:h,setNodeRef:Y}}function Sx(a){let{animation:n,children:i}=a;const[s,o]=w.useState(null),[c,f]=w.useState(null),p=vo(i);return!i&&!s&&p&&o(p),Hn(()=>{if(!c)return;const h=s?.key,m=s?.props.id;if(h==null||m==null){o(null);return}Promise.resolve(n(m,c)).then(()=>{o(null)})},[n,s,c]),dt.createElement(dt.Fragment,null,i,s?w.cloneElement(s,{ref:f}):null)}const Ex={x:0,y:0,scaleX:1,scaleY:1};function xx(a){let{children:n}=a;return dt.createElement($s.Provider,{value:rv},dt.createElement(ko.Provider,{value:Ex},n))}const Tx={position:"fixed",touchAction:"none"},Rx=a=>jo(a)?"transform 250ms ease":void 0,Ax=w.forwardRef((a,n)=>{let{as:i,activatorEvent:s,adjustScale:o,children:c,className:f,rect:p,style:h,transform:m,transition:y=Rx}=a;if(!p)return null;const v=o?m:{...m,scaleX:1,scaleY:1},_={...Tx,width:p.width,height:p.height,top:p.top,left:p.left,transform:Ya.Transform.toString(v),transformOrigin:o&&s?wE(s,p):void 0,transition:typeof y=="function"?y(s):y,...h};return dt.createElement(i,{className:f,style:_,ref:n},c)}),Cx=a=>n=>{let{active:i,dragOverlay:s}=n;const o={},{styles:c,className:f}=a;if(c!=null&&c.active)for(const[p,h]of Object.entries(c.active))h!==void 0&&(o[p]=i.node.style.getPropertyValue(p),i.node.style.setProperty(p,h));if(c!=null&&c.dragOverlay)for(const[p,h]of Object.entries(c.dragOverlay))h!==void 0&&s.node.style.setProperty(p,h);return f!=null&&f.active&&i.node.classList.add(f.active),f!=null&&f.dragOverlay&&s.node.classList.add(f.dragOverlay),function(){for(const[h,m]of Object.entries(o))i.node.style.setProperty(h,m);f!=null&&f.active&&i.node.classList.remove(f.active)}},Ox=a=>{let{transform:{initial:n,final:i}}=a;return[{transform:Ya.Transform.toString(n)},{transform:Ya.Transform.toString(i)}]},jx={duration:250,easing:"ease",keyframes:Ox,sideEffects:Cx({styles:{active:{opacity:"0"}}})};function Dx(a){let{config:n,draggableNodes:i,droppableContainers:s,measuringConfiguration:o}=a;return Oo((c,f)=>{if(n===null)return;const p=i.get(c);if(!p)return;const h=p.node.current;if(!h)return;const m=av(f);if(!m)return;const{transform:y}=Xt(f).getComputedStyle(f),v=Py(y);if(!v)return;const _=typeof n=="function"?n:Nx(n);return ev(h,o.draggable.measure),_({active:{id:c,data:p.data,node:h,rect:o.draggable.measure(h)},draggableNodes:i,dragOverlay:{node:f,rect:o.dragOverlay.measure(m)},droppableContainers:s,measuringConfiguration:o,transform:v})})}function Nx(a){const{duration:n,easing:i,sideEffects:s,keyframes:o}={...jx,...a};return c=>{let{active:f,dragOverlay:p,transform:h,...m}=c;if(!n)return;const y={x:p.rect.left-f.rect.left,y:p.rect.top-f.rect.top},v={scaleX:h.scaleX!==1?f.rect.width*h.scaleX/p.rect.width:1,scaleY:h.scaleY!==1?f.rect.height*h.scaleY/p.rect.height:1},_={x:h.x-y.x,y:h.y-y.y,...v},S=o({...m,active:f,dragOverlay:p,transform:{initial:h,final:_}}),[j]=S,R=S[S.length-1];if(JSON.stringify(j)===JSON.stringify(R))return;const C=s?.({active:f,dragOverlay:p,...m}),k=p.node.animate(S,{duration:n,easing:i,fill:"forwards"});return new Promise(N=>{k.onfinish=()=>{C?.(),N()}})}}let Kg=0;function kx(a){return w.useMemo(()=>{if(a!=null)return Kg++,Kg},[a])}const Ux=dt.memo(a=>{let{adjustScale:n=!1,children:i,dropAnimation:s,style:o,transition:c,modifiers:f,wrapperElement:p="div",className:h,zIndex:m=999}=a;const{activatorEvent:y,active:v,activeNodeRect:_,containerNodeRect:S,draggableNodes:j,droppableContainers:R,dragOverlay:C,over:k,measuringConfiguration:N,scrollableAncestors:O,scrollableAncestorRects:P,windowRect:J}=lv(),Y=w.useContext(ko),q=kx(v?.id),ee=sv(f,{activatorEvent:y,active:v,activeNodeRect:_,containerNodeRect:S,draggingNodeRect:C.rect,over:k,overlayNodeRect:C.rect,scrollableAncestors:O,scrollableAncestorRects:P,transform:Y,windowRect:J}),ue=Zd(_),we=Dx({config:s,draggableNodes:j,droppableContainers:R,measuringConfiguration:N}),fe=ue?C.setRef:void 0;return dt.createElement(xx,null,dt.createElement(Sx,{animation:we},v&&q?dt.createElement(Ax,{key:q,id:v.id,ref:fe,as:p,activatorEvent:y,adjustScale:n,className:h,transition:c,rect:ue,style:{zIndex:m,...o},transform:ee},i):null))});function uv(a,n,i){const s=a.slice();return s.splice(i<0?s.length+i:i,0,s.splice(n,1)[0]),s}function Mx(a,n){return a.reduce((i,s,o)=>{const c=n.get(s);return c&&(i[o]=c),i},Array(a.length))}function io(a){return a!==null&&a>=0}function zx(a,n){if(a===n)return!0;if(a.length!==n.length)return!1;for(let i=0;i<a.length;i++)if(a[i]!==n[i])return!1;return!0}function Lx(a){return typeof a=="boolean"?{draggable:a,droppable:a}:a}const cv=a=>{let{rects:n,activeIndex:i,overIndex:s,index:o}=a;const c=uv(n,s,i),f=n[o],p=c[o];return!p||!f?null:{x:p.left-f.left,y:p.top-f.top,scaleX:p.width/f.width,scaleY:p.height/f.height}},so={scaleX:1,scaleY:1},Bx=a=>{var n;let{activeIndex:i,activeNodeRect:s,index:o,rects:c,overIndex:f}=a;const p=(n=c[i])!=null?n:s;if(!p)return null;if(o===i){const m=c[f];return m?{x:0,y:i<f?m.top+m.height-(p.top+p.height):m.top-p.top,...so}:null}const h=qx(c,o,i);return o>i&&o<=f?{x:0,y:-p.height-h,...so}:o<i&&o>=f?{x:0,y:p.height+h,...so}:{x:0,y:0,...so}};function qx(a,n,i){const s=a[n],o=a[n-1],c=a[n+1];return s?i<n?o?s.top-(o.top+o.height):c?c.top-(s.top+s.height):0:c?c.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const dv="Sortable",fv=dt.createContext({activeIndex:-1,containerId:dv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cv,disabled:{draggable:!1,droppable:!1}});function $x(a){let{children:n,id:i,items:s,strategy:o=cv,disabled:c=!1}=a;const{active:f,dragOverlay:p,droppableRects:h,over:m,measureDroppableContainers:y}=lv(),v=qs(dv,i),_=p.rect!==null,S=w.useMemo(()=>s.map(Y=>typeof Y=="object"&&"id"in Y?Y.id:Y),[s]),j=f!=null,R=f?S.indexOf(f.id):-1,C=m?S.indexOf(m.id):-1,k=w.useRef(S),N=!zx(S,k.current),O=C!==-1&&R===-1||N,P=Lx(c);Hn(()=>{N&&j&&y(S)},[N,S,j,y]),w.useEffect(()=>{k.current=S},[S]);const J=w.useMemo(()=>({activeIndex:R,containerId:v,disabled:P,disableTransforms:O,items:S,overIndex:C,useDragOverlay:_,sortedRects:Mx(S,h),strategy:o}),[R,v,P.draggable,P.droppable,O,S,C,h,_,o]);return dt.createElement(fv.Provider,{value:J},n)}const Hx=a=>{let{id:n,items:i,activeIndex:s,overIndex:o}=a;return uv(i,s,o).indexOf(n)},Ix=a=>{let{containerId:n,isSorting:i,wasDragging:s,index:o,items:c,newIndex:f,previousItems:p,previousContainerId:h,transition:m}=a;return!m||!s||p!==c&&o===f?!1:i?!0:f!==o&&n===h},Gx={duration:200,easing:"ease"},hv="transform",Vx=Ya.Transition.toString({property:hv,duration:0,easing:"linear"}),Kx={roleDescription:"sortable"};function Yx(a){let{disabled:n,index:i,node:s,rect:o}=a;const[c,f]=w.useState(null),p=w.useRef(i);return Hn(()=>{if(!n&&i!==p.current&&s.current){const h=o.current;if(h){const m=wi(s.current,{ignoreTransform:!0}),y={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(y.x||y.y)&&f(y)}}i!==p.current&&(p.current=i)},[n,i,s,o]),w.useEffect(()=>{c&&f(null)},[c]),c}function Px(a){let{animateLayoutChanges:n=Ix,attributes:i,disabled:s,data:o,getNewIndex:c=Hx,id:f,strategy:p,resizeObserverConfig:h,transition:m=Gx}=a;const{items:y,containerId:v,activeIndex:_,disabled:S,disableTransforms:j,sortedRects:R,overIndex:C,useDragOverlay:k,strategy:N}=w.useContext(fv),O=Xx(s,S),P=y.indexOf(f),J=w.useMemo(()=>({sortable:{containerId:v,index:P,items:y},...o}),[v,o,P,y]),Y=w.useMemo(()=>y.slice(y.indexOf(f)),[y,f]),{rect:q,node:ee,isOver:ue,setNodeRef:we}=ov({id:f,data:J,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:Y,...h}}),{active:fe,activatorEvent:he,activeNodeRect:Te,attributes:Se,setNodeRef:Ee,listeners:U,isDragging:X,over:le,setActivatorNodeRef:ge,transform:Re}=bx({id:f,data:J,attributes:{...Kx,...i},disabled:O.draggable}),T=iE(we,Ee),K=!!fe,H=K&&!j&&io(_)&&io(C),M=!k&&X,I=M&&H?Re:null,te=H?I??(p??N)({rects:R,activeNodeRect:Te,activeIndex:_,overIndex:C,index:P}):null,ae=io(_)&&io(C)?c({id:f,items:y,activeIndex:_,overIndex:C}):P,re=fe?.id,G=w.useRef({activeId:re,items:y,newIndex:ae,containerId:v}),F=y!==G.current.items,ne=n({active:fe,containerId:v,isDragging:X,isSorting:K,id:f,index:P,items:y,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:m,wasDragging:G.current.activeId!=null}),oe=Yx({disabled:!ne,index:P,node:ee,rect:q});return w.useEffect(()=>{K&&G.current.newIndex!==ae&&(G.current.newIndex=ae),v!==G.current.containerId&&(G.current.containerId=v),y!==G.current.items&&(G.current.items=y)},[K,ae,v,y]),w.useEffect(()=>{if(re===G.current.activeId)return;if(re!=null&&G.current.activeId==null){G.current.activeId=re;return}const ce=setTimeout(()=>{G.current.activeId=re},50);return()=>clearTimeout(ce)},[re]),{active:fe,activeIndex:_,attributes:Se,data:J,rect:q,index:P,newIndex:ae,items:y,isOver:ue,isSorting:K,isDragging:X,listeners:U,node:ee,overIndex:C,over:le,setNodeRef:T,setActivatorNodeRef:ge,setDroppableNodeRef:we,setDraggableNodeRef:Ee,transform:oe??te,transition:se()};function se(){if(oe||F&&G.current.newIndex===P)return Vx;if(!(M&&!jo(he)||!m)&&(K||ne))return Ya.Transition.toString({...m,property:hv})}}function Xx(a,n){var i,s;return typeof a=="boolean"?{draggable:a,droppable:!1}:{draggable:(i=a?.draggable)!=null?i:n.draggable,droppable:(s=a?.droppable)!=null?s:n.droppable}}function So(a){if(!a)return!1;const n=a.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const Jx=[Ke.Down,Ke.Right,Ke.Up,Ke.Left],Qx=(a,n)=>{let{context:{active:i,collisionRect:s,droppableRects:o,droppableContainers:c,over:f,scrollableAncestors:p}}=n;if(Jx.includes(a.code)){if(a.preventDefault(),!i||!s)return;const h=[];c.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const _=o.get(v.id);if(_)switch(a.code){case Ke.Down:s.top<_.top&&h.push(v);break;case Ke.Up:s.top>_.top&&h.push(v);break;case Ke.Left:s.left>_.left&&h.push(v);break;case Ke.Right:s.left<_.left&&h.push(v);break}});const m=EE({collisionRect:s,droppableRects:o,droppableContainers:h});let y=Vy(m,"id");if(y===f?.id&&m.length>1&&(y=m[1].id),y!=null){const v=c.get(i.id),_=c.get(y),S=_?o.get(_.id):null,j=_?.node.current;if(j&&S&&v&&_){const C=Do(j).some((Y,q)=>p[q]!==Y),k=pv(v,_),N=Zx(v,_),O=C||!k?{x:0,y:0}:{x:N?s.width-S.width:0,y:N?s.height-S.height:0},P={x:S.left,y:S.top};return O.x&&O.y?P:Ds(P,O)}}}};function pv(a,n){return!So(a)||!So(n)?!1:a.data.current.sortable.containerId===n.data.current.sortable.containerId}function Zx(a,n){return!So(a)||!So(n)||!pv(a,n)?!1:a.data.current.sortable.index<n.data.current.sortable.index}function Wx(a){const n=a.getBoundingClientRect(),i=n.width/2,s=n.height/2;for(let o=0;o<8;o++){const c=document.createElement("div");c.className="sparkle-particle";const f=o/8*Math.PI*2+(Math.random()-.5)*.5,p=20+Math.random()*15,h=Math.cos(f)*p,m=Math.sin(f)*p-10;c.style.left=`${i}px`,c.style.top=`${s}px`,c.style.setProperty("--tx",`${h}px`),c.style.setProperty("--ty",`${m}px`),a.appendChild(c),setTimeout(()=>c.remove(),600)}}function Yg({item:a,depth:n=0,isNew:i=!1,isCompleting:s=!1,isDropTarget:o=!1,largeMode:c=!1,sortingDisabled:f=!1,onToggle:p,onUpdate:h,onDelete:m,onIndent:y,onOutdent:v,onAddItem:_}){const[S,j]=w.useState(!1),[R,C]=w.useState(a.content),[k,N]=w.useState(!1),O=w.useRef(null),P=w.useRef(null),J=w.useRef(null),{attributes:Y,listeners:q,setNodeRef:ee,transform:ue,transition:we,isDragging:fe}=Px({id:a.id,disabled:f}),he={transform:Ya.Transform.toString(ue),transition:we};w.useEffect(()=>{C(a.content)},[a.content]);const Te=a.content.toLowerCase().startsWith("note:");w.useEffect(()=>{if(S)if(Te&&P.current){P.current.focus();const H=P.current.value.length;P.current.setSelectionRange(H,H),P.current.style.height="auto",P.current.style.height=P.current.scrollHeight+"px"}else O.current&&O.current.focus()},[S,Te]);const Se=async()=>{const H=R.trim();H&&H!==a.content?(await h(a.id,H),j(!1)):H?j(!1):(N(!0),await m(a.id))},Ee=async H=>{H.key==="Enter"&&!H.shiftKey?(H.preventDefault(),await Se()):H.key==="Escape"?(C(a.content),j(!1)):H.key==="Tab"&&!H.shiftKey?(H.preventDefault(),await y(a.id)):H.key==="Tab"&&H.shiftKey?(H.preventDefault(),await v(a.id)):H.key==="Backspace"&&R===""&&(H.preventDefault(),await m(a.id))},U=async H=>{const M=R.toLowerCase().startsWith("note:")?R.slice(5).trim():R.trim();H.key==="Enter"&&(H.metaKey||H.ctrlKey||M==="")?(H.preventDefault(),await Se()):H.key==="Escape"?(C(a.content),j(!1)):H.key==="Backspace"&&R===""&&(H.preventDefault(),await m(a.id))},X=H=>{C(H.target.value),H.target.style.height="auto",H.target.style.height=H.target.scrollHeight+"px"},le=w.useCallback(async H=>{H.stopPropagation(),!a.completed&&J.current&&Wx(J.current),await p(a.id)},[a.completed,a.id,p]);if(k)return null;const ge=H=>{try{let I=new URL(H).hostname.replace(/^www\./,"");return I.length>25&&(I=I.slice(0,22)+"..."),I}catch{return"link"}},Re=H=>{const M=/(https?:\/\/[^\s]+)/g;return H.split(M).map((B,te)=>{if(M.test(B)){M.lastIndex=0;const ae=ge(B);return E.jsxs("a",{href:B,target:"_blank",rel:"noopener noreferrer",title:B,onClick:re=>re.stopPropagation(),className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--primary-pale)",color:"var(--primary)",textDecoration:"none",whiteSpace:"nowrap"},children:[E.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),ae]},te)}return B})},T=a.content.startsWith("#"),K=T?a.content.slice(1).trim():Te?a.content.slice(5).trim():a.content;return T?E.jsx("div",{ref:ee,style:he,className:`
          flex items-center gap-3 rounded-lg group
          transition-all duration-200
          ${fe?"item-dragging opacity-50 z-50":""}
          ${i?"item-new item-slide-in":""}
        `,children:E.jsxs("div",{className:"flex items-center gap-3 flex-1",style:{paddingLeft:`${n*24}px`,paddingTop:"8px",paddingBottom:"4px",marginTop:n===0?"12px":"0"},children:[E.jsx("div",{...Y,...q,className:"cursor-grab opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--text-muted)"},onMouseEnter:H=>H.currentTarget.style.color="var(--text-secondary)",onMouseLeave:H=>H.currentTarget.style.color="var(--text-muted)",children:E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{d:"M7 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})}),E.jsx("div",{className:`${c?"w-10 h-10 text-xl":"w-5 h-5 text-sm"} flex items-center justify-center text-[var(--primary)] font-bold`,children:"#"}),S?E.jsx("input",{ref:O,type:"text",value:R,onChange:H=>C(H.target.value),onBlur:Se,onKeyDown:Ee,className:`flex-1 bg-transparent border-none outline-none font-semibold ${c?"text-xl":""}`,style:{color:"var(--text-primary)"}}):E.jsx("span",{onClick:()=>j(!0),className:`flex-1 cursor-pointer font-semibold text-[var(--primary)] uppercase tracking-wide ${c?"text-xl":"text-sm"}`,children:K})]})}):Te?E.jsx("div",{ref:ee,style:he,className:`
          flex items-center gap-3 rounded-lg group
          transition-all duration-200
          ${fe?"item-dragging opacity-50 z-50":""}
          ${i?"item-new item-slide-in":""}
          item-hover
        `,children:E.jsxs("div",{className:"flex items-start gap-3 flex-1",style:{paddingLeft:`${n*24}px`,paddingTop:"4px",paddingBottom:"4px"},children:[E.jsx("div",{...Y,...q,className:"cursor-grab opacity-0 group-hover:opacity-100 transition-opacity mt-0.5",style:{color:"var(--text-muted)"},onMouseEnter:H=>H.currentTarget.style.color="var(--text-secondary)",onMouseLeave:H=>H.currentTarget.style.color="var(--text-muted)",children:E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{d:"M7 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})}),E.jsx("div",{className:`flex items-center justify-center ${c?"w-10 h-10 text-lg":"w-5 h-5 text-xs"}`,style:{color:"var(--text-muted)"},children:E.jsx("svg",{className:`${c?"w-5 h-5":"w-4 h-4"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),S?E.jsx("textarea",{ref:P,value:R,onChange:X,onBlur:Se,onKeyDown:U,rows:1,className:`flex-1 bg-transparent border-none outline-none italic resize-none ${c?"text-xl":"text-sm"}`,style:{color:"var(--text-secondary)",minHeight:"20px"}}):E.jsx("span",{onClick:()=>j(!0),className:`flex-1 cursor-pointer italic ${c?"text-xl":"text-sm"}`,style:{color:"var(--text-secondary)",whiteSpace:"pre-wrap"},children:Re(K)})]})}):E.jsx("div",{ref:ee,style:he,className:`
        flex items-center gap-3 rounded-lg group
        transition-all duration-200
        ${fe?"item-dragging opacity-50 z-50":""}
        ${i?"item-new item-slide-in":""}
        ${s?"item-completing":""}
        ${a.completed&&!s?"item-completed":""}
        ${a.completed?"":"item-hover"}
      `,children:E.jsxs("div",{className:"flex items-center gap-3 flex-1",style:{paddingLeft:`${n*24}px`,paddingTop:"2px",paddingBottom:"2px"},children:[E.jsx("div",{...Y,...q,className:"cursor-grab opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--text-muted)"},onMouseEnter:H=>H.currentTarget.style.color="var(--text-secondary)",onMouseLeave:H=>H.currentTarget.style.color="var(--text-muted)",children:E.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{d:"M7 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})}),E.jsx("button",{ref:J,onClick:le,className:`
            relative rounded-md border-2 flex items-center justify-center
            checkbox transition-all duration-150
            ${c?"w-10 h-10":"w-5 h-5"}
            ${a.completed?"checkbox-checked border-[var(--primary)] bg-[var(--primary)]":"hover:border-[var(--primary)]"}
          `,style:{borderColor:a.completed?void 0:"var(--border-medium)"},children:a.completed&&E.jsx("svg",{className:`${c?"w-6 h-6":"w-3 h-3"} text-white`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),S?E.jsx("input",{ref:O,type:"text",value:R,onChange:H=>C(H.target.value),onBlur:Se,onKeyDown:Ee,className:`flex-1 bg-transparent border-none outline-none ${c?"text-2xl":""}`,style:{color:"var(--text-primary)"}}):E.jsx("span",{onClick:()=>j(!0),className:`
              flex-1 cursor-pointer item-text transition-colors duration-200
              ${a.completed?"line-through":""}
              ${c?"text-2xl":""}
            `,style:{color:a.completed?"var(--text-muted)":"var(--text-primary)"},children:Re(K)})]})})}function Pg(a){return a.replace(//g,"...").replace(//g,"--").replace(//g,"--")}function Fx({onAdd:a,onBulkAdd:n,onAIGenerate:i,onAICategorizedGenerate:s,onAIManipulate:o,onThemeGenerate:c,onThemeReset:f,onCompleteAll:p,onUncompleteAll:h,onSetLargeMode:m,onClearCompleted:y,onSort:v,onUngroupAll:_,onToggleEmojify:S,onNuke:j,onGenerateTitle:R,placeholder:C="Add items...",autoFocus:k=!1,prefillValue:N,onPrefillConsumed:O}){const[P,J]=w.useState(""),[Y,q]=w.useState(!1),[ee,ue]=w.useState("AI is thinking..."),[we,fe]=w.useState(null),he=w.useRef(null),Te=w.useRef(null),Se=w.useRef(!1);w.useEffect(()=>{k&&he.current&&he.current.focus()},[k]),w.useEffect(()=>{N&&(J(N),setTimeout(()=>{N.toLowerCase().startsWith("note:")?Te.current?.focus():he.current?.focus()},0),O?.())},[N,O]);const{mode:Ee,displayText:U}=w.useMemo(()=>{const F=Pg(P).trim(),ne=F.toLowerCase();if(ne.startsWith("--")){const oe=ne.slice(2).trim();let se="";return oe==="complete all"||oe==="complete"?se="Complete all items":oe==="uncomplete all"||oe==="uncomplete"||oe==="reset"?se="Reset all items":oe==="large"||oe==="big"?se="Enable large mode":oe==="normal"||oe==="small"||oe==="default"?se="Disable large mode":oe==="clean"||oe==="clear"||oe==="clear completed"?se="Delete all completed items":oe==="sort"?se="Sort items alphabetically":oe==="sort all"?se="Sort everything alphabetically":oe==="ungroup"||oe==="ungroup all"||oe==="flatten"?se="Remove all categories":oe==="emojify"?se="Toggle emoji mode":oe==="nuke"?se="Delete ALL items":oe==="title"&&(se="Generate list title"),{mode:"command",displayText:se}}if(ne.startsWith("theme:")||ne.startsWith("style:")){const oe=ne.startsWith("theme:")?"theme:":"style:";return{mode:"theme",displayText:F.slice(oe.length).trim()?"AI will generate theme":""}}return F.startsWith("!")?{mode:"manipulate",displayText:F.slice(1).trim()?"AI will reorganize list":""}:F.startsWith("...")?{mode:"ai",displayText:F.slice(3).trim()?"AI will generate items":""}:ne.startsWith("note:")?{mode:"note",displayText:F.slice(5).trim()?"Adding note":"Type your note..."}:F.includes(",")?{mode:"multiple",displayText:`Adding ${F.split(",").map(se=>se.trim()).filter(Boolean).length} items`}:{mode:"single",displayText:""}},[P]),X=w.useRef("single");w.useEffect(()=>{if(Ee==="note"&&X.current!=="note"&&Te.current){Te.current.focus();const G=Te.current.value.length;Te.current.setSelectionRange(G,G)}X.current=Ee},[Ee]);const le=async G=>{const ne=[...G.map(oe=>oe.trim()).filter(Boolean)].reverse();for(let oe=0;oe<ne.length;oe++)await a(ne[oe]),oe<ne.length-1&&await new Promise(se=>setTimeout(se,100))},ge=async(G=!1)=>{const ne=Pg(P).trim();if(!ne||Se.current)return;Se.current=!0,fe(null);const oe=P;J(""),he.current?.focus();try{const se=ne.toLowerCase();if(se.startsWith("--")){const ce=se.slice(2).trim();if(ce==="complete all"||ce==="complete"){p&&await p();return}if(ce==="uncomplete all"||ce==="uncomplete"||ce==="reset"){h&&await h();return}if(ce==="large"||ce==="big"){m&&await m(!0);return}if(ce==="normal"||ce==="small"||ce==="default"){m&&await m(!1);return}if(ce==="clean"||ce==="clear"||ce==="clear completed"){y&&await y();return}if(ce==="sort"){v&&await v(!1);return}if(ce==="sort all"){v&&await v(!0);return}if(ce==="ungroup"||ce==="ungroup all"||ce==="flatten"){_&&await _();return}if(ce==="emojify"){S&&await S();return}if(ce==="nuke"){j&&await j();return}if(ce==="title"){R&&await R();return}J(oe),fe("Unknown command");return}if(se.startsWith("theme:")||se.startsWith("style:")){const ce=se.startsWith("theme:")?"theme:":"style:",Oe=ne.slice(ce.length).trim();if(!Oe){J(oe);return}if(!c){fe("Theme generation not available"),J(oe);return}q(!0),ue("Generating theme...");try{await c(Oe)}catch(me){fe(me instanceof Error?me.message:"Theme generation failed"),J(oe)}finally{q(!1)}return}if(ne.startsWith("!")){const ce=ne.slice(1).trim();if(!ce){J(oe);return}if(!o){fe("List manipulation not available"),J(oe);return}q(!0),ue("Reorganizing list...");try{await o(ce)}catch(Oe){fe(Oe instanceof Error?Oe.message:"List manipulation failed"),J(oe)}finally{q(!1)}return}if(G||ne.startsWith("...")){const ce=ne.startsWith("...")?ne.slice(3).trim():ne;if(!ce){J(oe);return}q(!0),ue("AI is thinking...");try{const Oe=await i(ce);if(Oe.length>0)if(go(Oe))if(s)await s(Oe);else{const me=Oe.map(Ne=>Ne.content).filter(Ne=>!Ne.startsWith("#"));n&&me.length>1?await n(me):await le(me)}else n&&Oe.length>1?await n(Oe):await le(Oe)}catch(Oe){fe(Oe instanceof Error?Oe.message:"AI generation failed"),J(oe)}finally{q(!1)}return}if(se.startsWith("note:")){await a(ne);return}if(ne.includes(",")){const ce=ne.split(",").map(Oe=>Oe.trim()).filter(Boolean);n&&ce.length>1?await n(ce):await le(ce);return}await a(ne)}finally{Se.current=!1}},Re=G=>{if(G.key==="Enter"){if(Ee==="note"&&G.shiftKey)return;G.preventDefault();const F=G.ctrlKey||G.metaKey;ge(F)}},T=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),ge())},K=()=>E.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:[E.jsx("path",{d:"M12 0L13.5 8.5L22 10L13.5 11.5L12 20L10.5 11.5L2 10L10.5 8.5L12 0Z"}),E.jsx("path",{d:"M18 14L18.75 17.25L22 18L18.75 18.75L18 22L17.25 18.75L14 18L17.25 17.25L18 14Z",opacity:"0.7"}),E.jsx("path",{d:"M6 14L6.5 16.5L9 17L6.5 17.5L6 20L5.5 17.5L3 17L5.5 16.5L6 14Z",opacity:"0.5"})]}),H=()=>E.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:[E.jsx("path",{d:"M7.5 5.6L5 7L6.4 4.5L5 2L7.5 3.4L10 2L8.6 4.5L10 7L7.5 5.6Z"}),E.jsx("path",{d:"M19 11.5L17.5 9L16 11.5L13.5 10L15 12.5L13.5 15L16 13.5L17.5 16L19 13.5L21.5 15L20 12.5L21.5 10L19 11.5Z",opacity:"0.7"}),E.jsx("path",{d:"M21.41 8.59L15.41 2.59C15.03 2.21 14.41 2.21 14.03 2.59L2.59 14.03C2.21 14.41 2.21 15.03 2.59 15.41L8.59 21.41C8.97 21.79 9.59 21.79 9.97 21.41L21.41 9.97C21.79 9.59 21.79 8.97 21.41 8.59Z"})]}),M=Ee==="ai"||Ee==="manipulate"||Ee==="theme",I=Ee==="note",B=()=>E.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10zm-2-1h-6v-2h6v2zM7.5 17l-1.41-1.41L8.67 13l-2.59-2.59L7.5 9l4 4-4 4z"})}),te=()=>E.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 8 6.5 8 8 8.67 8 9.5 7.33 11 6.5 11zm3-4C8.67 7 8 6.33 8 5.5S8.67 4 9.5 4s1.5.67 1.5 1.5S10.33 7 9.5 7zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 4 14.5 4s1.5.67 1.5 1.5S15.33 7 14.5 7zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 8 17.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})}),ae=()=>E.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),re=G=>{J(G.target.value),fe(null),G.target.style.height="auto",G.target.style.height=G.target.scrollHeight+"px"};return E.jsxs("div",{className:"relative",style:{marginBottom:"16px"},children:[E.jsx("div",{className:`
          rounded relative
          transition-all duration-200
          ${Y?"border-[var(--primary)] bg-[var(--primary-pale)]":""}
          ${M&&P.trim().length>1?"border-[var(--primary-light)]":""}
        `,style:{paddingTop:"4px",paddingBottom:"4px",paddingLeft:"4px",paddingRight:"4px",border:Y?void 0:"1px solid var(--border-light)",...M&&P.trim().length>1?{borderColor:"var(--primary-light)"}:{}},children:I?E.jsx("textarea",{ref:Te,value:P,onChange:re,onKeyDown:T,placeholder:"note: Write your note here... (Shift+Enter for new line)",disabled:Y,rows:1,className:`
              w-full bg-transparent border-none outline-none resize-none
              transition-colors
              ${Y?"opacity-50":""}
            `,style:{color:"var(--text-primary)",minHeight:"24px"}}):E.jsx("input",{ref:he,type:"text",value:P,onChange:G=>{J(G.target.value),fe(null)},onKeyDown:Re,placeholder:C,disabled:Y,className:`
              w-full bg-transparent border-none outline-none
              transition-colors
              ${Y?"opacity-50":""}
            `,style:{color:"var(--text-primary)"}})}),U&&!Y&&E.jsxs("div",{className:"absolute left-0 flex items-center gap-1 text-xs text-white bg-[var(--primary)] px-2 py-0.5 rounded-sm",style:{top:"calc(100% + 4px)"},children:[Ee==="command"?E.jsx(B,{}):Ee==="theme"?E.jsx(te,{}):Ee==="manipulate"?E.jsx(H,{}):Ee==="note"?E.jsx(ae,{}):E.jsx(K,{}),U]}),Y&&E.jsxs("div",{className:"absolute left-0 flex items-center gap-1.5 text-xs text-white bg-[var(--primary)] px-2 py-0.5 rounded-sm",style:{top:"calc(100% + 4px)"},children:[E.jsx("span",{className:"inline-block w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}),ee]}),we&&E.jsx("div",{className:"absolute left-0 text-xs text-white px-2 py-0.5 rounded-sm",style:{top:"calc(100% + 4px)",backgroundColor:"var(--error)"},children:we})]})}function Xg({id:a,isActive:n}){const{setNodeRef:i}=ov({id:a});return n?E.jsx("div",{ref:i,style:{height:"60px",marginTop:"4px",marginBottom:"4px"}}):null}function mv(a,n=0,i=null){const s=[];return a.forEach(o=>{const c=o.content.startsWith("#"),f=c?o.id:i;s.push({item:o,depth:n,parentHeaderId:f}),o.children.length>0&&s.push(...mv(o.children,n+1,c?o.id:i))}),s}function eT(a){const n=[];let i=null;return a.forEach(s=>{if(s.item.content.startsWith("#"))i={headerId:s.item.id,items:[s]},n.push(i);else if(s.parentHeaderId){const c=n.find(f=>f.headerId===s.parentHeaderId);c?c.items.push(s):(i={headerId:s.parentHeaderId,items:[s]},n.push(i))}else n.push({headerId:null,items:[s]})}),n}function hi(a,n){for(const i of a){if(i.id===n)return i;if(i.children.length>0){const s=hi(i.children,n);if(s)return s}}return null}function gv(a,n){for(const i of a){if(i.content.startsWith("#")){for(const s of i.children)if(s.id===n)return i.id}if(i.children.length>0){const s=gv(i.children,n);if(s)return s}}return null}function Jg(a,n){const i=hi(a,n);return i?i.content.startsWith("#")?i.id:gv(a,n):null}function tT({items:a,newItemId:n,newItemIds:i,completingItemIds:s,largeMode:o,onToggle:c,onUpdate:f,onDelete:p,onIndent:h,onOutdent:m,onReorder:y,onMoveToGroup:v,onMoveToRoot:_,onAddItem:S,onAddItems:j,onManipulateList:R,onCategorizedGenerate:C,onThemeGenerate:k,onThemeReset:N,onCompleteAll:O,onUncompleteAll:P,onSetLargeMode:J,onClearCompleted:Y,onSort:q,onUngroupAll:ee,onToggleEmojify:ue,onNuke:we,onGenerateTitle:fe,hideBottomPadding:he,prefillValue:Te,onPrefillConsumed:Se}){const{generateItems:Ee}=Vd(),[U,X]=w.useState(null),[le,ge]=w.useState(!1),[Re,T]=w.useState(!1),[K,H]=w.useState(!1),[M,I]=w.useState(null),B=a.some(me=>me.content.startsWith("#")),te=bE(Ng(Qd,{activationConstraint:{distance:8}}),Ng(Xd,{coordinateGetter:Qx})),ae=me=>{const Ne=me.active.id,je=hi(a,Ne);I(Ne);const ye=je?!je.content.startsWith("#"):!1;ge(ye),T(ye&&je?!je.parent_id:!1),H(ye&&je?!!je.parent_id:!1)},re=me=>{const{over:Ne}=me;if(Ne?.id==="root-drop-zone-top"||Ne?.id==="root-drop-zone-bottom"){X(null);return}if(!le){X(null);return}if(Ne){const je=Jg(a,Ne.id);X(je)}else X(null)},G=async me=>{const{active:Ne,over:je}=me;if(X(null),ge(!1),T(!1),H(!1),I(null),!je)return;const ye=Ne.id,Ge=je.id,Je=hi(a,ye);if(Ge==="root-drop-zone-top"){if(Je?.parent_id)await _(ye,0);else{const Be=a.find(De=>!De.content.startsWith("#")&&!De.parent_id);Be&&Be.id!==ye&&await y(ye,Be.id)}return}else if(Ge==="root-drop-zone-bottom"){if(Je?.parent_id){const Be=a.filter(De=>!De.parent_id).reduce((De,jt)=>Math.max(De,jt.position),-1);await _(ye,Be+1)}else{const Be=a.filter(jt=>!jt.parent_id),De=Be[Be.length-1];De&&De.id!==ye&&await y(ye,De.id)}return}if(Ne.id!==je.id){const Be=Jg(a,Ge);if(!Je||Je.content.startsWith("#"))await y(ye,Ge);else if(Be)await v(ye,Be);else if(Je.parent_id){const jt=hi(a,Ge)?.position;await _(ye,jt)}else await y(ye,Ge)}},F=()=>{X(null),ge(!1),T(!1),H(!1),I(null)};w.useCallback(()=>{const me=new Set,Ne=je=>{for(const ye of je){if(ye.content.startsWith("#")){for(const Ge of ye.children)if(me.add(Ge.id),Ge.children.length>0){const Je=Be=>{for(const De of Be)me.add(De.id),De.children.length>0&&Je(De.children)};Je(Ge.children)}}ye.children.length>0&&Ne(ye.children)}};return Ne(a),me},[a]);const ne=w.useCallback(()=>{const me=new Map,Ne=je=>{for(const ye of je){if(ye.content.startsWith("#")){const Ge=(Je,Be)=>{for(const De of Je)me.set(De.id,Be),De.children.length>0&&Ge(De.children,Be)};Ge(ye.children,ye.id)}ye.children.length>0&&Ne(ye.children)}};return Ne(a),me},[a]),oe=w.useCallback(me=>{const{pointerCoordinates:Ne}=me,je=me.droppableContainers.filter(Je=>Je.id.startsWith("root-drop-zone"));if(je.length>0){const Je=Ky({...me,droppableContainers:je});if(Je.length>0)return Je;if(Ne){const Be=je.find(It=>It.id==="root-drop-zone-top"),De=je.find(It=>It.id==="root-drop-zone-bottom"),jt=me.droppableContainers.filter(It=>!It.id.startsWith("root-drop-zone"));if(jt.length>0){let It=1/0,Yt=-1/0;for(const Gt of jt){const de=Gt.rect.current;de&&(de.top<It&&(It=de.top),de.bottom>Yt&&(Yt=de.bottom))}if(Be&&Ne.y<It)return[{id:"root-drop-zone-top",data:{droppableContainer:Be}}];if(De&&Ne.y>Yt)return[{id:"root-drop-zone-bottom",data:{droppableContainer:De}}]}}}const ye=SE(me);if(!Re||ye.length===0)return ye;const Ge=ne();return ye.map(Je=>{const Be=Ge.get(Je.id);if(Be){const De=me.droppableContainers.find(jt=>jt.id===Be);if(De)return{...Je,id:Be,data:{droppableContainer:De}}}return Je})},[Re,ne]),se=mv(a),ce=se.map(me=>me.item.id),Oe=eT(se);return E.jsxs("div",{className:"space-y-1",style:{paddingBottom:he?"0":"80px"},children:[E.jsx(Fx,{onAdd:me=>S(me),onBulkAdd:me=>j(me),onAIGenerate:Ee,onAICategorizedGenerate:C,onAIManipulate:R,onThemeGenerate:k,onThemeReset:N,onCompleteAll:O,onUncompleteAll:P,onSetLargeMode:J,onClearCompleted:Y,onSort:q,onUngroupAll:ee,onToggleEmojify:ue,onNuke:we,onGenerateTitle:fe,prefillValue:Te,onPrefillConsumed:Se,autoFocus:!0}),E.jsxs(gx,{sensors:te,collisionDetection:oe,onDragStart:ae,onDragOver:re,onDragEnd:G,onDragCancel:F,children:[E.jsx(Xg,{id:"root-drop-zone-top",isActive:le&&B}),E.jsx($x,{items:ce,strategy:Bx,children:Oe.map(me=>{const Ne=me.headerId===U&&U!==null;if(me.headerId){const je=M===me.headerId;return E.jsx("div",{className:`
                    rounded-lg transition-all duration-200
                    ${Ne?"ring-2 ring-[var(--primary)] ring-opacity-50 bg-[var(--primary-pale)]":""}
                  `,style:je?{opacity:.4,backgroundColor:"var(--bg-primary)"}:void 0,children:me.items.map(({item:ye,depth:Ge})=>{const Je=!ye.content.startsWith("#"),Be=Re&&Je;return E.jsx(Yg,{item:ye,depth:Ge,isNew:ye.id===n||i.includes(ye.id),isCompleting:s.has(ye.id),isDropTarget:!1,largeMode:o,sortingDisabled:Be,onToggle:c,onUpdate:f,onDelete:p,onIndent:h,onOutdent:m,onAddItem:S},ye.id)})},`group-${me.headerId}`)}return me.items.map(({item:je,depth:ye})=>E.jsx("div",{className:"transition-all duration-200 rounded-lg",style:M===je.id?{opacity:.4,backgroundColor:"var(--bg-primary)"}:void 0,children:E.jsx(Yg,{item:je,depth:ye,isNew:je.id===n||i.includes(je.id),isCompleting:s.has(je.id),isDropTarget:!1,largeMode:o,onToggle:c,onUpdate:f,onDelete:p,onIndent:h,onOutdent:m,onAddItem:S})},je.id))})}),E.jsx(Xg,{id:"root-drop-zone-bottom",isActive:le&&B}),E.jsx(Ux,{dropAnimation:null,children:M&&(()=>{const me=hi(a,M);if(!me)return null;const Ne=me.content.startsWith("#"),je=Ne?me.content.slice(1).trim():me.content;if(!Ne)return E.jsx("div",{className:"bg-[var(--bg-primary)] rounded-lg px-4 py-2 shadow-xl",style:{boxShadow:"0 20px 40px rgba(0,0,0,0.15), 0 8px 16px rgba(0,0,0,0.1)",maxWidth:"400px"},children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center ${me.completed?"border-[var(--primary)] bg-[var(--primary)]":""}`,style:{borderColor:me.completed?void 0:"var(--border-medium)"},children:me.completed&&E.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),E.jsx("span",{style:{color:me.completed?"var(--text-muted)":"var(--text-primary)"},children:je})]})});const ye=me.children.length,Ge=Math.min(ye,4);return E.jsxs("div",{className:"relative",style:{minWidth:"320px"},children:[[...Array(Ge)].map((Je,Be)=>{const De=(Ge-Be)*4,jt=1-(Ge-Be)*.015;return E.jsx("div",{className:"absolute inset-0 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)",transform:`translateY(${De}px) scale(${jt})`,transformOrigin:"top center",zIndex:Be}},`card-${Be}`)}),E.jsx("div",{className:"relative rounded-xl px-6 py-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"0 25px 50px rgba(0,0,0,0.2), 0 10px 20px rgba(0,0,0,0.1)",zIndex:Ge+1},children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-[var(--primary)] font-bold",children:"#"}),E.jsx("span",{className:"font-semibold text-[var(--primary)] uppercase tracking-wide text-sm",children:je}),ye>0&&E.jsxs("span",{className:"ml-auto text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--primary-pale)",color:"var(--primary)"},children:[ye," item",ye!==1?"s":""]})]})})]})})()})]})]})}function nT(){const{listId:a}=ww(),[n,i]=w.useState(!1),[s,o]=w.useState(!1),[c,f]=w.useState(!1),[p,h]=w.useState(!1),[m,y]=w.useState(!1),[v,_]=w.useState(!1),[S,j]=w.useState(void 0),R=w.useRef(null),C=w.useRef(!1),k=w.useRef(!1),N=w.useRef(!1),{list:O,items:P,itemTree:J,loading:Y,error:q,newItemId:ee,newItemIds:ue,completingItemIds:we,createList:fe,updateTitle:he,updateTheme:Te,updateLargeMode:Se,addItem:Ee,addItems:U,insertItem:X,updateItem:le,toggleItem:ge,deleteItem:Re,reorderItems:T,moveToGroup:K,moveToRoot:H,indentItem:M,outdentItem:I,completeAll:B,uncompleteAll:te,clearCompleted:ae,sortItems:re,ungroupAll:G,nukeItems:F,toggleEmojifyMode:ne}=aE(a),{manipulateList:oe,generateItems:se}=Vd();w.useEffect(()=>{!Y&&!O&&!q&&fe()},[Y,O,q,fe]),w.useEffect(()=>{if(O&&!k.current){const de=new Date(O.created_at).getTime();if(Date.now()-de<3e4){k.current=!0,navigator.clipboard.writeText(window.location.href).catch(()=>{}),y(!0),_(!0),N.current=!0;const lt=setTimeout(()=>{y(!1),_(!1)},12e4);return()=>clearTimeout(lt)}}},[O]),w.useEffect(()=>{R.current&&clearTimeout(R.current);const de=P.filter(Le=>!Le.content.startsWith("#"));return O&&!O.title&&de.length>=3&&!C.current&&(R.current=setTimeout(async()=>{try{const Le=P.filter(Ue=>!Ue.completed&&!Ue.content.startsWith("#")).map(Ue=>Ue.content);if(Le.length===0)return;const lt=await fetch(Pn.title,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:Le})});if(lt.ok){const{title:Ue}=await lt.json();O.title||(C.current=!0,h(!0),await he(Ue),setTimeout(()=>h(!1),1500))}}catch(Le){console.error("Auto-title generation failed:",Le)}},2e3)),()=>{R.current&&clearTimeout(R.current)}},[P,O,he]);const ce=w.useCallback(de=>{const ie=document.documentElement;de?(ie.style.setProperty("--primary",de.primary),ie.style.setProperty("--primary-dark",de.primaryDark),ie.style.setProperty("--primary-light",de.primaryLight),ie.style.setProperty("--primary-pale",de.primaryPale),ie.style.setProperty("--primary-glow",de.primaryGlow),ie.style.setProperty("--text-primary",de.textPrimary),ie.style.setProperty("--text-secondary",de.textSecondary),ie.style.setProperty("--text-muted",de.textMuted),ie.style.setProperty("--text-placeholder",de.textPlaceholder),ie.style.setProperty("--bg-primary",de.bgPrimary),ie.style.setProperty("--bg-secondary",de.bgSecondary),ie.style.setProperty("--bg-hover",de.bgHover),ie.style.setProperty("--border-light",de.borderLight),ie.style.setProperty("--border-medium",de.borderMedium),ie.style.setProperty("--error",de.error)):(ie.style.removeProperty("--primary"),ie.style.removeProperty("--primary-dark"),ie.style.removeProperty("--primary-light"),ie.style.removeProperty("--primary-pale"),ie.style.removeProperty("--primary-glow"),ie.style.removeProperty("--text-primary"),ie.style.removeProperty("--text-secondary"),ie.style.removeProperty("--text-muted"),ie.style.removeProperty("--text-placeholder"),ie.style.removeProperty("--bg-primary"),ie.style.removeProperty("--bg-secondary"),ie.style.removeProperty("--bg-hover"),ie.style.removeProperty("--border-light"),ie.style.removeProperty("--border-medium"),ie.style.removeProperty("--error"))},[]);w.useEffect(()=>(O&&ce(O.theme),()=>{ce(null)}),[O,ce]);const Oe=async de=>{const ie=await fetch(Pn.theme,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:de})});if(!ie.ok){const lt=await ie.json();throw new Error(lt.error||"Theme generation failed")}const{theme:Le}=await ie.json();ce(Le),await Te(Le)},me=async()=>{ce(null),await Te(null)},Ne=async de=>{try{const ie=await fetch(Pn.emojify,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:de})});if(ie.ok){const{emoji:Le}=await ie.json();return`${Le} ${de}`}}catch(ie){console.error("Emojify failed:",ie)}return de},je=async(de,ie)=>{let Le=de;O?.emojify_mode&&!de.startsWith("#")&&!de.startsWith("--")&&(Le=await Ne(de)),await Ee(Le,ie)},ye=async(de,ie)=>{let Le=de;return O?.emojify_mode&&(Le=await Promise.all(de.map(async lt=>!lt.startsWith("#")&&!lt.startsWith("--")?await Ne(lt):lt))),await U(Le,ie)},Ge=()=>{f(!0)},Je=async()=>{await navigator.clipboard.writeText(window.location.href),i(!0),setTimeout(()=>i(!1),2e3)},Be=async()=>{let ie=`# ${O?.title||"Untitled List"}

`;const Le=P.filter(Ue=>!Ue.parent_id),lt={};P.forEach(Ue=>{Ue.parent_id&&(lt[Ue.parent_id]||(lt[Ue.parent_id]=[]),lt[Ue.parent_id].push(Ue))}),Le.forEach(Ue=>{if(Ue.content.startsWith("#"))ie+=`## ${Ue.content.slice(1).trim()}
`,(lt[Ue.id]||[]).forEach(Ze=>{const rt=Ze.completed?"[x]":"[ ]";ie+=`- ${rt} ${Ze.content}
`}),ie+=`
`;else{const at=Ue.completed?"[x]":"[ ]";ie+=`- ${at} ${Ue.content}
`}}),await navigator.clipboard.writeText(ie.trim()),o(!0),setTimeout(()=>o(!1),2e3)},De=()=>{f(!1),i(!1),o(!1)};w.useEffect(()=>{const de=ie=>{ie.key==="Escape"&&c&&De()};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[c]);const jt=async()=>{const de=P.filter(ie=>!ie.completed&&!ie.content.startsWith("#")).map(ie=>ie.content);if(de.length!==0)try{const ie=await fetch(Pn.title,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:de})});if(ie.ok){const{title:Le}=await ie.json();await he(Le)}}catch(ie){console.error("Title generation failed:",ie)}},It=async de=>{const ie=P.filter(Ze=>!Ze.completed);if(ie.length===0)throw new Error("No items to reorganize");const Le=await oe(ie,de),lt=Le.filter(Ze=>Ze.id.startsWith("new_")),Ue=Le.filter(Ze=>!Ze.id.startsWith("new_")),at={};for(const Ze of lt){const rt=await X({content:Ze.content,parent_id:null,position:Ze.position,completed:!1});rt&&(at[Ze.id]=rt.id)}for(const Ze of Ue){let rt=Ze.parent_id;rt&&at[rt]&&(rt=at[rt]),await le(Ze.id,{content:Ze.content,position:Ze.position,parent_id:rt})}},Yt=async de=>{if(de.trim())try{const ie=await se(de);ie.length>0&&(go(ie)?await Gt(ie):await U(ie))}catch(ie){console.error("Failed to process dictation:",ie)}},Gt=async de=>{if(de.length===0)return;const ie={},Le=de.filter(Ue=>!Ue.parent_id);for(const Ue of Le){const at=await X({content:Ue.content,parent_id:null,position:Ue.position,completed:!1});at&&(ie[Ue.id]=at.id)}const lt=de.filter(Ue=>Ue.parent_id);for(const Ue of lt){const at=Ue.parent_id?ie[Ue.parent_id]:null;await X({content:Ue.content,parent_id:at,position:Ue.position,completed:!1})}};return Y?E.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:E.jsx("div",{className:"text-[var(--primary)] animate-pulse",children:"Loading..."})}):q?E.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:E.jsx("div",{style:{color:"var(--error)"},children:q})}):E.jsxs("div",{className:"min-h-screen flex flex-col items-center",style:{backgroundColor:"var(--bg-primary)"},children:[E.jsxs("div",{className:"w-full max-w-lg pb-16",style:{paddingTop:"calc(env(safe-area-inset-top, 0px) + 8px)",paddingLeft:"8px",paddingRight:"8px"},children:[E.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[E.jsx(rE,{title:O?.title||null,onUpdate:he,isAutoGenerated:p}),c?E.jsxs("button",{onClick:De,className:"text-sm py-1.5 transition-all duration-200 flex items-center gap-1.5 hover:text-[var(--primary)] hover:bg-[var(--primary-pale)]",style:{paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px",color:"var(--text-muted)"},children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to list"]}):E.jsxs("button",{onClick:Ge,className:"text-sm py-1.5 transition-all duration-200 flex items-center gap-1.5 hover:text-[var(--primary)] hover:bg-[var(--primary-pale)]",style:{paddingLeft:"4px",paddingRight:"4px",borderRadius:"2px",color:"var(--text-muted)"},children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Share"]})]}),c?E.jsxs("div",{style:{paddingTop:"16px"},children:[E.jsx("div",{className:"text-sm px-4",style:{color:"var(--text-muted)",marginBottom:"16px"},children:"Anyone with this link can view and edit the list in real-time."}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[E.jsxs("button",{onClick:Je,className:"w-full flex items-center gap-3 py-3 px-4 rounded transition-all duration-150",style:{backgroundColor:n?"var(--primary-pale)":"transparent"},children:[n?E.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):E.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),E.jsx("span",{style:{color:n?"var(--primary)":"var(--text-primary)"},children:n?"Link copied!":"Copy link"})]}),E.jsxs("button",{onClick:Be,className:"w-full flex items-center gap-3 py-3 px-4 rounded transition-all duration-150",style:{backgroundColor:s?"var(--primary-pale)":"transparent"},children:[s?E.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):E.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--text-muted)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),E.jsx("span",{style:{color:s?"var(--primary)":"var(--text-primary)"},children:s?"Markdown copied!":"Copy as Markdown"})]})]})]}):E.jsx(tT,{items:J,newItemId:ee,newItemIds:ue,completingItemIds:we,largeMode:O?.large_mode||!1,onToggle:ge,onUpdate:async(de,ie)=>{await le(de,{content:ie})},onDelete:Re,onIndent:M,onOutdent:I,onReorder:async(de,ie)=>{await T(de,ie)},onMoveToGroup:K,onMoveToRoot:H,onAddItem:je,onAddItems:ye,onManipulateList:It,onCategorizedGenerate:Gt,onThemeGenerate:Oe,onThemeReset:O?.theme?me:void 0,onCompleteAll:B,onUncompleteAll:te,onSetLargeMode:Se,onClearCompleted:ae,onSort:re,onUngroupAll:G,onToggleEmojify:ne,onNuke:F,onGenerateTitle:jt,hideBottomPadding:m||v,prefillValue:S,onPrefillConsumed:()=>j(void 0)}),m&&!c&&E.jsx("div",{className:"flex items-center gap-3 rounded-lg group item-hover cursor-pointer",style:{marginBottom:v?"4px":"80px"},onClick:()=>{y(!1),f(!0)},children:E.jsxs("div",{className:"flex items-center gap-3 flex-1",style:{paddingTop:"2px",paddingBottom:"2px"},children:[E.jsx("div",{className:"w-4 h-4"}),E.jsx("button",{onClick:de=>{de.stopPropagation(),setTimeout(()=>y(!1),400)},className:"relative w-5 h-5 rounded-md border-2 flex items-center justify-center checkbox transition-all duration-150 hover:border-[var(--primary)]",style:{borderColor:"var(--border-medium)"}}),E.jsx("span",{style:{color:"var(--text-primary)"},children:"Link copied to clipboard. Don't lose your list, save it!"})]})}),v&&!c&&E.jsx("div",{className:"flex items-center gap-3 rounded-lg group item-hover cursor-pointer",style:{marginBottom:"80px"},onClick:()=>{_(!1),j("style: ")},children:E.jsxs("div",{className:"flex items-center gap-3 flex-1",style:{paddingTop:"2px",paddingBottom:"2px"},children:[E.jsx("div",{className:"w-4 h-4"}),E.jsx("button",{onClick:de=>{de.stopPropagation(),setTimeout(()=>_(!1),400)},className:"relative w-5 h-5 rounded-md border-2 flex items-center justify-center checkbox transition-all duration-150 hover:border-[var(--primary)]",style:{borderColor:"var(--border-medium)"}}),E.jsx("span",{style:{color:"var(--text-primary)"},children:"Write style: + describe to customize your list"})]})}),!c&&E.jsxs("div",{className:"mt-8 mb-8",children:[E.jsx("div",{style:{height:"1px",backgroundColor:"var(--border-light)",opacity:.5}}),E.jsxs("div",{className:"text-xs",style:{color:"var(--text-muted)",paddingTop:"16px"},children:[E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("svg",{className:"w-3.5 h-3.5",style:{color:"var(--primary)"},viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 0L13.5 8.5L22 10L13.5 11.5L12 20L10.5 11.5L2 10L10.5 8.5L12 0Z"})}),E.jsx("span",{style:{fontWeight:600,color:"var(--primary)"},children:"AI FEATURES"})]}),E.jsx("div",{style:{marginBottom:"12px",marginTop:"4px"},children:"Start your input with these prefixes"}),E.jsxs("div",{className:"space-y-2 pl-5",children:[E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--primary)",fontWeight:500},children:"!"})," AI list manipulation"]}),E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--primary)",fontWeight:500},children:"..."})," Generate items"]}),E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--primary)",fontWeight:500},children:"style:"})," Custom theme"]})]})]}),E.jsxs("div",{style:{paddingBottom:"60px"},children:[E.jsxs("div",{className:"flex items-center gap-2",style:{marginBottom:"12px"},children:[E.jsx("svg",{className:"w-3.5 h-3.5",style:{color:"var(--text-secondary)"},fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})}),E.jsx("span",{style:{fontWeight:600,color:"var(--text-secondary)"},children:"COMMANDS"})]}),E.jsxs("div",{className:"pl-5 space-y-2",children:[E.jsx("div",{children:"# Create categories"}),E.jsx("div",{children:"note: Add a note"}),E.jsx("div",{children:", (comma) Add multiple items"}),E.jsx("div",{style:{marginTop:"8px"},children:"--complete"}),E.jsx("div",{children:"--reset"}),E.jsx("div",{children:"--clean"}),E.jsx("div",{children:"--large"}),E.jsx("div",{children:"--emojify"}),E.jsx("div",{children:"--sort"}),E.jsx("div",{children:"--ungroup"}),E.jsx("div",{children:"--title"})]})]})]})]})]}),!c&&E.jsx(By,{onTranscription:Yt})]})}function aT(){return E.jsxs(Mw,{children:[E.jsx(gd,{path:"/",element:E.jsx(nE,{})}),E.jsx(gd,{path:"/:listId",element:E.jsx(nT,{})})]})}Lb.createRoot(document.getElementById("root")).render(E.jsx(dt.StrictMode,{children:E.jsx(i_,{children:E.jsx(aT,{})})}));
//# sourceMappingURL=index-CZW3mhO0.js.map
